import{R as te,p as i,a as d,v as Ar,w as kr}from"./chunk-OIYGIGL5-DlIDO_QI.js";import{R as Mr,a as Zt}from"./index-DmiBucFC.js";import{c as Ae,u as F,a as De,b as gt,d as M,e as oe,f as _e,g as pe,h as _,i as ke,D as Rt,j as Or,k as Ye,R as Jt,A as jt,l as Qt,C as en,V as Vr,m as Lr,n as Fr,T as Br,o as Hr}from"./index-BT1Ff97U.js";function tn(e){const t=e+"CollectionProvider",[n,r]=Ae(t),[a,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=l=>{const{scope:x,children:C}=l,E=te.useRef(null),N=te.useRef(new Map).current;return i.jsx(a,{scope:x,itemMap:N,collectionRef:E,children:C})};u.displayName=t;const c=e+"CollectionSlot",p=De(c),m=te.forwardRef((l,x)=>{const{scope:C,children:E}=l,N=s(c,C),R=F(x,N.collectionRef);return i.jsx(p,{ref:R,children:E})});m.displayName=c;const y=e+"CollectionItemSlot",v="data-radix-collection-item",S=De(y),T=te.forwardRef((l,x)=>{const{scope:C,children:E,...N}=l,R=te.useRef(null),b=F(x,R),L=s(y,C);return te.useEffect(()=>(L.itemMap.set(R,{ref:R,...N}),()=>void L.itemMap.delete(R))),i.jsx(S,{[v]:"",ref:b,children:E})});T.displayName=y;function I(l){const x=s(e+"CollectionConsumer",l);return te.useCallback(()=>{const E=x.collectionRef.current;if(!E)return[];const N=Array.from(E.querySelectorAll(`[${v}]`));return Array.from(x.itemMap.values()).sort((L,A)=>N.indexOf(L.ref.current)-N.indexOf(A.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:u,Slot:m,ItemSlot:T},I,r]}var $r=d.createContext(void 0);function nn(e){const t=d.useContext($r);return e||t||"ltr"}var st="focusScope.autoFocusOnMount",ct="focusScope.autoFocusOnUnmount",Lt={bubbles:!1,cancelable:!0},Kr="FocusScope",ze=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...u}=e,[c,p]=d.useState(null),m=gt(a),y=gt(s),v=d.useRef(null),S=F(t,l=>p(l)),T=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let l=function(N){if(T.paused||!c)return;const R=N.target;c.contains(R)?v.current=R:se(v.current,{select:!0})},x=function(N){if(T.paused||!c)return;const R=N.relatedTarget;R!==null&&(c.contains(R)||se(v.current,{select:!0}))},C=function(N){if(document.activeElement===document.body)for(const b of N)b.removedNodes.length>0&&se(c)};document.addEventListener("focusin",l),document.addEventListener("focusout",x);const E=new MutationObserver(C);return c&&E.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",l),document.removeEventListener("focusout",x),E.disconnect()}}},[r,c,T.paused]),d.useEffect(()=>{if(c){Bt.add(T);const l=document.activeElement;if(!c.contains(l)){const C=new CustomEvent(st,Lt);c.addEventListener(st,m),c.dispatchEvent(C),C.defaultPrevented||(Ur(zr(rn(c)),{select:!0}),document.activeElement===l&&se(c))}return()=>{c.removeEventListener(st,m),setTimeout(()=>{const C=new CustomEvent(ct,Lt);c.addEventListener(ct,y),c.dispatchEvent(C),C.defaultPrevented||se(l??document.body,{select:!0}),c.removeEventListener(ct,y),Bt.remove(T)},0)}}},[c,m,y,T]);const I=d.useCallback(l=>{if(!n&&!r||T.paused)return;const x=l.key==="Tab"&&!l.altKey&&!l.ctrlKey&&!l.metaKey,C=document.activeElement;if(x&&C){const E=l.currentTarget,[N,R]=Wr(E);N&&R?!l.shiftKey&&C===R?(l.preventDefault(),n&&se(N,{select:!0})):l.shiftKey&&C===N&&(l.preventDefault(),n&&se(R,{select:!0})):C===E&&l.preventDefault()}},[n,r,T.paused]);return i.jsx(M.div,{tabIndex:-1,...u,ref:S,onKeyDown:I})});ze.displayName=Kr;function Ur(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(se(r,{select:t}),document.activeElement!==n)return}function Wr(e){const t=rn(e),n=Ft(t,e),r=Ft(t.reverse(),e);return[n,r]}function rn(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ft(e,t){for(const n of e)if(!Gr(n,{upTo:t}))return n}function Gr(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function qr(e){return e instanceof HTMLInputElement&&"select"in e}function se(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&qr(e)&&t&&e.select()}}var Bt=Yr();function Yr(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Ht(e,t),e.unshift(t)},remove(t){e=Ht(e,t),e[0]?.resume()}}}function Ht(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function zr(e){return e.filter(t=>t.tagName!=="A")}var Xr="Portal",Xe=d.forwardRef((e,t)=>{const{container:n,...r}=e,[a,s]=d.useState(!1);oe(()=>s(!0),[]);const u=n||a&&globalThis?.document?.body;return u?Mr.createPortal(i.jsx(M.div,{...r,ref:t}),u):null});Xe.displayName=Xr;var lt=0;function It(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$t()),document.body.insertAdjacentElement("beforeend",e[1]??$t()),lt++,()=>{lt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lt--}},[])}function $t(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var re=function(){return re=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},re.apply(this,arguments)};function on(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Zr(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var $e="right-scroll-bar-position",Ke="width-before-scroll-bar",Jr="with-scroll-bars-hidden",Qr="--removed-body-scroll-bar-size";function ut(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function eo(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var to=typeof window<"u"?d.useLayoutEffect:d.useEffect,Kt=new WeakMap;function no(e,t){var n=eo(null,function(r){return e.forEach(function(a){return ut(a,r)})});return to(function(){var r=Kt.get(n);if(r){var a=new Set(r),s=new Set(e),u=n.current;a.forEach(function(c){s.has(c)||ut(c,null)}),s.forEach(function(c){a.has(c)||ut(c,u)})}Kt.set(n,e)},[e]),n}function ro(e){return e}function oo(e,t){t===void 0&&(t=ro);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var u=t(s,r);return n.push(u),function(){n=n.filter(function(c){return c!==u})}},assignSyncMedium:function(s){for(r=!0;n.length;){var u=n;n=[],u.forEach(s)}n={push:function(c){return s(c)},filter:function(){return n}}},assignMedium:function(s){r=!0;var u=[];if(n.length){var c=n;n=[],c.forEach(s),u=n}var p=function(){var y=u;u=[],y.forEach(s)},m=function(){return Promise.resolve().then(p)};m(),n={push:function(y){u.push(y),m()},filter:function(y){return u=u.filter(y),n}}}};return a}function io(e){e===void 0&&(e={});var t=oo(null);return t.options=re({async:!0,ssr:!1},e),t}var an=function(e){var t=e.sideCar,n=on(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,re({},n))};an.isSideCarExport=!0;function ao(e,t){return e.useMedium(t),an}var sn=io(),dt=function(){},Ze=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:dt,onWheelCapture:dt,onTouchMoveCapture:dt}),a=r[0],s=r[1],u=e.forwardProps,c=e.children,p=e.className,m=e.removeScrollBar,y=e.enabled,v=e.shards,S=e.sideCar,T=e.noRelative,I=e.noIsolation,l=e.inert,x=e.allowPinchZoom,C=e.as,E=C===void 0?"div":C,N=e.gapMode,R=on(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=S,L=no([n,t]),A=re(re({},R),a);return d.createElement(d.Fragment,null,y&&d.createElement(b,{sideCar:sn,removeScrollBar:m,shards:v,noRelative:T,noIsolation:I,inert:l,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:N}),u?d.cloneElement(d.Children.only(c),re(re({},A),{ref:L})):d.createElement(E,re({},A,{className:p,ref:L}),c))});Ze.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ze.classNames={fullWidth:Ke,zeroRight:$e};var so=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function co(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=so();return t&&e.setAttribute("nonce",t),e}function lo(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function uo(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ho=function(){var e=0,t=null;return{add:function(n){e==0&&(t=co())&&(lo(t,n),uo(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fo=function(){var e=ho();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},cn=function(){var e=fo(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},po={left:0,top:0,right:0,gap:0},ht=function(e){return parseInt(e||"",10)||0},vo=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ht(n),ht(r),ht(a)]},mo=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return po;var t=vo(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},go=cn(),Ne="data-scroll-locked",xo=function(e,t,n,r){var a=e.left,s=e.top,u=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Jr,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Ne,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($e,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ke,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat($e," .").concat($e,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ke," .").concat(Ke,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ne,`] {
    `).concat(Qr,": ").concat(c,`px;
  }
`)},Ut=function(){var e=parseInt(document.body.getAttribute(Ne)||"0",10);return isFinite(e)?e:0},yo=function(){d.useEffect(function(){return document.body.setAttribute(Ne,(Ut()+1).toString()),function(){var e=Ut()-1;e<=0?document.body.removeAttribute(Ne):document.body.setAttribute(Ne,e.toString())}},[])},bo=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;yo();var s=d.useMemo(function(){return mo(a)},[a]);return d.createElement(go,{styles:xo(s,!t,a,n?"":"!important")})},xt=!1;if(typeof window<"u")try{var Ve=Object.defineProperty({},"passive",{get:function(){return xt=!0,!0}});window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch{xt=!1}var Ee=xt?{passive:!1}:!1,So=function(e){return e.tagName==="TEXTAREA"},ln=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!So(e)&&n[t]==="visible")},Eo=function(e){return ln(e,"overflowY")},Co=function(e){return ln(e,"overflowX")},Wt=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=un(e,r);if(a){var s=dn(e,r),u=s[1],c=s[2];if(u>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},wo=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},To=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},un=function(e,t){return e==="v"?Eo(t):Co(t)},dn=function(e,t){return e==="v"?wo(t):To(t)},No=function(e,t){return e==="h"&&t==="rtl"?-1:1},Po=function(e,t,n,r,a){var s=No(e,window.getComputedStyle(t).direction),u=s*r,c=n.target,p=t.contains(c),m=!1,y=u>0,v=0,S=0;do{if(!c)break;var T=dn(e,c),I=T[0],l=T[1],x=T[2],C=l-x-s*I;(I||C)&&un(e,c)&&(v+=C,S+=I);var E=c.parentNode;c=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!p&&c!==document.body||p&&(t.contains(c)||t===c));return(y&&Math.abs(v)<1||!y&&Math.abs(S)<1)&&(m=!0),m},Le=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Gt=function(e){return[e.deltaX,e.deltaY]},qt=function(e){return e&&"current"in e?e.current:e},Ro=function(e,t){return e[0]===t[0]&&e[1]===t[1]},jo=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Io=0,Ce=[];function Do(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),a=d.useState(Io++)[0],s=d.useState(cn)[0],u=d.useRef(e);d.useEffect(function(){u.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var l=Zr([e.lockRef.current],(e.shards||[]).map(qt),!0).filter(Boolean);return l.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),l.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=d.useCallback(function(l,x){if("touches"in l&&l.touches.length===2||l.type==="wheel"&&l.ctrlKey)return!u.current.allowPinchZoom;var C=Le(l),E=n.current,N="deltaX"in l?l.deltaX:E[0]-C[0],R="deltaY"in l?l.deltaY:E[1]-C[1],b,L=l.target,A=Math.abs(N)>Math.abs(R)?"h":"v";if("touches"in l&&A==="h"&&L.type==="range")return!1;var B=Wt(A,L);if(!B)return!0;if(B?b=A:(b=A==="v"?"h":"v",B=Wt(A,L)),!B)return!1;if(!r.current&&"changedTouches"in l&&(N||R)&&(r.current=b),!b)return!0;var G=r.current||b;return Po(G,x,l,G==="h"?N:R)},[]),p=d.useCallback(function(l){var x=l;if(!(!Ce.length||Ce[Ce.length-1]!==s)){var C="deltaY"in x?Gt(x):Le(x),E=t.current.filter(function(b){return b.name===x.type&&(b.target===x.target||x.target===b.shadowParent)&&Ro(b.delta,C)})[0];if(E&&E.should){x.cancelable&&x.preventDefault();return}if(!E){var N=(u.current.shards||[]).map(qt).filter(Boolean).filter(function(b){return b.contains(x.target)}),R=N.length>0?c(x,N[0]):!u.current.noIsolation;R&&x.cancelable&&x.preventDefault()}}},[]),m=d.useCallback(function(l,x,C,E){var N={name:l,delta:x,target:C,should:E,shadowParent:_o(C)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(R){return R!==N})},1)},[]),y=d.useCallback(function(l){n.current=Le(l),r.current=void 0},[]),v=d.useCallback(function(l){m(l.type,Gt(l),l.target,c(l,e.lockRef.current))},[]),S=d.useCallback(function(l){m(l.type,Le(l),l.target,c(l,e.lockRef.current))},[]);d.useEffect(function(){return Ce.push(s),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:S}),document.addEventListener("wheel",p,Ee),document.addEventListener("touchmove",p,Ee),document.addEventListener("touchstart",y,Ee),function(){Ce=Ce.filter(function(l){return l!==s}),document.removeEventListener("wheel",p,Ee),document.removeEventListener("touchmove",p,Ee),document.removeEventListener("touchstart",y,Ee)}},[]);var T=e.removeScrollBar,I=e.inert;return d.createElement(d.Fragment,null,I?d.createElement(s,{styles:jo(a)}):null,T?d.createElement(bo,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function _o(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ao=ao(sn,Do);var Je=d.forwardRef(function(e,t){return d.createElement(Ze,re({},e,{ref:t,sideCar:Ao}))});Je.classNames=Ze.classNames;var ko=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},we=new WeakMap,Fe=new WeakMap,Be={},ft=0,hn=function(e){return e&&(e.host||hn(e.parentNode))},Mo=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=hn(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Oo=function(e,t,n,r){var a=Mo(t,Array.isArray(e)?e:[e]);Be[n]||(Be[n]=new WeakMap);var s=Be[n],u=[],c=new Set,p=new Set(a),m=function(v){!v||c.has(v)||(c.add(v),m(v.parentNode))};a.forEach(m);var y=function(v){!v||p.has(v)||Array.prototype.forEach.call(v.children,function(S){if(c.has(S))y(S);else try{var T=S.getAttribute(r),I=T!==null&&T!=="false",l=(we.get(S)||0)+1,x=(s.get(S)||0)+1;we.set(S,l),s.set(S,x),u.push(S),l===1&&I&&Fe.set(S,!0),x===1&&S.setAttribute(n,"true"),I||S.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",S,C)}})};return y(t),c.clear(),ft++,function(){u.forEach(function(v){var S=we.get(v)-1,T=s.get(v)-1;we.set(v,S),s.set(v,T),S||(Fe.has(v)||v.removeAttribute(r),Fe.delete(v)),T||v.removeAttribute(n)}),ft--,ft||(we=new WeakMap,we=new WeakMap,Fe=new WeakMap,Be={})}},Dt=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=ko(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),Oo(r,a,n,"aria-hidden")):function(){return null}},Qe="Dialog",[fn]=Ae(Qe),[Vo,ne]=fn(Qe),pn=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:s,modal:u=!0}=e,c=d.useRef(null),p=d.useRef(null),[m,y]=_e({prop:r,defaultProp:a??!1,onChange:s,caller:Qe});return i.jsx(Vo,{scope:t,triggerRef:c,contentRef:p,contentId:pe(),titleId:pe(),descriptionId:pe(),open:m,onOpenChange:y,onOpenToggle:d.useCallback(()=>y(v=>!v),[y]),modal:u,children:n})};pn.displayName=Qe;var vn="DialogTrigger",mn=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ne(vn,n),s=F(t,a.triggerRef);return i.jsx(M.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":kt(a.open),...r,ref:s,onClick:_(e.onClick,a.onOpenToggle)})});mn.displayName=vn;var _t="DialogPortal",[Lo,gn]=fn(_t,{forceMount:void 0}),xn=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,s=ne(_t,t);return i.jsx(Lo,{scope:t,forceMount:n,children:d.Children.map(r,u=>i.jsx(ke,{present:n||s.open,children:i.jsx(Xe,{asChild:!0,container:a,children:u})}))})};xn.displayName=_t;var Ue="DialogOverlay",yn=d.forwardRef((e,t)=>{const n=gn(Ue,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,s=ne(Ue,e.__scopeDialog);return s.modal?i.jsx(ke,{present:r||s.open,children:i.jsx(Bo,{...a,ref:t})}):null});yn.displayName=Ue;var Fo=De("DialogOverlay.RemoveScroll"),Bo=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ne(Ue,n);return i.jsx(Je,{as:Fo,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(M.div,{"data-state":kt(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ve="DialogContent",bn=d.forwardRef((e,t)=>{const n=gn(ve,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,s=ne(ve,e.__scopeDialog);return i.jsx(ke,{present:r||s.open,children:s.modal?i.jsx(Ho,{...a,ref:t}):i.jsx($o,{...a,ref:t})})});bn.displayName=ve;var Ho=d.forwardRef((e,t)=>{const n=ne(ve,e.__scopeDialog),r=d.useRef(null),a=F(t,n.contentRef,r);return d.useEffect(()=>{const s=r.current;if(s)return Dt(s)},[]),i.jsx(Sn,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_(e.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:_(e.onPointerDownOutside,s=>{const u=s.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0;(u.button===2||c)&&s.preventDefault()}),onFocusOutside:_(e.onFocusOutside,s=>s.preventDefault())})}),$o=d.forwardRef((e,t)=>{const n=ne(ve,e.__scopeDialog),r=d.useRef(!1),a=d.useRef(!1);return i.jsx(Sn,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=s.target;n.triggerRef.current?.contains(u)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),Sn=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:s,...u}=e,c=ne(ve,n),p=d.useRef(null),m=F(t,p);return It(),i.jsxs(i.Fragment,{children:[i.jsx(ze,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Rt,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":kt(c.open),...u,ref:m,onDismiss:()=>c.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(Ko,{titleId:c.titleId}),i.jsx(Wo,{contentRef:p,descriptionId:c.descriptionId})]})]})}),At="DialogTitle",En=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ne(At,n);return i.jsx(M.h2,{id:a.titleId,...r,ref:t})});En.displayName=At;var Cn="DialogDescription",wn=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ne(Cn,n);return i.jsx(M.p,{id:a.descriptionId,...r,ref:t})});wn.displayName=Cn;var Tn="DialogClose",Nn=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ne(Tn,n);return i.jsx(M.button,{type:"button",...r,ref:t,onClick:_(e.onClick,()=>a.onOpenChange(!1))})});Nn.displayName=Tn;function kt(e){return e?"open":"closed"}var Pn="DialogTitleWarning",[Fa,Rn]=Or(Pn,{contentName:ve,titleName:At,docsSlug:"dialog"}),Ko=({titleId:e})=>{const t=Rn(Pn),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Uo="DialogDescriptionWarning",Wo=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Rn(Uo).contentName}}.`;return d.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Go=pn,qo=mn,Yo=xn,zo=yn,Xo=bn,Zo=En,Jo=wn,Qo=Nn;function jn(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function We(e,[t,n]){return Math.min(n,Math.max(t,e))}var et="Popover",[In]=Ae(et,[Ye]),Me=Ye(),[ei,ce]=In(et),Dn=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:s,modal:u=!1}=e,c=Me(t),p=d.useRef(null),[m,y]=d.useState(!1),[v,S]=_e({prop:r,defaultProp:a??!1,onChange:s,caller:et});return i.jsx(Jt,{...c,children:i.jsx(ei,{scope:t,contentId:pe(),triggerRef:p,open:v,onOpenChange:S,onOpenToggle:d.useCallback(()=>S(T=>!T),[S]),hasCustomAnchor:m,onCustomAnchorAdd:d.useCallback(()=>y(!0),[]),onCustomAnchorRemove:d.useCallback(()=>y(!1),[]),modal:u,children:n})})};Dn.displayName=et;var _n="PopoverAnchor",ti=d.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=ce(_n,n),s=Me(n),{onCustomAnchorAdd:u,onCustomAnchorRemove:c}=a;return d.useEffect(()=>(u(),()=>c()),[u,c]),i.jsx(jt,{...s,...r,ref:t})});ti.displayName=_n;var An="PopoverTrigger",kn=d.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=ce(An,n),s=Me(n),u=F(t,a.triggerRef),c=i.jsx(M.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Hn(a.open),...r,ref:u,onClick:_(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?c:i.jsx(jt,{asChild:!0,...s,children:c})});kn.displayName=An;var Mt="PopoverPortal",[ni,ri]=In(Mt,{forceMount:void 0}),Mn=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,s=ce(Mt,t);return i.jsx(ni,{scope:t,forceMount:n,children:i.jsx(ke,{present:n||s.open,children:i.jsx(Xe,{asChild:!0,container:a,children:r})})})};Mn.displayName=Mt;var Pe="PopoverContent",On=d.forwardRef((e,t)=>{const n=ri(Pe,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,s=ce(Pe,e.__scopePopover);return i.jsx(ke,{present:r||s.open,children:s.modal?i.jsx(ii,{...a,ref:t}):i.jsx(ai,{...a,ref:t})})});On.displayName=Pe;var oi=De("PopoverContent.RemoveScroll"),ii=d.forwardRef((e,t)=>{const n=ce(Pe,e.__scopePopover),r=d.useRef(null),a=F(t,r),s=d.useRef(!1);return d.useEffect(()=>{const u=r.current;if(u)return Dt(u)},[]),i.jsx(Je,{as:oi,allowPinchZoom:!0,children:i.jsx(Vn,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_(e.onCloseAutoFocus,u=>{u.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:_(e.onPointerDownOutside,u=>{const c=u.detail.originalEvent,p=c.button===0&&c.ctrlKey===!0,m=c.button===2||p;s.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:_(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),ai=d.forwardRef((e,t)=>{const n=ce(Pe,e.__scopePopover),r=d.useRef(!1),a=d.useRef(!1);return i.jsx(Vn,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=s.target;n.triggerRef.current?.contains(u)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),Vn=d.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:u,onEscapeKeyDown:c,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:y,...v}=e,S=ce(Pe,n),T=Me(n);return It(),i.jsx(ze,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Rt,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:y,onEscapeKeyDown:c,onPointerDownOutside:p,onFocusOutside:m,onDismiss:()=>S.onOpenChange(!1),children:i.jsx(en,{"data-state":Hn(S.open),role:"dialog",id:S.contentId,...T,...v,ref:t,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ln="PopoverClose",Fn=d.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=ce(Ln,n);return i.jsx(M.button,{type:"button",...r,ref:t,onClick:_(e.onClick,()=>a.onOpenChange(!1))})});Fn.displayName=Ln;var si="PopoverArrow",Bn=d.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Me(n);return i.jsx(Qt,{...a,...r,ref:t})});Bn.displayName=si;function Hn(e){return e?"open":"closed"}var $n=Dn,Kn=kn,Un=Mn,Wn=On,ci=Fn,li=Bn,ui=[" ","Enter","ArrowUp","ArrowDown"],di=[" ","Enter"],me="Select",[tt,nt,hi]=tn(me),[Re]=Ae(me,[hi,Ye]),rt=Ye(),[fi,le]=Re(me),[pi,vi]=Re(me),Gn=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:s,value:u,defaultValue:c,onValueChange:p,dir:m,name:y,autoComplete:v,disabled:S,required:T,form:I}=e,l=rt(t),[x,C]=d.useState(null),[E,N]=d.useState(null),[R,b]=d.useState(!1),L=nn(m),[A,B]=_e({prop:r,defaultProp:a??!1,onChange:s,caller:me}),[G,z]=_e({prop:u,defaultProp:c,onChange:p,caller:me}),k=d.useRef(null),H=x?I||!!x.closest("form"):!0,[Z,K]=d.useState(new Set),U=Array.from(Z).map(O=>O.props.value).join(";");return i.jsx(Jt,{...l,children:i.jsxs(fi,{required:T,scope:t,trigger:x,onTriggerChange:C,valueNode:E,onValueNodeChange:N,valueNodeHasChildren:R,onValueNodeHasChildrenChange:b,contentId:pe(),value:G,onValueChange:z,open:A,onOpenChange:B,dir:L,triggerPointerDownPosRef:k,disabled:S,children:[i.jsx(tt.Provider,{scope:t,children:i.jsx(pi,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(O=>{K($=>new Set($).add(O))},[]),onNativeOptionRemove:d.useCallback(O=>{K($=>{const W=new Set($);return W.delete(O),W})},[]),children:n})}),H?i.jsxs(pr,{"aria-hidden":!0,required:T,tabIndex:-1,name:y,autoComplete:v,value:G,onChange:O=>z(O.target.value),disabled:S,form:I,children:[G===void 0?i.jsx("option",{value:""}):null,Array.from(Z)]},U):null]})})};Gn.displayName=me;var qn="SelectTrigger",Yn=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,s=rt(n),u=le(qn,n),c=u.disabled||r,p=F(t,u.onTriggerChange),m=nt(n),y=d.useRef("touch"),[v,S,T]=mr(l=>{const x=m().filter(N=>!N.disabled),C=x.find(N=>N.value===u.value),E=gr(x,l,C);E!==void 0&&u.onValueChange(E.value)}),I=l=>{c||(u.onOpenChange(!0),T()),l&&(u.triggerPointerDownPosRef.current={x:Math.round(l.pageX),y:Math.round(l.pageY)})};return i.jsx(jt,{asChild:!0,...s,children:i.jsx(M.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":vr(u.value)?"":void 0,...a,ref:p,onClick:_(a.onClick,l=>{l.currentTarget.focus(),y.current!=="mouse"&&I(l)}),onPointerDown:_(a.onPointerDown,l=>{y.current=l.pointerType;const x=l.target;x.hasPointerCapture(l.pointerId)&&x.releasePointerCapture(l.pointerId),l.button===0&&l.ctrlKey===!1&&l.pointerType==="mouse"&&(I(l),l.preventDefault())}),onKeyDown:_(a.onKeyDown,l=>{const x=v.current!=="";!(l.ctrlKey||l.altKey||l.metaKey)&&l.key.length===1&&S(l.key),!(x&&l.key===" ")&&ui.includes(l.key)&&(I(),l.preventDefault())})})})});Yn.displayName=qn;var zn="SelectValue",Xn=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:s,placeholder:u="",...c}=e,p=le(zn,n),{onValueNodeHasChildrenChange:m}=p,y=s!==void 0,v=F(t,p.onValueNodeChange);return oe(()=>{m(y)},[m,y]),i.jsx(M.span,{...c,ref:v,style:{pointerEvents:"none"},children:vr(p.value)?i.jsx(i.Fragment,{children:u}):s})});Xn.displayName=zn;var mi="SelectIcon",gi=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return i.jsx(M.span,{"aria-hidden":!0,...a,ref:t,children:r||"▼"})});gi.displayName=mi;var xi="SelectPortal",Zn=e=>i.jsx(Xe,{asChild:!0,...e});Zn.displayName=xi;var ge="SelectContent",Jn=d.forwardRef((e,t)=>{const n=le(ge,e.__scopeSelect),[r,a]=d.useState();if(oe(()=>{a(new DocumentFragment)},[]),!n.open){const s=r;return s?Zt.createPortal(i.jsx(Qn,{scope:e.__scopeSelect,children:i.jsx(tt.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(er,{...e,ref:t})});Jn.displayName=ge;var ee=10,[Qn,ue]=Re(ge),yi="SelectContentImpl",bi=De("SelectContent.RemoveScroll"),er=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:u,side:c,sideOffset:p,align:m,alignOffset:y,arrowPadding:v,collisionBoundary:S,collisionPadding:T,sticky:I,hideWhenDetached:l,avoidCollisions:x,...C}=e,E=le(ge,n),[N,R]=d.useState(null),[b,L]=d.useState(null),A=F(t,D=>R(D)),[B,G]=d.useState(null),[z,k]=d.useState(null),H=nt(n),[Z,K]=d.useState(!1),U=d.useRef(!1);d.useEffect(()=>{if(N)return Dt(N)},[N]),It();const O=d.useCallback(D=>{const[f,...o]=H().map(w=>w.ref.current),[h]=o.slice(-1),g=document.activeElement;for(const w of D)if(w===g||(w?.scrollIntoView({block:"nearest"}),w===f&&b&&(b.scrollTop=0),w===h&&b&&(b.scrollTop=b.scrollHeight),w?.focus(),document.activeElement!==g))return},[H,b]),$=d.useCallback(()=>O([B,N]),[O,B,N]);d.useEffect(()=>{Z&&$()},[Z,$]);const{onOpenChange:W,triggerPointerDownPosRef:J}=E;d.useEffect(()=>{if(N){let D={x:0,y:0};const f=h=>{D={x:Math.abs(Math.round(h.pageX)-(J.current?.x??0)),y:Math.abs(Math.round(h.pageY)-(J.current?.y??0))}},o=h=>{D.x<=10&&D.y<=10?h.preventDefault():N.contains(h.target)||W(!1),document.removeEventListener("pointermove",f),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",f),document.addEventListener("pointerup",o,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",f),document.removeEventListener("pointerup",o,{capture:!0})}}},[N,W,J]),d.useEffect(()=>{const D=()=>W(!1);return window.addEventListener("blur",D),window.addEventListener("resize",D),()=>{window.removeEventListener("blur",D),window.removeEventListener("resize",D)}},[W]);const[xe,de]=mr(D=>{const f=H().filter(g=>!g.disabled),o=f.find(g=>g.ref.current===document.activeElement),h=gr(f,D,o);h&&setTimeout(()=>h.ref.current.focus())}),ye=d.useCallback((D,f,o)=>{const h=!U.current&&!o;(E.value!==void 0&&E.value===f||h)&&(G(D),h&&(U.current=!0))},[E.value]),be=d.useCallback(()=>N?.focus(),[N]),ie=d.useCallback((D,f,o)=>{const h=!U.current&&!o;(E.value!==void 0&&E.value===f||h)&&k(D)},[E.value]),Se=r==="popper"?yt:tr,he=Se===yt?{side:c,sideOffset:p,align:m,alignOffset:y,arrowPadding:v,collisionBoundary:S,collisionPadding:T,sticky:I,hideWhenDetached:l,avoidCollisions:x}:{};return i.jsx(Qn,{scope:n,content:N,viewport:b,onViewportChange:L,itemRefCallback:ye,selectedItem:B,onItemLeave:be,itemTextRefCallback:ie,focusSelectedItem:$,selectedItemText:z,position:r,isPositioned:Z,searchRef:xe,children:i.jsx(Je,{as:bi,allowPinchZoom:!0,children:i.jsx(ze,{asChild:!0,trapped:E.open,onMountAutoFocus:D=>{D.preventDefault()},onUnmountAutoFocus:_(a,D=>{E.trigger?.focus({preventScroll:!0}),D.preventDefault()}),children:i.jsx(Rt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:u,onFocusOutside:D=>D.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:i.jsx(Se,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:D=>D.preventDefault(),...C,...he,onPlaced:()=>K(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:_(C.onKeyDown,D=>{const f=D.ctrlKey||D.altKey||D.metaKey;if(D.key==="Tab"&&D.preventDefault(),!f&&D.key.length===1&&de(D.key),["ArrowUp","ArrowDown","Home","End"].includes(D.key)){let h=H().filter(g=>!g.disabled).map(g=>g.ref.current);if(["ArrowUp","End"].includes(D.key)&&(h=h.slice().reverse()),["ArrowUp","ArrowDown"].includes(D.key)){const g=D.target,w=h.indexOf(g);h=h.slice(w+1)}setTimeout(()=>O(h)),D.preventDefault()}})})})})})})});er.displayName=yi;var Si="SelectItemAlignedPosition",tr=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,s=le(ge,n),u=ue(ge,n),[c,p]=d.useState(null),[m,y]=d.useState(null),v=F(t,A=>y(A)),S=nt(n),T=d.useRef(!1),I=d.useRef(!0),{viewport:l,selectedItem:x,selectedItemText:C,focusSelectedItem:E}=u,N=d.useCallback(()=>{if(s.trigger&&s.valueNode&&c&&m&&l&&x&&C){const A=s.trigger.getBoundingClientRect(),B=m.getBoundingClientRect(),G=s.valueNode.getBoundingClientRect(),z=C.getBoundingClientRect();if(s.dir!=="rtl"){const g=z.left-B.left,w=G.left-g,j=A.left-w,P=A.width+j,V=Math.max(P,B.width),X=window.innerWidth-ee,ae=We(w,[ee,Math.max(ee,X-V)]);c.style.minWidth=P+"px",c.style.left=ae+"px"}else{const g=B.right-z.right,w=window.innerWidth-G.right-g,j=window.innerWidth-A.right-w,P=A.width+j,V=Math.max(P,B.width),X=window.innerWidth-ee,ae=We(w,[ee,Math.max(ee,X-V)]);c.style.minWidth=P+"px",c.style.right=ae+"px"}const k=S(),H=window.innerHeight-ee*2,Z=l.scrollHeight,K=window.getComputedStyle(m),U=parseInt(K.borderTopWidth,10),O=parseInt(K.paddingTop,10),$=parseInt(K.borderBottomWidth,10),W=parseInt(K.paddingBottom,10),J=U+O+Z+W+$,xe=Math.min(x.offsetHeight*5,J),de=window.getComputedStyle(l),ye=parseInt(de.paddingTop,10),be=parseInt(de.paddingBottom,10),ie=A.top+A.height/2-ee,Se=H-ie,he=x.offsetHeight/2,D=x.offsetTop+he,f=U+O+D,o=J-f;if(f<=ie){const g=k.length>0&&x===k[k.length-1].ref.current;c.style.bottom="0px";const w=m.clientHeight-l.offsetTop-l.offsetHeight,j=Math.max(Se,he+(g?be:0)+w+$),P=f+j;c.style.height=P+"px"}else{const g=k.length>0&&x===k[0].ref.current;c.style.top="0px";const j=Math.max(ie,U+l.offsetTop+(g?ye:0)+he)+o;c.style.height=j+"px",l.scrollTop=f-ie+l.offsetTop}c.style.margin=`${ee}px 0`,c.style.minHeight=xe+"px",c.style.maxHeight=H+"px",r?.(),requestAnimationFrame(()=>T.current=!0)}},[S,s.trigger,s.valueNode,c,m,l,x,C,s.dir,r]);oe(()=>N(),[N]);const[R,b]=d.useState();oe(()=>{m&&b(window.getComputedStyle(m).zIndex)},[m]);const L=d.useCallback(A=>{A&&I.current===!0&&(N(),E?.(),I.current=!1)},[N,E]);return i.jsx(Ci,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:T,onScrollButtonChange:L,children:i.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:i.jsx(M.div,{...a,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});tr.displayName=Si;var Ei="SelectPopperPosition",yt=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=ee,...s}=e,u=rt(n);return i.jsx(en,{...u,...s,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yt.displayName=Ei;var[Ci,Ot]=Re(ge,{}),bt="SelectViewport",nr=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,s=ue(bt,n),u=Ot(bt,n),c=F(t,s.onViewportChange),p=d.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(tt.Slot,{scope:n,children:i.jsx(M.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:_(a.onScroll,m=>{const y=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:S}=u;if(S?.current&&v){const T=Math.abs(p.current-y.scrollTop);if(T>0){const I=window.innerHeight-ee*2,l=parseFloat(v.style.minHeight),x=parseFloat(v.style.height),C=Math.max(l,x);if(C<I){const E=C+T,N=Math.min(I,E),R=E-N;v.style.height=N+"px",v.style.bottom==="0px"&&(y.scrollTop=R>0?R:0,v.style.justifyContent="flex-end")}}}p.current=y.scrollTop})})})]})});nr.displayName=bt;var rr="SelectGroup",[wi,Ti]=Re(rr),or=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=pe();return i.jsx(wi,{scope:n,id:a,children:i.jsx(M.div,{role:"group","aria-labelledby":a,...r,ref:t})})});or.displayName=rr;var ir="SelectLabel",Ni=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Ti(ir,n);return i.jsx(M.div,{id:a.id,...r,ref:t})});Ni.displayName=ir;var Ge="SelectItem",[Pi,ar]=Re(Ge),sr=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:s,...u}=e,c=le(Ge,n),p=ue(Ge,n),m=c.value===r,[y,v]=d.useState(s??""),[S,T]=d.useState(!1),I=F(t,E=>p.itemRefCallback?.(E,r,a)),l=pe(),x=d.useRef("touch"),C=()=>{a||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Pi,{scope:n,value:r,disabled:a,textId:l,isSelected:m,onItemTextChange:d.useCallback(E=>{v(N=>N||(E?.textContent??"").trim())},[]),children:i.jsx(tt.ItemSlot,{scope:n,value:r,disabled:a,textValue:y,children:i.jsx(M.div,{role:"option","aria-labelledby":l,"data-highlighted":S?"":void 0,"aria-selected":m&&S,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:I,onFocus:_(u.onFocus,()=>T(!0)),onBlur:_(u.onBlur,()=>T(!1)),onClick:_(u.onClick,()=>{x.current!=="mouse"&&C()}),onPointerUp:_(u.onPointerUp,()=>{x.current==="mouse"&&C()}),onPointerDown:_(u.onPointerDown,E=>{x.current=E.pointerType}),onPointerMove:_(u.onPointerMove,E=>{x.current=E.pointerType,a?p.onItemLeave?.():x.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_(u.onPointerLeave,E=>{E.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:_(u.onKeyDown,E=>{p.searchRef?.current!==""&&E.key===" "||(di.includes(E.key)&&C(),E.key===" "&&E.preventDefault())})})})})});sr.displayName=Ge;var Ie="SelectItemText",cr=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...s}=e,u=le(Ie,n),c=ue(Ie,n),p=ar(Ie,n),m=vi(Ie,n),[y,v]=d.useState(null),S=F(t,C=>v(C),p.onItemTextChange,C=>c.itemTextRefCallback?.(C,p.value,p.disabled)),T=y?.textContent,I=d.useMemo(()=>i.jsx("option",{value:p.value,disabled:p.disabled,children:T},p.value),[p.disabled,p.value,T]),{onNativeOptionAdd:l,onNativeOptionRemove:x}=m;return oe(()=>(l(I),()=>x(I)),[l,x,I]),i.jsxs(i.Fragment,{children:[i.jsx(M.span,{id:p.textId,...s,ref:S}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Zt.createPortal(s.children,u.valueNode):null]})});cr.displayName=Ie;var lr="SelectItemIndicator",ur=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return ar(lr,n).isSelected?i.jsx(M.span,{"aria-hidden":!0,...r,ref:t}):null});ur.displayName=lr;var St="SelectScrollUpButton",dr=d.forwardRef((e,t)=>{const n=ue(St,e.__scopeSelect),r=Ot(St,e.__scopeSelect),[a,s]=d.useState(!1),u=F(t,r.onScrollButtonChange);return oe(()=>{if(n.viewport&&n.isPositioned){let c=function(){const m=p.scrollTop>0;s(m)};const p=n.viewport;return c(),p.addEventListener("scroll",c),()=>p.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),a?i.jsx(fr,{...e,ref:u,onAutoScroll:()=>{const{viewport:c,selectedItem:p}=n;c&&p&&(c.scrollTop=c.scrollTop-p.offsetHeight)}}):null});dr.displayName=St;var Et="SelectScrollDownButton",hr=d.forwardRef((e,t)=>{const n=ue(Et,e.__scopeSelect),r=Ot(Et,e.__scopeSelect),[a,s]=d.useState(!1),u=F(t,r.onScrollButtonChange);return oe(()=>{if(n.viewport&&n.isPositioned){let c=function(){const m=p.scrollHeight-p.clientHeight,y=Math.ceil(p.scrollTop)<m;s(y)};const p=n.viewport;return c(),p.addEventListener("scroll",c),()=>p.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),a?i.jsx(fr,{...e,ref:u,onAutoScroll:()=>{const{viewport:c,selectedItem:p}=n;c&&p&&(c.scrollTop=c.scrollTop+p.offsetHeight)}}):null});hr.displayName=Et;var fr=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,s=ue("SelectScrollButton",n),u=d.useRef(null),c=nt(n),p=d.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return d.useEffect(()=>()=>p(),[p]),oe(()=>{c().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),i.jsx(M.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:_(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:_(a.onPointerMove,()=>{s.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:_(a.onPointerLeave,()=>{p()})})}),Ri="SelectSeparator",ji=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(M.div,{"aria-hidden":!0,...r,ref:t})});ji.displayName=Ri;var Ct="SelectArrow",Ii=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=rt(n),s=le(Ct,n),u=ue(Ct,n);return s.open&&u.position==="popper"?i.jsx(Qt,{...a,...r,ref:t}):null});Ii.displayName=Ct;var Di="SelectBubbleInput",pr=d.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const a=d.useRef(null),s=F(r,a),u=jn(t);return d.useEffect(()=>{const c=a.current;if(!c)return;const p=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==t&&y){const v=new Event("change",{bubbles:!0});y.call(c,t),c.dispatchEvent(v)}},[u,t]),i.jsx(M.select,{...n,style:{...Vr,...n.style},ref:s,defaultValue:t})});pr.displayName=Di;function vr(e){return e===""||e===void 0}function mr(e){const t=gt(e),n=d.useRef(""),r=d.useRef(0),a=d.useCallback(u=>{const c=n.current+u;t(c),(function p(m){n.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>p(""),1e3))})(c)},[t]),s=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,s]}function gr(e,t,n){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let u=_i(e,Math.max(s,0));a.length===1&&(u=u.filter(m=>m!==n));const p=u.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return p!==n?p:void 0}function _i(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Ai=Gn,ki=Yn,Mi=Xn,Oi=Zn,Vi=Jn,Li=nr,Fi=or,Bi=sr,Hi=cr,$i=ur,Ki=dr,Ui=hr,xr=["PageUp","PageDown"],yr=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],br={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},je="Slider",[wt,Wi,Gi]=tn(je),[Sr]=Ae(je,[Gi]),[qi,ot]=Sr(je),Er=d.forwardRef((e,t)=>{const{name:n,min:r=0,max:a=100,step:s=1,orientation:u="horizontal",disabled:c=!1,minStepsBetweenThumbs:p=0,defaultValue:m=[r],value:y,onValueChange:v=()=>{},onValueCommit:S=()=>{},inverted:T=!1,form:I,...l}=e,x=d.useRef(new Set),C=d.useRef(0),N=u==="horizontal"?Yi:zi,[R=[],b]=_e({prop:y,defaultProp:m,onChange:k=>{[...x.current][C.current]?.focus(),v(k)}}),L=d.useRef(R);function A(k){const H=ea(R,k);z(k,H)}function B(k){z(k,C.current)}function G(){const k=L.current[C.current];R[C.current]!==k&&S(R)}function z(k,H,{commit:Z}={commit:!1}){const K=oa(s),U=ia(Math.round((k-r)/s)*s+r,K),O=We(U,[r,a]);b(($=[])=>{const W=Ji($,O,H);if(ra(W,p*s)){C.current=W.indexOf(O);const J=String(W)!==String($);return J&&Z&&S(W),J?W:$}else return $})}return i.jsx(qi,{scope:e.__scopeSlider,name:n,disabled:c,min:r,max:a,valueIndexToChangeRef:C,thumbs:x.current,values:R,orientation:u,form:I,children:i.jsx(wt.Provider,{scope:e.__scopeSlider,children:i.jsx(wt.Slot,{scope:e.__scopeSlider,children:i.jsx(N,{"aria-disabled":c,"data-disabled":c?"":void 0,...l,ref:t,onPointerDown:_(l.onPointerDown,()=>{c||(L.current=R)}),min:r,max:a,inverted:T,onSlideStart:c?void 0:A,onSlideMove:c?void 0:B,onSlideEnd:c?void 0:G,onHomeKeyDown:()=>!c&&z(r,0,{commit:!0}),onEndKeyDown:()=>!c&&z(a,R.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:H})=>{if(!c){const U=xr.includes(k.key)||k.shiftKey&&yr.includes(k.key)?10:1,O=C.current,$=R[O],W=s*U*H;z($+W,O,{commit:!0})}}})})})})});Er.displayName=je;var[Cr,wr]=Sr(je,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Yi=d.forwardRef((e,t)=>{const{min:n,max:r,dir:a,inverted:s,onSlideStart:u,onSlideMove:c,onSlideEnd:p,onStepKeyDown:m,...y}=e,[v,S]=d.useState(null),T=F(t,N=>S(N)),I=d.useRef(void 0),l=nn(a),x=l==="ltr",C=x&&!s||!x&&s;function E(N){const R=I.current||v.getBoundingClientRect(),b=[0,R.width],A=Vt(b,C?[n,r]:[r,n]);return I.current=R,A(N-R.left)}return i.jsx(Cr,{scope:e.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:i.jsx(Tr,{dir:l,"data-orientation":"horizontal",...y,ref:T,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const R=E(N.clientX);u?.(R)},onSlideMove:N=>{const R=E(N.clientX);c?.(R)},onSlideEnd:()=>{I.current=void 0,p?.()},onStepKeyDown:N=>{const b=br[C?"from-left":"from-right"].includes(N.key);m?.({event:N,direction:b?-1:1})}})})}),zi=d.forwardRef((e,t)=>{const{min:n,max:r,inverted:a,onSlideStart:s,onSlideMove:u,onSlideEnd:c,onStepKeyDown:p,...m}=e,y=d.useRef(null),v=F(t,y),S=d.useRef(void 0),T=!a;function I(l){const x=S.current||y.current.getBoundingClientRect(),C=[0,x.height],N=Vt(C,T?[r,n]:[n,r]);return S.current=x,N(l-x.top)}return i.jsx(Cr,{scope:e.__scopeSlider,startEdge:T?"bottom":"top",endEdge:T?"top":"bottom",size:"height",direction:T?1:-1,children:i.jsx(Tr,{"data-orientation":"vertical",...m,ref:v,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:l=>{const x=I(l.clientY);s?.(x)},onSlideMove:l=>{const x=I(l.clientY);u?.(x)},onSlideEnd:()=>{S.current=void 0,c?.()},onStepKeyDown:l=>{const C=br[T?"from-bottom":"from-top"].includes(l.key);p?.({event:l,direction:C?-1:1})}})})}),Tr=d.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:u,onEndKeyDown:c,onStepKeyDown:p,...m}=e,y=ot(je,n);return i.jsx(M.span,{...m,ref:t,onKeyDown:_(e.onKeyDown,v=>{v.key==="Home"?(u(v),v.preventDefault()):v.key==="End"?(c(v),v.preventDefault()):xr.concat(yr).includes(v.key)&&(p(v),v.preventDefault())}),onPointerDown:_(e.onPointerDown,v=>{const S=v.target;S.setPointerCapture(v.pointerId),v.preventDefault(),y.thumbs.has(S)?S.focus():r(v)}),onPointerMove:_(e.onPointerMove,v=>{v.target.hasPointerCapture(v.pointerId)&&a(v)}),onPointerUp:_(e.onPointerUp,v=>{const S=v.target;S.hasPointerCapture(v.pointerId)&&(S.releasePointerCapture(v.pointerId),s(v))})})}),Nr="SliderTrack",Pr=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=ot(Nr,n);return i.jsx(M.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...r,ref:t})});Pr.displayName=Nr;var Tt="SliderRange",Rr=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=ot(Tt,n),s=wr(Tt,n),u=d.useRef(null),c=F(t,u),p=a.values.length,m=a.values.map(S=>Dr(S,a.min,a.max)),y=p>1?Math.min(...m):0,v=100-Math.max(...m);return i.jsx(M.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...r,ref:c,style:{...e.style,[s.startEdge]:y+"%",[s.endEdge]:v+"%"}})});Rr.displayName=Tt;var Nt="SliderThumb",jr=d.forwardRef((e,t)=>{const n=Wi(e.__scopeSlider),[r,a]=d.useState(null),s=F(t,c=>a(c)),u=d.useMemo(()=>r?n().findIndex(c=>c.ref.current===r):-1,[n,r]);return i.jsx(Xi,{...e,ref:s,index:u})}),Xi=d.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:a,...s}=e,u=ot(Nt,n),c=wr(Nt,n),[p,m]=d.useState(null),y=F(t,E=>m(E)),v=p?u.form||!!p.closest("form"):!0,S=Lr(p),T=u.values[r],I=T===void 0?0:Dr(T,u.min,u.max),l=Qi(r,u.values.length),x=S?.[c.size],C=x?ta(x,I,c.direction):0;return d.useEffect(()=>{if(p)return u.thumbs.add(p),()=>{u.thumbs.delete(p)}},[p,u.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${I}% + ${C}px)`},children:[i.jsx(wt.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(M.span,{role:"slider","aria-label":e["aria-label"]||l,"aria-valuemin":u.min,"aria-valuenow":T,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...s,ref:y,style:T===void 0?{display:"none"}:e.style,onFocus:_(e.onFocus,()=>{u.valueIndexToChangeRef.current=r})})}),v&&i.jsx(Ir,{name:a??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:T},r)]})});jr.displayName=Nt;var Zi="RadioBubbleInput",Ir=d.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const a=d.useRef(null),s=F(a,r),u=jn(t);return d.useEffect(()=>{const c=a.current;if(!c)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==t&&y){const v=new Event("input",{bubbles:!0});y.call(c,t),c.dispatchEvent(v)}},[u,t]),i.jsx(M.input,{style:{display:"none"},...n,ref:s,defaultValue:t})});Ir.displayName=Zi;function Ji(e=[],t,n){const r=[...e];return r[n]=t,r.sort((a,s)=>a-s)}function Dr(e,t,n){const s=100/(n-t)*(e-t);return We(s,[0,100])}function Qi(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function ea(e,t){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-t)),r=Math.min(...n);return n.indexOf(r)}function ta(e,t,n){const r=e/2,s=Vt([0,50],[0,r]);return(r-s(t)*n)*n}function na(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function ra(e,t){if(t>0){const n=na(e);return Math.min(...n)>=t}return!0}function Vt(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function oa(e){return(String(e).split(".")[1]||"").length}function ia(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var aa=Er,sa=Pr,ca=Rr,la=jr;function ua(...e){const t=[],n=r=>r!=null&&t.push(r);for(const r of e)Array.isArray(r)?r.forEach(n):n(r);return t}function da(e){return new Promise(t=>setTimeout(t,e))}function Q(e,t,...n){return ua(e,t,...n).join(" ")}const qe=[{id:0,name:"16",value:1},{id:1,name:"8",value:2},{id:2,name:"8-D",value:3},{id:3,name:"8-T",value:4/3},{id:4,name:"q",value:4},{id:5,name:"q-D",value:6},{id:6,name:"q-T",value:8/3},{id:7,name:"h",value:8},{id:8,name:"h-D",value:12},{id:9,name:"h-T",value:16/3}];qe.map(e=>e.name);function ha({slot:e,list:t,value:n,onChange:r}){return i.jsxs(Ai,{value:String(n.id),onValueChange:a=>{r(e,Number(a))},children:[i.jsx(ki,{className:"SelectTrigger btn-bg p-2 border rounded middle-of-row second-row","aria-label":"Duration selector",children:i.jsx(Mi,{})}),i.jsx(Oi,{children:i.jsxs(Vi,{className:"SelectContent",children:[i.jsx(Ki,{className:"SelectScrollButton",children:i.jsx("i",{className:"bi bi-chevron-up"})}),i.jsx(Li,{className:"SelectViewport",children:i.jsx(Fi,{children:t.map(a=>i.jsxs(Bi,{className:"SelectItem",value:String(a.id),"data-state":a.id===n.id?"checked":"unchecked",children:[i.jsx(Hi,{children:a.name}),i.jsx($i,{className:"SelectItemIndicator",children:i.jsx("i",{className:"bi bi-check"})})]},`item-${a.id}`))})}),i.jsx(Ui,{className:"SelectScrollButton",children:i.jsx("i",{className:"bi bi-chevron-down"})})]})})]})}function pt({children:e}){return i.jsxs(Fr,{children:[i.jsx(Br,{asChild:!0,children:i.jsx("i",{className:"bi bi-info-circle fs-6 ms-1"})}),i.jsx(Hr,{className:"TooltipContent",children:e})]})}function fa({slot:e,value:t,onChange:n}){const[r,a]=d.useState(t);function s(u){n(e,u[0])}return i.jsxs($n,{children:[i.jsx(Kn,{asChild:!0,children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row third-row w-5rem","aria-label":"Set Velocity",children:t})}),i.jsx(Un,{children:i.jsxs(Wn,{className:"PopoverContent",sideOffset:5,children:[i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[i.jsx("p",{className:"Text",style:{marginBottom:10},children:"Velocity"}),i.jsx("input",{type:"text",readOnly:!0,value:r}),i.jsx("form",{children:i.jsxs(aa,{className:"SliderRoot",defaultValue:[r],onValueChange:u=>a(u[0]),onValueCommit:s,max:127,min:0,step:1,children:[i.jsx(sa,{className:"SliderTrack",children:i.jsx(ca,{className:"SliderRange"})}),i.jsx(la,{className:"SliderThumb","aria-label":"Volume"})]})})]}),i.jsx(ci,{className:"PopoverClose","aria-label":"Close",children:i.jsx("i",{className:"bi bi-x"})}),i.jsx(li,{className:"PopoverArrow"})]})})]})}function pa({slot:e,pitch:t,onChange:n}){const[r,a]=d.useState(t),[s,u]=d.useState(!1);d.useEffect(()=>{a(t)},[t,s]);function c(){n(e,r.midiValue),u(!1)}function p(S){console.log(`handleOctaveChange == value: ${S}`);const T=r.setOctave(S);console.log(`octave newPitch: ${JSON.stringify(T)}`),a(T)}function m(S){console.log(`handlePitchChange == value: ${S}`);const T=r.setPitchClass(S);console.log(`pitchClass newPitch: ${JSON.stringify(T)}`),a(T)}const y="btn-bg p-2 border rounded pitch-grid-button",v=r.isRest()?"R":r.pitchClass;return i.jsxs($n,{modal:!0,open:s,onOpenChange:u,children:[i.jsx(Kn,{asChild:!0,children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row first-row","aria-label":"Select pitch",children:t.toString()})}),i.jsx(Un,{children:i.jsxs(Wn,{className:"PopoverContent",sideOffset:5,children:[i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[i.jsx("p",{className:"Text",style:{marginBottom:10},children:"Select Pitch"}),i.jsxs("form",{children:[i.jsx("label",{htmlFor:"pitch",className:"form-label pe-2",children:"Pitch"}),i.jsx("input",{id:"pitch",type:"text",readOnly:!0,value:r.toString()})]}),i.jsx(va,{value:r.octave,onValueChange:p}),i.jsx("table",{className:"p-2",children:i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("td",{children:i.jsx("button",{className:Q(y,v==="C"?"selected":void 0),onClick:()=>m("C"),children:"C"})}),i.jsx("td",{children:i.jsx("button",{className:Q(y,v==="C#"?"selected":void 0),onClick:()=>m("C#"),children:"C#"})}),i.jsx("td",{children:i.jsx("button",{className:Q(y,v==="D"?"selected":void 0),onClick:()=>m("D"),children:"D"})})]}),i.jsxs("tr",{children:[i.jsx("td",{children:i.jsx("button",{className:Q(y,v==="D#"?"selected":void 0),onClick:()=>m("D#"),children:"D#"})}),i.jsx("td",{children:i.jsx("button",{className:Q(y,v==="E"?"selected":void 0),onClick:()=>m("E"),children:"E"})}),i.jsx("td",{children:i.jsx("button",{className:Q(y,v==="F"?"selected":void 0),onClick:()=>m("F"),children:"F"})})]}),i.jsxs("tr",{children:[i.jsx("td",{children:i.jsx("button",{className:Q(y,v==="F#"?"selected":void 0),onClick:()=>m("F#"),children:"F#"})}),i.jsx("td",{children:i.jsx("button",{className:Q(y,v==="G"?"selected":void 0),onClick:()=>m("G"),children:"G"})}),i.jsx("td",{children:i.jsx("button",{className:Q(y,v==="G#"?"selected":void 0),onClick:()=>m("G#"),children:"G#"})})]}),i.jsxs("tr",{children:[i.jsx("td",{children:i.jsx("button",{className:Q(y,v==="A"?"selected":void 0),onClick:()=>m("A"),children:"A"})}),i.jsx("td",{children:i.jsx("button",{className:Q(y,v==="A#"?"selected":void 0),onClick:()=>m("A#"),children:"A#"})}),i.jsx("td",{children:i.jsx("button",{className:Q(y,v==="B"?"selected":void 0),onClick:()=>m("B"),children:"B"})})]}),i.jsx("tr",{children:i.jsx("td",{children:i.jsx("button",{className:Q(y,v==="R"?"selected":void 0),onClick:()=>m("R"),children:"Rest"})})})]})})]}),i.jsx("hr",{}),i.jsx("button",{className:"btn btn-success",onClick:c,children:"Ok"}),i.jsx("button",{className:"btn btn-danger float-end",onClick:()=>u(!1),children:"Cancel"})]})})]})}function va({value:e,onValueChange:t}){return i.jsx(i.Fragment,{children:i.jsxs("form",{children:[i.jsx("label",{htmlFor:"octave",className:"form-label pe-2",children:"Octave"}),i.jsxs("select",{id:"octave",value:e,onChange:n=>t(Number(n.target.value)),children:[i.jsx("option",{value:"-1",children:"-1"}),i.jsx("option",{value:"0",children:"0"}),i.jsx("option",{value:"1",children:"1"}),i.jsx("option",{value:"2",children:"2"}),i.jsx("option",{value:"3",children:"3"}),i.jsx("option",{value:"4",children:"4"}),i.jsx("option",{value:"5",children:"5"}),i.jsx("option",{value:"6",children:"6"}),i.jsx("option",{value:"7",children:"7"}),i.jsx("option",{value:"8",children:"8"}),i.jsx("option",{value:"9",children:"9"})]})]})})}var vt,Yt;function ma(){if(Yt)return vt;Yt=1;var e={VERSION:"3.1.1",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_SMTPE_OFFSET:84},t=(f,o)=>Array(Math.abs(o)+1).join(f);function n(f){return f!==null&&typeof f=="object"&&typeof f.name=="string"}function r(f){return f!==null&&typeof f=="object"&&typeof f.step=="number"&&typeof f.alt=="number"}var a=[0,2,4,-1,1,3,5],s=a.map(f=>Math.floor(f*7/12));function u(f){const{step:o,alt:h,oct:g,dir:w=1}=f,j=a[o]+7*h;if(g===void 0)return[w*j];const P=g-s[o]-4*h;return[w*j,w*P]}var c={empty:!0,name:"",pc:"",acc:""},p=new Map,m=f=>"CDEFGAB".charAt(f),y=f=>f<0?t("b",-f):t("#",f),v=f=>f[0]==="b"?-f.length:f.length;function S(f){const o=JSON.stringify(f),h=p.get(o);if(h)return h;const g=typeof f=="string"?C(f):r(f)?S(E(f)):n(f)?S(f.name):c;return p.set(o,g),g}var T=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function I(f){const o=T.exec(f);return[o[1].toUpperCase(),o[2].replace(/x/g,"##"),o[3],o[4]]}var l=(f,o)=>(f%o+o)%o,x=[0,2,4,5,7,9,11];function C(f){const o=I(f);if(o[0]===""||o[3]!=="")return c;const h=o[0],g=o[1],w=o[2],j=(h.charCodeAt(0)+3)%7,P=v(g),V=w.length?+w:void 0,X=u({step:j,alt:P,oct:V}),ae=h+g+w,it=h+g,Oe=(x[j]+P+120)%12,fe=V===void 0?l(x[j]+P,12)-1188:x[j]+P+12*(V+1),at=fe>=0&&fe<=127?fe:null,_r=V===void 0?null:Math.pow(2,(fe-69)/12)*440;return{empty:!1,acc:g,alt:P,chroma:Oe,coord:X,freq:_r,height:fe,letter:h,midi:at,name:ae,oct:V,pc:it,step:j}}function E(f){const{step:o,alt:h,oct:g}=f,w=m(o);if(!w)return"";const j=w+y(h);return g||g===0?j+g:j}function N(f){return+f>=0&&+f<=127}function R(f){if(N(f))return+f;const o=S(f);return o.empty?null:o.midi}var b=(function(){function f(){}return f.version=function(){return e.VERSION},f.stringToBytes=function(o){return o.split("").map(function(h){return h.charCodeAt(0)})},f.isNumeric=function(o){return!isNaN(parseFloat(o))&&isFinite(o)},f.getPitch=function(o,h){return h===void 0&&(h="C4"),60-R(h)+R(o)},f.numberToVariableLength=function(o){o=Math.round(o);for(var h=o&127;o=o>>7;)h<<=8,h|=o&127|128;for(var g=[];g.push(h&255),h&128;)h>>=8;return g},f.stringByteCount=function(o){return encodeURI(o).split(/%..|./).length-1},f.numberFromBytes=function(o){var h="",g;return o.forEach(function(w){g=w.toString(16),g.length==1&&(g="0"+g),h+=g}),parseInt(h,16)},f.numberToBytes=function(o,h){h=h||1;var g=o.toString(16);g.length&1&&(g="0"+g);var w=g.match(/.{2}/g),j=w.map(function(P){return parseInt(P,16)});if(j.length<h)for(;h-j.length>0;)j.unshift(0);return j},f.toArray=function(o){return Array.isArray(o)?o:[o]},f.convertVelocity=function(o){return o=o>100?100:o,Math.round(o/100*127)},f.getTickDuration=function(o){if(Array.isArray(o))return o.map(function(j){return f.getTickDuration(j)}).reduce(function(j,P){return j+P},0);if(o=o.toString(),o.toLowerCase().charAt(0)==="t"){var h=parseInt(o.substring(1));if(isNaN(h)||h<0)throw new Error(o+" is not a valid duration.");return h}var g=f.numberFromBytes(e.HEADER_CHUNK_DIVISION),w=g*f.getDurationMultiplier(o);return f.getRoundedIfClose(w)},f.getRoundedIfClose=function(o){var h=Math.round(o);return Math.abs(h-o)<1e-6?h:o},f.getPrecisionLoss=function(o){var h=Math.round(o);return h-o},f.getDurationMultiplier=function(o){if(o==="0")return 0;var h=o.match(/^(?<dotted>d+)?(?<base>\d+)(?:t(?<tuplet>\d*))?/);if(h){var g=Number(h.groups.base),w=g===1||(g&g-1)===0;if(w){var j=g/4,P=1/j,V=h.groups,X=V.dotted,ae=V.tuplet;if(X){var it=X.length,Oe=Math.pow(2,it);P=P+P*((Oe-1)/Oe)}if(typeof ae=="string"){var fe=P*2,at=Number(ae||"3");P=fe/at}return P}}throw new Error(o+" is not a valid duration.")},f})(),L=(function(){function f(o){this.channel=o.channel-1||0,this.controllerValue=o.controllerValue,this.controllerNumber=o.controllerNumber,this.delta=o.delta||0,this.name="ControllerChangeEvent",this.status=176,this.data=b.numberToVariableLength(o.delta).concat(this.status|this.channel,this.controllerNumber,this.controllerValue)}return f})(),A=(function(){function f(o){this.delta=o.delta||0,this.name="CopyrightEvent",this.text=o.text,this.type=2;var h=b.stringToBytes(this.text);this.data=b.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,b.numberToVariableLength(h.length),h)}return f})(),B=(function(){function f(o){this.delta=o.delta||0,this.name="CuePointEvent",this.text=o.text,this.type=7;var h=b.stringToBytes(this.text);this.data=b.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,b.numberToVariableLength(h.length),h)}return f})(),G=(function(){function f(o){this.delta=o?.delta||0,this.name="EndTrackEvent",this.type=[47,0],this.data=b.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type)}return f})(),z=(function(){function f(o){this.delta=o.delta||0,this.name="InstrumentNameEvent",this.text=o.text,this.type=4;var h=b.stringToBytes(this.text);this.data=b.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,b.numberToVariableLength(h.length),h)}return f})(),k=(function(){function f(o,h){this.name="KeySignatureEvent",this.type=89;var g=h||0;if(o=o||0,typeof h>"u"){var w=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],j=o.length,P=o||"C";if(o[0]===o[0].toLowerCase()&&(g=1),j>1)switch(o.charAt(j-1)){case"m":g=1,P=o.charAt(0).toLowerCase(),P=P.concat(o.substring(1,j-1));break;case"-":g=1,P=o.charAt(0).toLowerCase(),P=P.concat(o.substring(1,j-1));break;case"M":g=0,P=o.charAt(0).toUpperCase(),P=P.concat(o.substring(1,j-1));break;case"+":g=0,P=o.charAt(0).toUpperCase(),P=P.concat(o.substring(1,j-1));break}var V=w[g].indexOf(P);o=V===-1?0:V-7}this.data=b.numberToVariableLength(0).concat(e.META_EVENT_ID,this.type,[2],b.numberToBytes(o,1),b.numberToBytes(g,1))}return f})(),H=(function(){function f(o){this.delta=o.delta||0,this.name="LyricEvent",this.text=o.text,this.type=5;var h=b.stringToBytes(this.text);this.data=b.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,b.numberToVariableLength(h.length),h)}return f})(),Z=(function(){function f(o){this.delta=o.delta||0,this.name="MarkerEvent",this.text=o.text,this.type=6;var h=b.stringToBytes(this.text);this.data=b.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,b.numberToVariableLength(h.length),h)}return f})(),K=(function(){function f(o){this.name="NoteOnEvent",this.channel=o.channel||1,this.pitch=o.pitch,this.wait=o.wait||0,this.velocity=o.velocity||50,this.tick=o.tick||null,this.delta=null,this.data=o.data,this.status=144}return f.prototype.buildData=function(o,h,g){return g===void 0&&(g={}),this.data=[],this.tick?(this.tick=b.getRoundedIfClose(this.tick),o.tickPointer==0&&(this.delta=this.tick)):(this.delta=b.getTickDuration(this.wait),this.tick=b.getRoundedIfClose(o.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=b.getRoundedIfClose(this.delta-h),this.data=b.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.status|this.channel-1,b.getPitch(this.pitch,g.middleC),b.convertVelocity(this.velocity)),this},f})(),U=(function(){function f(o){this.name="NoteOffEvent",this.channel=o.channel||1,this.pitch=o.pitch,this.velocity=o.velocity||50,this.tick=o.tick||null,this.data=o.data,this.delta=o.delta||b.getTickDuration(o.duration),this.status=128}return f.prototype.buildData=function(o,h,g){return g===void 0&&(g={}),this.tick===null&&(this.tick=b.getRoundedIfClose(this.delta+o.tickPointer)),this.deltaWithPrecisionCorrection=b.getRoundedIfClose(this.delta-h),this.data=b.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.status|this.channel-1,b.getPitch(this.pitch,g.middleC),b.convertVelocity(this.velocity)),this},f})(),O=(function(){function f(o){this.data=[],this.name="NoteEvent",this.pitch=b.toArray(o.pitch),this.channel=o.channel||1,this.duration=o.duration||"4",this.grace=o.grace,this.repeat=o.repeat||1,this.sequential=o.sequential||!1,this.tick=o.startTick||o.tick||null,this.velocity=o.velocity||50,this.wait=o.wait||0,this.tickDuration=b.getTickDuration(this.duration),this.restDuration=b.getTickDuration(this.wait),this.events=[]}return f.prototype.buildData=function(){var o=this;if(this.data=[],this.grace){var h=1;this.grace=b.toArray(this.grace),this.grace.forEach(function(){var w=new f({pitch:o.grace,duration:"T"+h});o.data=o.data.concat(w.data)})}if(this.sequential)for(var g=0;g<this.repeat;g++)this.pitch.forEach(function(j,P){var V=new K({channel:o.channel,wait:P>0?0:o.wait,delta:P>0?0:b.getTickDuration(o.wait),velocity:o.velocity,pitch:j,tick:o.tick}),X=new U({channel:o.channel,duration:o.duration,velocity:o.velocity,pitch:j});o.events.push(V,X)});else for(var g=0;g<this.repeat;g++)this.pitch.forEach(function(w,j){var P;j==0?P=new K({channel:o.channel,wait:o.wait,delta:b.getTickDuration(o.wait),velocity:o.velocity,pitch:w,tick:o.tick}):P=new K({channel:o.channel,wait:0,delta:0,velocity:o.velocity,pitch:w,tick:o.tick}),o.events.push(P)}),this.pitch.forEach(function(w,j){var P;j==0?P=new U({channel:o.channel,duration:o.duration,velocity:o.velocity,pitch:w,tick:o.tick!==null?b.getTickDuration(o.duration)+o.tick:null}):P=new U({channel:o.channel,duration:0,velocity:o.velocity,pitch:w,tick:o.tick!==null?b.getTickDuration(o.duration)+o.tick:null}),o.events.push(P)});return this},f})(),$=(function(){function f(o){this.channel=o.channel||0,this.delta=o.delta||0,this.name="PitchBendEvent",this.status=224;var h=this.scale14bits(o.bend),g=h&127,w=h>>7&127;this.data=b.numberToVariableLength(this.delta).concat(this.status|this.channel,g,w)}return f.prototype.scale14bits=function(o){return o<=0?Math.floor(16384*(o+1)/2):Math.floor(16383*(o+1)/2)},f})(),W=(function(){function f(o){this.channel=o.channel||0,this.delta=o.delta||0,this.instrument=o.instrument,this.status=192,this.name="ProgramChangeEvent",this.data=b.numberToVariableLength(this.delta).concat(this.status|this.channel,this.instrument)}return f})(),J=(function(){function f(o){this.bpm=o.bpm,this.delta=o.delta||0,this.tick=o.tick,this.name="TempoEvent",this.type=81;var h=Math.round(6e7/this.bpm);this.data=b.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,[3],b.numberToBytes(h,3))}return f})(),xe=(function(){function f(o){this.delta=o.delta||0,this.text=o.text,this.name="TextEvent",this.type=1;var h=b.stringToBytes(this.text);this.data=b.numberToVariableLength(o.delta).concat(e.META_EVENT_ID,this.type,b.numberToVariableLength(h.length),h)}return f})(),de=(function(){function f(o,h,g,w){this.name="TimeSignatureEvent",this.type=88,this.data=b.numberToVariableLength(0).concat(e.META_EVENT_ID,this.type,[4],b.numberToBytes(o,1),b.numberToBytes(Math.log2(h),1),b.numberToBytes(g||24,1),b.numberToBytes(w||8,1))}return f})(),ye=(function(){function f(o){this.delta=o.delta||0,this.name="TrackNameEvent",this.text=o.text,this.type=3;var h=b.stringToBytes(this.text);this.data=b.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,b.numberToVariableLength(h.length),h)}return f})(),be=(function(){function f(){this.type=e.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return f.prototype.addEvent=function(o,h){var g=this;return b.toArray(o).forEach(function(w,j){if(w instanceof O){if(typeof h=="function"){var P=h(j,w);typeof P=="object"&&Object.assign(w,P)}w.tick!==null?g.explicitTickEvents.push(w):w.buildData().events.forEach(function(V){return g.events.push(V)})}else g.events.push(w)}),this},f.prototype.buildData=function(o){var h=this;o===void 0&&(o={}),this.data=[],this.size=[],this.tickPointer=0;var g=0;return this.events.forEach(function(w){if(w instanceof K||w instanceof U){var j=w.buildData(h,g,o);g=b.getPrecisionLoss(w.deltaWithPrecisionCorrection||0),h.data=h.data.concat(j.data),h.tickPointer=b.getRoundedIfClose(w.tick)}else w instanceof J&&(h.tickPointer=b.getRoundedIfClose(w.tick)),h.data=h.data.concat(w.data)}),this.mergeExplicitTickEvents(),(!this.events.length||!(this.events[this.events.length-1]instanceof G))&&(this.data=this.data.concat(new G().data)),this.size=b.numberToBytes(this.data.length,4),this},f.prototype.mergeExplicitTickEvents=function(){var o=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(h,g){return h.tick-g.tick}),this.explicitTickEvents.forEach(function(h){h.buildData().events.forEach(function(g){return g.buildData(o)}),h.events.forEach(function(g){return o.mergeSingleEvent(g)})}),this.explicitTickEvents=[],this.buildData())},f.prototype.mergeTrack=function(o){var h=this;return this.buildData(),o.buildData().events.forEach(function(g){return h.mergeSingleEvent(g)}),this},f.prototype.mergeSingleEvent=function(o){if(!this.events.length){this.addEvent(o);return}for(var h,g=0;g<this.events.length&&!(this.events[g].tick>o.tick);g++)h=g;var w=h+1;o.delta=o.tick-this.events[h].tick,this.events.splice(w,0,o);for(var g=w+1;g<this.events.length;g++)this.events[g].delta=this.events[g].tick-this.events[g-1].tick},f.prototype.removeEventsByName=function(o){var h=this;return this.events.forEach(function(g,w){g.name===o&&h.events.splice(w,1)}),this},f.prototype.setTempo=function(o,h){return h===void 0&&(h=0),this.addEvent(new J({bpm:o,tick:h}))},f.prototype.setTimeSignature=function(o,h,g,w){return this.addEvent(new de(o,h,g,w))},f.prototype.setKeySignature=function(o,h){return this.addEvent(new k(o,h))},f.prototype.addText=function(o){return this.addEvent(new xe({text:o}))},f.prototype.addCopyright=function(o){return this.addEvent(new A({text:o}))},f.prototype.addTrackName=function(o){return this.addEvent(new ye({text:o}))},f.prototype.addInstrumentName=function(o){return this.addEvent(new z({text:o}))},f.prototype.addMarker=function(o){return this.addEvent(new Z({text:o}))},f.prototype.addCuePoint=function(o){return this.addEvent(new B({text:o}))},f.prototype.addLyric=function(o){return this.addEvent(new H({text:o}))},f.prototype.polyModeOn=function(){var o=new K({data:[0,176,126,0]});return this.addEvent(o)},f.prototype.setPitchBend=function(o){return this.addEvent(new $({bend:o}))},f.prototype.controllerChange=function(o,h,g,w){return this.addEvent(new L({controllerNumber:o,controllerValue:h,channel:g,delta:w}))},f})(),ie=(function(){function f(){}return f.prototype.trackFromVoice=function(o,h){var g=this;h===void 0&&(h={addRenderedAccidentals:!1});var w=new be,j=[];return o.tickables.forEach(function(P){P.noteType==="n"?(w.addEvent(new O({pitch:P.keys.map(function(V,X){return g.convertPitch(V,X,P,h.addRenderedAccidentals)}),duration:g.convertDuration(P),wait:j})),j=[]):P.noteType==="r"&&j.push(g.convertDuration(P))}),j.length>0&&w.addEvent(new O({pitch:"[c4]",duration:"0",wait:j,velocity:"0"})),w},f.prototype.convertPitch=function(o,h,g,w){var j;w===void 0&&(w=!1);var P=o.split("/"),V=P[0].substring(1).replace("n","");return w&&((j=g.getAccidentals())===null||j===void 0||j.forEach(function(X){X.index===h&&(X.type==="n"?V="":V+=X.type)})),P[0][0]+V+P[1]},f.prototype.convertDuration=function(o){return"d".repeat(o.dots)+this.convertBaseDuration(o.duration)+(o.tuplet?"t"+o.tuplet.num_notes:"")},f.prototype.convertBaseDuration=function(o){switch(o){case"w":return"1";case"h":return"2";case"q":return"4";default:return o}},f})(),Se=(function(){function f(o){this.type=e.HEADER_CHUNK_TYPE;var h=o>1?e.HEADER_CHUNK_FORMAT1:e.HEADER_CHUNK_FORMAT0;this.data=h.concat(b.numberToBytes(o,2),e.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}return f})(),he=(function(){function f(o,h){h===void 0&&(h={}),this.tracks=b.toArray(o),this.options=h}return f.prototype.buildData=function(){var o=this,h=[];return h.push(new Se(this.tracks.length)),this.tracks.forEach(function(g){h.push(g.buildData(o.options))}),h},f.prototype.buildFile=function(){var o=[];return this.buildData().forEach(function(h){return o=o.concat(h.type,h.size,h.data)}),new Uint8Array(o)},f.prototype.base64=function(){if(typeof btoa=="function"){for(var o="",h=this.buildFile(),g=h.byteLength,w=0;w<g;w++)o+=String.fromCharCode(h[w]);return btoa(o)}return Buffer.from(this.buildFile()).toString("base64")},f.prototype.dataUri=function(){return"data:audio/midi;base64,"+this.base64()},f.prototype.setOption=function(o,h){return this.options[o]=h,this},f.prototype.stdout=function(){return process.stdout.write(Buffer.from(this.buildFile()))},f})(),D={Constants:e,ControllerChangeEvent:L,CopyrightEvent:A,CuePointEvent:B,EndTrackEvent:G,InstrumentNameEvent:z,KeySignatureEvent:k,LyricEvent:H,MarkerEvent:Z,NoteOnEvent:K,NoteOffEvent:U,NoteEvent:O,PitchBendEvent:$,ProgramChangeEvent:W,TempoEvent:J,TextEvent:xe,TimeSignatureEvent:de,Track:be,TrackNameEvent:ye,Utils:b,VexFlow:ie,Writer:he};return vt=D,vt}var ga=ma();const mt=Ar(ga),He=-10,zt=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Y{midiValue=He;pitchClass="R";octave=0;constructor(t,n,r){if(t===void 0){this.setToRest();return}else if(typeof t=="object"){this.midiValue=t.midiValue,this.pitchClass=t.pitchClass,this.octave=t.octave;return}else if(n===void 0){if(this.midiValue=t,t===He){this.pitchClass="R",this.octave=0;return}this.pitchClass=zt[t%12],this.octave=Math.floor(t/12)-1;return}this.midiValue=t,this.pitchClass=n,this.octave=r??4}clone(){return console.log(`clone: ${JSON.stringify(this)}`),new Y(this.midiValue,this.pitchClass,this.octave)}isRest(){return this.pitchClass==="R"}toString(){return this.pitchClass==="R"?"R":`${this.pitchClass}${this.octave}`}setOctave(t){const n=new Y(this.midiValue,this.pitchClass,t);return n.calculateMidiValue(),n}setPitchClass(t){if(t==="R")return console.log("-- setting to rest"),new Y(He,"R",0);const n=new Y(this.midiValue,t,this.octave);return n.calculateMidiValue(),n}calculateMidiValue(){if(this.pitchClass==="R"){this.setToRest();return}this.midiValue=(this.octave+1)*12+zt.indexOf(this.pitchClass)}setToRest(){this.midiValue=He,this.pitchClass="R",this.octave=0}}function xa(e,t,n,r){console.log(`pitches : ${e.length}, durations : ${t.length}, velocities : ${n.length} bpm : ${r}`),console.log(`durations: ${JSON.stringify(t)}`);const a=new mt.Track;a.setTempo(r),a.setTimeSignature(4,4,24,8);let s=0,u=0,c=0,p=0,m=!0,y=0;function v(){s++,u=s%e.length,c=s%t.length,p=s%n.length,u===0&&c===0&&p===0&&(console.log("setting keepGoing to false - all indices are 0"),m=!1),s>500&&(console.log("setting keepGoing to false - index > 500"),m=!1,da(1e3))}for(;m;){console.log(`index: ${s}, pitchIndex: ${u}, durationIndex: ${c}, velocityIndex: ${p}`);const S=e[u],T=Math.trunc(t[c]*32);if(S.isRest()){y+=T,v();continue}const I=S.midiValue,l=n[p]*100/127;let x={};y>0&&(x={wait:"T"+String(y)},y=0),console.log(`midiPitch: ${I}, velocity: ${l}, durationTicks: ${T}, waitProp: ${JSON.stringify(x)}`),a.addEvent(new mt.NoteEvent({pitch:I,velocity:l,duration:"T"+String(T),sequential:!0,...x})),v()}return new mt.Writer(a).dataUri()}const Xt=e=>{let t;const n=new Set,r=(m,y)=>{const v=typeof m=="function"?m(t):m;if(!Object.is(v,t)){const S=t;t=y??(typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(T=>T(t,S))}},a=()=>t,c={setState:r,getState:a,getInitialState:()=>p,subscribe:m=>(n.add(m),()=>n.delete(m))},p=t=e(r,a,c);return c},ya=(e=>e?Xt(e):Xt),ba=e=>e;function Sa(e,t=ba){const n=te.useSyncExternalStore(e.subscribe,te.useCallback(()=>t(e.getState()),[e,t]),te.useCallback(()=>t(e.getInitialState()),[e,t]));return te.useDebugValue(n),n}const Ea=e=>{const t=ya(e),n=r=>Sa(t,r);return Object.assign(n,t),n},Ca=(e=>Ea);function wa(e,t){let n;try{n=e()}catch{return}return{getItem:a=>{var s;const u=p=>p===null?null:JSON.parse(p,void 0),c=(s=n.getItem(a))!=null?s:null;return c instanceof Promise?c.then(u):u(c)},setItem:(a,s)=>n.setItem(a,JSON.stringify(s,void 0)),removeItem:a=>n.removeItem(a)}}const Pt=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Pt(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Pt(r)(n)}}}},Ta=(e,t)=>(n,r,a)=>{let s={storage:wa(()=>localStorage),partialize:l=>l,version:0,merge:(l,x)=>({...x,...l}),...t},u=!1;const c=new Set,p=new Set;let m=s.storage;if(!m)return e((...l)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...l)},r,a);const y=()=>{const l=s.partialize({...r()});return m.setItem(s.name,{state:l,version:s.version})},v=a.setState;a.setState=(l,x)=>(v(l,x),y());const S=e((...l)=>(n(...l),y()),r,a);a.getInitialState=()=>S;let T;const I=()=>{var l,x;if(!m)return;u=!1,c.forEach(E=>{var N;return E((N=r())!=null?N:S)});const C=((x=s.onRehydrateStorage)==null?void 0:x.call(s,(l=r())!=null?l:S))||void 0;return Pt(m.getItem.bind(m))(s.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==s.version){if(s.migrate){const N=s.migrate(E.state,E.version);return N instanceof Promise?N.then(R=>[!0,R]):[!0,N]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var N;const[R,b]=E;if(T=s.merge(b,(N=r())!=null?N:S),n(T,!0),R)return y()}).then(()=>{C?.(T,void 0),T=r(),u=!0,p.forEach(E=>E(T))}).catch(E=>{C?.(void 0,E)})};return a.persist={setOptions:l=>{s={...s,...l},l.storage&&(m=l.storage)},clearStorage:()=>{m?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>I(),hasHydrated:()=>u,onHydrate:l=>(c.add(l),()=>{c.delete(l)}),onFinishHydration:l=>(p.add(l),()=>{p.delete(l)})},s.skipHydration||I(),T||S},Na=Ta,Pa=(e,t)=>({durations:[1,1,1,1,1,1,1,1],addDuration:()=>{t().addHistory({description:"Added Duration",durations:t().durations}),e(n=>({durations:[...n.durations,n.durations[n.durations.length-1]]}))},removeDuration:()=>{t().addHistory({description:"Removed Duration",durations:t().durations}),e(n=>({durations:n.durations.slice(0,n.durations.length-1)}))},updateDuration:(n,r)=>{if(t().addHistory({description:`Updated Duration for slot ${n}`,durations:t().durations}),n<0||n>=t().durations.length)throw new Error(`Duration Slot ${n} is out of range`);e(a=>{const s=a.durations.slice();return s[n]=r,{durations:s}})}}),Ra=(e,t)=>({pitches:[new Y(64),new Y(62),new Y(60),new Y(62),new Y(64),new Y(64),new Y(64),new Y],addPitch:()=>{t().addHistory({description:"Added Pitch",pitches:t().pitches});const n=t().pitches[t().pitches.length-1],r=new Y(n.midiValue);e(a=>({pitches:[...a.pitches,r]}))},removePitch:()=>{t().addHistory({description:"Removed Pitch",pitches:t().pitches}),e(n=>({pitches:n.pitches.slice(0,n.pitches.length-1)}))},updatePitch:(n,r)=>{if(n<0||n>=t().pitches.length)throw new Error(`Pitch Slot ${n} is out of range`);t().addHistory({description:`Updated Pitch for slot ${n}`,pitches:t().pitches}),e(a=>{const s=a.pitches.slice();return s[n]=new Y(r),{pitches:s}})}}),ja=(e,t)=>({velocities:[100,100,100,100,100,100,100,100],addVelocity:()=>{t().addHistory({description:"Added Velocity",velocities:t().velocities}),e(n=>({velocities:[...n.velocities,n.velocities[n.velocities.length-1]]}))},removeVelocity:()=>{t().addHistory({description:"Removed Velocity",velocities:t().velocities}),e(n=>({velocities:n.velocities.slice(0,n.velocities.length-1)}))},updateVelocity:(n,r)=>{if(t().addHistory({description:`Updated Velocity for slot ${n}`,velocities:t().velocities}),n<0||n>=t().velocities.length)throw new Error(`Velocity Slot ${n} is out of range`);e(a=>{const s=a.velocities.slice();return s[n]=r,{velocities:s}})}}),Ia=(e,t,n)=>({history:[],addHistory:r=>{e(a=>({history:[...a.history,r]}))},undoHistory:()=>{if(t().history.length===0)return{};const r=t().history[t().history.length-1];let a={};r.durations&&(a={...a,durations:r.durations}),r.pitches&&(a={...a,pitches:r.pitches}),r.velocities&&(a={...a,velocities:r.velocities}),e(s=>({...a,history:s.history.slice(0,s.history.length-1)}))},reset:()=>{const r=n.getInitialState();e({history:[],durations:r.durations,pitches:r.pitches,velocities:r.velocities})}}),Da=e=>({theme:"light",setTheme:t=>{e({theme:t})}}),q=Ca()(Na((...e)=>({...Ra(...e),...Pa(...e),...ja(...e),...Ia(...e),...Da(...e)}),{name:"seq-gen-data",version:0}));function _a(){const e=q(c=>c.pitches),t=q(c=>c.durations),n=q(c=>c.velocities),r=d.useRef(null),[a,s]=d.useState(120);function u(){const c=t.map(v=>qe[v].value),p=xa(e.map(v=>new Y(v.midiValue)),c,n,a),m=r.current?.value??"my_midi.mid",y=document.createElement("a");y.href=p,y.download=m,y.click(),URL.revokeObjectURL(p)}return i.jsx(i.Fragment,{children:i.jsxs(Go,{children:[i.jsx(qo,{asChild:!0,children:i.jsx("button",{className:"btn btn-primary",children:"Generate Midi"})}),i.jsxs(Yo,{children:[i.jsx(zo,{className:"dialog-overlay"}),i.jsxs(Xo,{className:"align-content-center justify-content-center border dialog-content",children:[i.jsx(Zo,{children:"Generate Midi"}),i.jsx(Jo,{asChild:!0,children:i.jsx("div",{children:i.jsxs("form",{children:[i.jsx("label",{htmlFor:"midiName",className:"form-label pb-0 mb-0",children:"File Name"}),i.jsx("input",{id:"midiName",type:"text",className:"form-control",defaultValue:"my_midi.mid",ref:r}),i.jsx("label",{htmlFor:"midiBPM",className:"form-label pb-0 mb-0 mt-2",children:"BPM"}),i.jsx("input",{id:"midiBPM",type:"number",className:"form-control",value:a,onChange:c=>s(Number(c.target.value))})]})})}),i.jsx("hr",{}),i.jsx("button",{className:"btn btn-primary","aria-label":"Generate",onClick:u,children:"Generate"}),i.jsx(Qo,{asChild:!0,children:i.jsx("button",{className:"btn btn-secondary float-end","aria-label":"Close",children:"Close"})})]})]})]})})}function Aa(){const{history:e,undoHistory:t,reset:n}=q(r=>r);return i.jsxs("div",{children:[i.jsxs("button",{className:"btn btn-primary",disabled:e.length===0,onClick:t,children:[i.jsx("i",{className:"bi bi-arrow-counterclockwise me-1"}),"Undo"]}),i.jsxs("button",{className:"btn btn-warning ms-2 float-end",disabled:e.length===0,onClick:n,children:[i.jsx("i",{className:"bi bi-x me-1"}),"Reset"]})]})}function ka({className:e}){const t=q(l=>l.pitches),n=q(l=>l.addPitch),r=q(l=>l.removePitch),a=q(l=>l.updatePitch),s=q(l=>l.durations),u=q(l=>l.addDuration),c=q(l=>l.removeDuration),p=q(l=>l.updateDuration),m=q(l=>l.velocities),y=q(l=>l.addVelocity),v=q(l=>l.removeVelocity),S=q(l=>l.updateVelocity),T={display:"grid",gridTemplateColumns:"8rem 1.5rem",gridTemplateRows:"repeat(auto-fill, 4rem)",gridGap:"0.5rem",borderRight:"3px solid black",marginBottom:"1rem"},I={display:"grid",gridGap:"1rem",marginRight:"1rem",gridTemplateColumns:"repeat(auto-fill, 5rem)",gridTemplateRows:"repeat(auto-fill, 4rem)"};return i.jsxs("main",{className:Q("container d-flex flex-column",e),children:[i.jsx("section",{className:"SettingsSection row mt-4",children:i.jsx("div",{className:"col",children:i.jsx(Aa,{})})}),i.jsxs("section",{className:"SequenceSection d-flex",children:[i.jsxs("div",{style:{height:"16rem",width:"11rem"},children:[i.jsxs("div",{style:T,children:[i.jsxs("div",{className:"p-0 m-0 fs-4 fw-bold align-content-center text-end pe-1",children:["Pitch",i.jsx(pt,{children:"Each box is a selector. Click to change the pitch"})]}),i.jsxs("div",{className:"d-flex flex-column justify-content-center px-0",children:[i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:n,children:i.jsx("i",{className:"bi bi-caret-up"})}),i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:r,children:i.jsx("i",{className:"bi bi-caret-down"})})]})]}),i.jsxs("div",{style:T,children:[i.jsxs("div",{className:"p-0 m-0 fs-4 fw-bold align-content-center text-end pe-1",children:["Duration",i.jsx(pt,{children:"Each box is a selector. Click to change the duration."})]}),i.jsxs("div",{className:"d-flex flex-column justify-content-center px-0",children:[i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:u,children:i.jsx("i",{className:"bi bi-caret-up"})}),i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:c,children:i.jsx("i",{className:"bi bi-caret-down"})})]})]}),i.jsxs("div",{style:T,children:[i.jsxs("div",{className:"p-0 m-0 fs-4 fw-bold align-content-center text-end pe-1",children:["Velocity",i.jsx(pt,{children:"Each box turns into a slider. Click to change the velocity."})]}),i.jsxs("div",{className:"d-flex flex-column justify-content-center px-0",children:[i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:y,children:i.jsx("i",{className:"bi bi-caret-up"})}),i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:v,children:i.jsx("i",{className:"bi bi-caret-down"})})]})]})]}),i.jsx("div",{className:"col flex-grow overflow-hidden pe-5",children:i.jsxs("div",{className:"w-100 overflow-x-scroll mx-1 ps-1",style:I,children:[t.map((l,x)=>{const C=new Y(l);return i.jsx(pa,{slot:x,pitch:C,onChange:a},`${x}-${C.midiValue}`)}),s.map((l,x)=>{const C=qe[l];return i.jsx(ha,{slot:x,list:qe,value:C,onChange:p},`${x}-${l}`)}),m.map((l,x)=>i.jsx(fa,{slot:x,value:l,onChange:S},`${x}-${l}`))]})})]}),i.jsx("section",{className:"ActionSection row mt-4",children:i.jsx("div",{className:"col",children:i.jsx(_a,{})})})]})}const Te=["light","dark"];function Ma(){const{theme:e,setTheme:t}=q(),n="/SeqGen/IMG_9131.png";d.useEffect(()=>{console.log(`setting theme: ${e}`),document.documentElement.setAttribute("data-bs-theme",e)},[e]);function r(){const c=(Te.indexOf(e)+1)%Te.length,p=Te[c];t(p),console.log(`newTheme : ${p}, index : ${c}`)}const a=Te[(Te.indexOf(e)+1)%Te.length],s="me-1 bi bi-"+(a==="light"?"brightness-high-fill":"moon-stars");return i.jsxs("header",{className:"d-flex justify-content-between align-items-center w-100 mb-3 bg-gray",children:[i.jsx("img",{src:n,width:"40",height:"40",className:"d-inline-block align-text-top ms-3"}),i.jsx("p",{className:"my-0 mx-3 align-content-center fs-3",children:"SeqGen"}),i.jsxs("button",{className:"btn btn-secondary mx-3 my-2",onClick:r,children:[i.jsx("i",{className:s}),a]})]})}const Ba=kr(function(){return i.jsxs(i.Fragment,{children:[i.jsx("title",{children:"SeqGen"}),i.jsx("meta",{name:"description",content:"The aptly named Sequence Generator"}),i.jsx(Ma,{}),i.jsx(ka,{className:"mt-5"})]})});export{Ba as default};
