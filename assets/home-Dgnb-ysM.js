import{R as de,t as i,b as u,y as ko,f as qt,z as Mo,w as Oo}from"./index-C-XYNUkC.js";import{c as Ie,a as F,b as Re,d as vt,e as O,f as te,g as je,h as fe,i as D,j as _e,D as Nt,k as Vo,l as We,R as Yt,A as Pt,m as Xt,C as Zt,V as Lo,n as Fo,o as Bo,T as Ho,p as Ko,u as rt,q as mt,r as Jt,v as Qt,s as en,w as Fe,x as Ot,y as ke,z as $o}from"./index-BNlk3KQk.js";function Uo(...e){const t=[],n=o=>o!=null&&t.push(o);for(const o of e)Array.isArray(o)?o.forEach(n):n(o);return t}function Wo(e){return new Promise(t=>setTimeout(t,e))}function Z(e,t,...n){return Uo(e,t,...n).join(" ")}function tn(e){const t=e+"CollectionProvider",[n,o]=Ie(t),[a,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=h=>{const{scope:y,children:w}=h,C=de.useRef(null),N=de.useRef(new Map).current;return i.jsx(a,{scope:y,itemMap:N,collectionRef:C,children:w})};l.displayName=t;const c=e+"CollectionSlot",v=Re(c),x=de.forwardRef((h,y)=>{const{scope:w,children:C}=h,N=s(c,w),P=F(y,N.collectionRef);return i.jsx(v,{ref:P,children:C})});x.displayName=c;const b=e+"CollectionItemSlot",m="data-radix-collection-item",E=Re(b),T=de.forwardRef((h,y)=>{const{scope:w,children:C,...N}=h,P=de.useRef(null),g=F(y,P),A=s(b,w);return de.useEffect(()=>(A.itemMap.set(P,{ref:P,...N}),()=>void A.itemMap.delete(P))),i.jsx(E,{[m]:"",ref:g,children:C})});T.displayName=b;function I(h){const y=s(e+"CollectionConsumer",h);return de.useCallback(()=>{const C=y.collectionRef.current;if(!C)return[];const N=Array.from(C.querySelectorAll(`[${m}]`));return Array.from(y.itemMap.values()).sort((A,k)=>N.indexOf(A.ref.current)-N.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:l,Slot:x,ItemSlot:T},I,o]}var Go=u.createContext(void 0);function nn(e){const t=u.useContext(Go);return e||t||"ltr"}var it="focusScope.autoFocusOnMount",at="focusScope.autoFocusOnUnmount",Vt={bubbles:!1,cancelable:!0},zo="FocusScope",Ge=u.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...l}=e,[c,v]=u.useState(null),x=vt(a),b=vt(s),m=u.useRef(null),E=F(t,h=>v(h)),T=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(o){let h=function(N){if(T.paused||!c)return;const P=N.target;c.contains(P)?m.current=P:re(m.current,{select:!0})},y=function(N){if(T.paused||!c)return;const P=N.relatedTarget;P!==null&&(c.contains(P)||re(m.current,{select:!0}))},w=function(N){if(document.activeElement===document.body)for(const g of N)g.removedNodes.length>0&&re(c)};document.addEventListener("focusin",h),document.addEventListener("focusout",y);const C=new MutationObserver(w);return c&&C.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",y),C.disconnect()}}},[o,c,T.paused]),u.useEffect(()=>{if(c){Ft.add(T);const h=document.activeElement;if(!c.contains(h)){const w=new CustomEvent(it,Vt);c.addEventListener(it,x),c.dispatchEvent(w),w.defaultPrevented||(qo(Qo(on(c)),{select:!0}),document.activeElement===h&&re(c))}return()=>{c.removeEventListener(it,x),setTimeout(()=>{const w=new CustomEvent(at,Vt);c.addEventListener(at,b),c.dispatchEvent(w),w.defaultPrevented||re(h??document.body,{select:!0}),c.removeEventListener(at,b),Ft.remove(T)},0)}}},[c,x,b,T]);const I=u.useCallback(h=>{if(!n&&!o||T.paused)return;const y=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,w=document.activeElement;if(y&&w){const C=h.currentTarget,[N,P]=Yo(C);N&&P?!h.shiftKey&&w===P?(h.preventDefault(),n&&re(N,{select:!0})):h.shiftKey&&w===N&&(h.preventDefault(),n&&re(P,{select:!0})):w===C&&h.preventDefault()}},[n,o,T.paused]);return i.jsx(O.div,{tabIndex:-1,...l,ref:E,onKeyDown:I})});Ge.displayName=zo;function qo(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(re(o,{select:t}),document.activeElement!==n)return}function Yo(e){const t=on(e),n=Lt(t,e),o=Lt(t.reverse(),e);return[n,o]}function on(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Lt(e,t){for(const n of e)if(!Xo(n,{upTo:t}))return n}function Xo(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Zo(e){return e instanceof HTMLInputElement&&"select"in e}function re(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Zo(e)&&t&&e.select()}}var Ft=Jo();function Jo(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Bt(e,t),e.unshift(t)},remove(t){e=Bt(e,t),e[0]?.resume()}}}function Bt(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function Qo(e){return e.filter(t=>t.tagName!=="A")}var er="Portal",ze=u.forwardRef((e,t)=>{const{container:n,...o}=e,[a,s]=u.useState(!1);te(()=>s(!0),[]);const l=n||a&&globalThis?.document?.body;return l?ko.createPortal(i.jsx(O.div,{...o,ref:t}),l):null});ze.displayName=er;var st=0;function Rt(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ht()),document.body.insertAdjacentElement("beforeend",e[1]??Ht()),st++,()=>{st===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),st--}},[])}function Ht(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ee=function(){return ee=Object.assign||function(t){for(var n,o=1,a=arguments.length;o<a;o++){n=arguments[o];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ee.apply(this,arguments)};function rn(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n}function tr(e,t,n){if(n||arguments.length===2)for(var o=0,a=t.length,s;o<a;o++)(s||!(o in t))&&(s||(s=Array.prototype.slice.call(t,0,o)),s[o]=t[o]);return e.concat(s||Array.prototype.slice.call(t))}var Be="right-scroll-bar-position",He="width-before-scroll-bar",nr="with-scroll-bars-hidden",or="--removed-body-scroll-bar-size";function ct(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function rr(e,t){var n=u.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(o){var a=n.value;a!==o&&(n.value=o,n.callback(o,a))}}}})[0];return n.callback=t,n.facade}var ir=typeof window<"u"?u.useLayoutEffect:u.useEffect,Kt=new WeakMap;function ar(e,t){var n=rr(null,function(o){return e.forEach(function(a){return ct(a,o)})});return ir(function(){var o=Kt.get(n);if(o){var a=new Set(o),s=new Set(e),l=n.current;a.forEach(function(c){s.has(c)||ct(c,null)}),s.forEach(function(c){a.has(c)||ct(c,l)})}Kt.set(n,e)},[e]),n}function sr(e){return e}function cr(e,t){t===void 0&&(t=sr);var n=[],o=!1,a={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var l=t(s,o);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(s){for(o=!0;n.length;){var l=n;n=[],l.forEach(s)}n={push:function(c){return s(c)},filter:function(){return n}}},assignMedium:function(s){o=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(s),l=n}var v=function(){var b=l;l=[],b.forEach(s)},x=function(){return Promise.resolve().then(v)};x(),n={push:function(b){l.push(b),x()},filter:function(b){return l=l.filter(b),n}}}};return a}function lr(e){e===void 0&&(e={});var t=cr(null);return t.options=ee({async:!0,ssr:!1},e),t}var an=function(e){var t=e.sideCar,n=rn(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return u.createElement(o,ee({},n))};an.isSideCarExport=!0;function ur(e,t){return e.useMedium(t),an}var sn=lr(),lt=function(){},qe=u.forwardRef(function(e,t){var n=u.useRef(null),o=u.useState({onScrollCapture:lt,onWheelCapture:lt,onTouchMoveCapture:lt}),a=o[0],s=o[1],l=e.forwardProps,c=e.children,v=e.className,x=e.removeScrollBar,b=e.enabled,m=e.shards,E=e.sideCar,T=e.noRelative,I=e.noIsolation,h=e.inert,y=e.allowPinchZoom,w=e.as,C=w===void 0?"div":w,N=e.gapMode,P=rn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),g=E,A=ar([n,t]),k=ee(ee({},P),a);return u.createElement(u.Fragment,null,b&&u.createElement(g,{sideCar:sn,removeScrollBar:x,shards:m,noRelative:T,noIsolation:I,inert:h,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:N}),l?u.cloneElement(u.Children.only(c),ee(ee({},k),{ref:A})):u.createElement(C,ee({},k,{className:v,ref:A}),c))});qe.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qe.classNames={fullWidth:He,zeroRight:Be};var dr=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fr(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=dr();return t&&e.setAttribute("nonce",t),e}function hr(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function pr(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vr=function(){var e=0,t=null;return{add:function(n){e==0&&(t=fr())&&(hr(t,n),pr(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},mr=function(){var e=vr();return function(t,n){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},cn=function(){var e=mr(),t=function(n){var o=n.styles,a=n.dynamic;return e(o,a),null};return t},gr={left:0,top:0,right:0,gap:0},ut=function(e){return parseInt(e||"",10)||0},xr=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ut(n),ut(o),ut(a)]},yr=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return gr;var t=xr(e),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-n+t[2]-t[0])}},br=cn(),Ce="data-scroll-locked",Sr=function(e,t,n,o){var a=e.left,s=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(nr,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(c,"px ").concat(o,`;
  }
  body[`).concat(Ce,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Be,` {
    right: `).concat(c,"px ").concat(o,`;
  }
  
  .`).concat(He,` {
    margin-right: `).concat(c,"px ").concat(o,`;
  }
  
  .`).concat(Be," .").concat(Be,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(He," .").concat(He,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Ce,`] {
    `).concat(or,": ").concat(c,`px;
  }
`)},$t=function(){var e=parseInt(document.body.getAttribute(Ce)||"0",10);return isFinite(e)?e:0},Er=function(){u.useEffect(function(){return document.body.setAttribute(Ce,($t()+1).toString()),function(){var e=$t()-1;e<=0?document.body.removeAttribute(Ce):document.body.setAttribute(Ce,e.toString())}},[])},Cr=function(e){var t=e.noRelative,n=e.noImportant,o=e.gapMode,a=o===void 0?"margin":o;Er();var s=u.useMemo(function(){return yr(a)},[a]);return u.createElement(br,{styles:Sr(s,!t,a,n?"":"!important")})},gt=!1;if(typeof window<"u")try{var Me=Object.defineProperty({},"passive",{get:function(){return gt=!0,!0}});window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch{gt=!1}var be=gt?{passive:!1}:!1,wr=function(e){return e.tagName==="TEXTAREA"},ln=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!wr(e)&&n[t]==="visible")},Tr=function(e){return ln(e,"overflowY")},Nr=function(e){return ln(e,"overflowX")},Ut=function(e,t){var n=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var a=un(e,o);if(a){var s=dn(e,o),l=s[1],c=s[2];if(l>c)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},Pr=function(e){var t=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;return[t,n,o]},Rr=function(e){var t=e.scrollLeft,n=e.scrollWidth,o=e.clientWidth;return[t,n,o]},un=function(e,t){return e==="v"?Tr(t):Nr(t)},dn=function(e,t){return e==="v"?Pr(t):Rr(t)},jr=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ir=function(e,t,n,o,a){var s=jr(e,window.getComputedStyle(t).direction),l=s*o,c=n.target,v=t.contains(c),x=!1,b=l>0,m=0,E=0;do{if(!c)break;var T=dn(e,c),I=T[0],h=T[1],y=T[2],w=h-y-s*I;(I||w)&&un(e,c)&&(m+=w,E+=I);var C=c.parentNode;c=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!v&&c!==document.body||v&&(t.contains(c)||t===c));return(b&&Math.abs(m)<1||!b&&Math.abs(E)<1)&&(x=!0),x},Oe=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Wt=function(e){return[e.deltaX,e.deltaY]},Gt=function(e){return e&&"current"in e?e.current:e},_r=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ar=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Dr=0,Se=[];function kr(e){var t=u.useRef([]),n=u.useRef([0,0]),o=u.useRef(),a=u.useState(Dr++)[0],s=u.useState(cn)[0],l=u.useRef(e);u.useEffect(function(){l.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var h=tr([e.lockRef.current],(e.shards||[]).map(Gt),!0).filter(Boolean);return h.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),h.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=u.useCallback(function(h,y){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!l.current.allowPinchZoom;var w=Oe(h),C=n.current,N="deltaX"in h?h.deltaX:C[0]-w[0],P="deltaY"in h?h.deltaY:C[1]-w[1],g,A=h.target,k=Math.abs(N)>Math.abs(P)?"h":"v";if("touches"in h&&k==="h"&&A.type==="range")return!1;var B=Ut(k,A);if(!B)return!0;if(B?g=k:(g=k==="v"?"h":"v",B=Ut(k,A)),!B)return!1;if(!o.current&&"changedTouches"in h&&(N||P)&&(o.current=g),!g)return!0;var G=o.current||g;return Ir(G,y,h,G==="h"?N:P)},[]),v=u.useCallback(function(h){var y=h;if(!(!Se.length||Se[Se.length-1]!==s)){var w="deltaY"in y?Wt(y):Oe(y),C=t.current.filter(function(g){return g.name===y.type&&(g.target===y.target||y.target===g.shadowParent)&&_r(g.delta,w)})[0];if(C&&C.should){y.cancelable&&y.preventDefault();return}if(!C){var N=(l.current.shards||[]).map(Gt).filter(Boolean).filter(function(g){return g.contains(y.target)}),P=N.length>0?c(y,N[0]):!l.current.noIsolation;P&&y.cancelable&&y.preventDefault()}}},[]),x=u.useCallback(function(h,y,w,C){var N={name:h,delta:y,target:w,should:C,shadowParent:Mr(w)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(P){return P!==N})},1)},[]),b=u.useCallback(function(h){n.current=Oe(h),o.current=void 0},[]),m=u.useCallback(function(h){x(h.type,Wt(h),h.target,c(h,e.lockRef.current))},[]),E=u.useCallback(function(h){x(h.type,Oe(h),h.target,c(h,e.lockRef.current))},[]);u.useEffect(function(){return Se.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:E}),document.addEventListener("wheel",v,be),document.addEventListener("touchmove",v,be),document.addEventListener("touchstart",b,be),function(){Se=Se.filter(function(h){return h!==s}),document.removeEventListener("wheel",v,be),document.removeEventListener("touchmove",v,be),document.removeEventListener("touchstart",b,be)}},[]);var T=e.removeScrollBar,I=e.inert;return u.createElement(u.Fragment,null,I?u.createElement(s,{styles:Ar(a)}):null,T?u.createElement(Cr,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Mr(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Or=ur(sn,kr);var Ye=u.forwardRef(function(e,t){return u.createElement(qe,ee({},e,{ref:t,sideCar:Or}))});Ye.classNames=qe.classNames;var Vr=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ee=new WeakMap,Ve=new WeakMap,Le={},dt=0,fn=function(e){return e&&(e.host||fn(e.parentNode))},Lr=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=fn(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Fr=function(e,t,n,o){var a=Lr(t,Array.isArray(e)?e:[e]);Le[n]||(Le[n]=new WeakMap);var s=Le[n],l=[],c=new Set,v=new Set(a),x=function(m){!m||c.has(m)||(c.add(m),x(m.parentNode))};a.forEach(x);var b=function(m){!m||v.has(m)||Array.prototype.forEach.call(m.children,function(E){if(c.has(E))b(E);else try{var T=E.getAttribute(o),I=T!==null&&T!=="false",h=(Ee.get(E)||0)+1,y=(s.get(E)||0)+1;Ee.set(E,h),s.set(E,y),l.push(E),h===1&&I&&Ve.set(E,!0),y===1&&E.setAttribute(n,"true"),I||E.setAttribute(o,"true")}catch(w){console.error("aria-hidden: cannot operate on ",E,w)}})};return b(t),c.clear(),dt++,function(){l.forEach(function(m){var E=Ee.get(m)-1,T=s.get(m)-1;Ee.set(m,E),s.set(m,T),E||(Ve.has(m)||m.removeAttribute(o),Ve.delete(m)),T||m.removeAttribute(n)}),dt--,dt||(Ee=new WeakMap,Ee=new WeakMap,Ve=new WeakMap,Le={})}},jt=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),a=Vr(e);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live], script"))),Fr(o,a,n,"aria-hidden")):function(){return null}},Xe="Dialog",[hn]=Ie(Xe),[Br,Q]=hn(Xe),pn=e=>{const{__scopeDialog:t,children:n,open:o,defaultOpen:a,onOpenChange:s,modal:l=!0}=e,c=u.useRef(null),v=u.useRef(null),[x,b]=je({prop:o,defaultProp:a??!1,onChange:s,caller:Xe});return i.jsx(Br,{scope:t,triggerRef:c,contentRef:v,contentId:fe(),titleId:fe(),descriptionId:fe(),open:x,onOpenChange:b,onOpenToggle:u.useCallback(()=>b(m=>!m),[b]),modal:l,children:n})};pn.displayName=Xe;var vn="DialogTrigger",mn=u.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=Q(vn,n),s=F(t,a.triggerRef);return i.jsx(O.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":At(a.open),...o,ref:s,onClick:D(e.onClick,a.onOpenToggle)})});mn.displayName=vn;var It="DialogPortal",[Hr,gn]=hn(It,{forceMount:void 0}),xn=e=>{const{__scopeDialog:t,forceMount:n,children:o,container:a}=e,s=Q(It,t);return i.jsx(Hr,{scope:t,forceMount:n,children:u.Children.map(o,l=>i.jsx(_e,{present:n||s.open,children:i.jsx(ze,{asChild:!0,container:a,children:l})}))})};xn.displayName=It;var Ke="DialogOverlay",yn=u.forwardRef((e,t)=>{const n=gn(Ke,e.__scopeDialog),{forceMount:o=n.forceMount,...a}=e,s=Q(Ke,e.__scopeDialog);return s.modal?i.jsx(_e,{present:o||s.open,children:i.jsx($r,{...a,ref:t})}):null});yn.displayName=Ke;var Kr=Re("DialogOverlay.RemoveScroll"),$r=u.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=Q(Ke,n);return i.jsx(Ye,{as:Kr,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(O.div,{"data-state":At(a.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),he="DialogContent",bn=u.forwardRef((e,t)=>{const n=gn(he,e.__scopeDialog),{forceMount:o=n.forceMount,...a}=e,s=Q(he,e.__scopeDialog);return i.jsx(_e,{present:o||s.open,children:s.modal?i.jsx(Ur,{...a,ref:t}):i.jsx(Wr,{...a,ref:t})})});bn.displayName=he;var Ur=u.forwardRef((e,t)=>{const n=Q(he,e.__scopeDialog),o=u.useRef(null),a=F(t,n.contentRef,o);return u.useEffect(()=>{const s=o.current;if(s)return jt(s)},[]),i.jsx(Sn,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:D(e.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:D(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&s.preventDefault()}),onFocusOutside:D(e.onFocusOutside,s=>s.preventDefault())})}),Wr=u.forwardRef((e,t)=>{const n=Q(he,e.__scopeDialog),o=u.useRef(!1),a=u.useRef(!1);return i.jsx(Sn,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(o.current||n.triggerRef.current?.focus(),s.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=s.target;n.triggerRef.current?.contains(l)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),Sn=u.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:s,...l}=e,c=Q(he,n),v=u.useRef(null),x=F(t,v);return Rt(),i.jsxs(i.Fragment,{children:[i.jsx(Ge,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Nt,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":At(c.open),...l,ref:x,onDismiss:()=>c.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(Gr,{titleId:c.titleId}),i.jsx(qr,{contentRef:v,descriptionId:c.descriptionId})]})]})}),_t="DialogTitle",En=u.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=Q(_t,n);return i.jsx(O.h2,{id:a.titleId,...o,ref:t})});En.displayName=_t;var Cn="DialogDescription",wn=u.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=Q(Cn,n);return i.jsx(O.p,{id:a.descriptionId,...o,ref:t})});wn.displayName=Cn;var Tn="DialogClose",Nn=u.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=Q(Tn,n);return i.jsx(O.button,{type:"button",...o,ref:t,onClick:D(e.onClick,()=>a.onOpenChange(!1))})});Nn.displayName=Tn;function At(e){return e?"open":"closed"}var Pn="DialogTitleWarning",[Ta,Rn]=Vo(Pn,{contentName:he,titleName:_t,docsSlug:"dialog"}),Gr=({titleId:e})=>{const t=Rn(Pn),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},zr="DialogDescriptionWarning",qr=({contentRef:e,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Rn(zr).contentName}}.`;return u.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(o))},[o,e,t]),null},Yr=pn,Xr=mn,Zr=xn,Jr=yn,Qr=bn,ei=En,ti=wn,ni=Nn;function jn(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function $e(e,[t,n]){return Math.min(n,Math.max(t,e))}var Ze="Popover",[In]=Ie(Ze,[We]),Ae=We(),[oi,ie]=In(Ze),_n=e=>{const{__scopePopover:t,children:n,open:o,defaultOpen:a,onOpenChange:s,modal:l=!1}=e,c=Ae(t),v=u.useRef(null),[x,b]=u.useState(!1),[m,E]=je({prop:o,defaultProp:a??!1,onChange:s,caller:Ze});return i.jsx(Yt,{...c,children:i.jsx(oi,{scope:t,contentId:fe(),triggerRef:v,open:m,onOpenChange:E,onOpenToggle:u.useCallback(()=>E(T=>!T),[E]),hasCustomAnchor:x,onCustomAnchorAdd:u.useCallback(()=>b(!0),[]),onCustomAnchorRemove:u.useCallback(()=>b(!1),[]),modal:l,children:n})})};_n.displayName=Ze;var An="PopoverAnchor",ri=u.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,a=ie(An,n),s=Ae(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=a;return u.useEffect(()=>(l(),()=>c()),[l,c]),i.jsx(Pt,{...s,...o,ref:t})});ri.displayName=An;var Dn="PopoverTrigger",kn=u.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,a=ie(Dn,n),s=Ae(n),l=F(t,a.triggerRef),c=i.jsx(O.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Hn(a.open),...o,ref:l,onClick:D(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?c:i.jsx(Pt,{asChild:!0,...s,children:c})});kn.displayName=Dn;var Dt="PopoverPortal",[ii,ai]=In(Dt,{forceMount:void 0}),Mn=e=>{const{__scopePopover:t,forceMount:n,children:o,container:a}=e,s=ie(Dt,t);return i.jsx(ii,{scope:t,forceMount:n,children:i.jsx(_e,{present:n||s.open,children:i.jsx(ze,{asChild:!0,container:a,children:o})})})};Mn.displayName=Dt;var we="PopoverContent",On=u.forwardRef((e,t)=>{const n=ai(we,e.__scopePopover),{forceMount:o=n.forceMount,...a}=e,s=ie(we,e.__scopePopover);return i.jsx(_e,{present:o||s.open,children:s.modal?i.jsx(ci,{...a,ref:t}):i.jsx(li,{...a,ref:t})})});On.displayName=we;var si=Re("PopoverContent.RemoveScroll"),ci=u.forwardRef((e,t)=>{const n=ie(we,e.__scopePopover),o=u.useRef(null),a=F(t,o),s=u.useRef(!1);return u.useEffect(()=>{const l=o.current;if(l)return jt(l)},[]),i.jsx(Ye,{as:si,allowPinchZoom:!0,children:i.jsx(Vn,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:D(e.onCloseAutoFocus,l=>{l.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:D(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,v=c.button===0&&c.ctrlKey===!0,x=c.button===2||v;s.current=x},{checkForDefaultPrevented:!1}),onFocusOutside:D(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),li=u.forwardRef((e,t)=>{const n=ie(we,e.__scopePopover),o=u.useRef(!1),a=u.useRef(!1);return i.jsx(Vn,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(o.current||n.triggerRef.current?.focus(),s.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=s.target;n.triggerRef.current?.contains(l)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),Vn=u.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:v,onFocusOutside:x,onInteractOutside:b,...m}=e,E=ie(we,n),T=Ae(n);return Rt(),i.jsx(Ge,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Nt,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:b,onEscapeKeyDown:c,onPointerDownOutside:v,onFocusOutside:x,onDismiss:()=>E.onOpenChange(!1),children:i.jsx(Zt,{"data-state":Hn(E.open),role:"dialog",id:E.contentId,...T,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ln="PopoverClose",Fn=u.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,a=ie(Ln,n);return i.jsx(O.button,{type:"button",...o,ref:t,onClick:D(e.onClick,()=>a.onOpenChange(!1))})});Fn.displayName=Ln;var ui="PopoverArrow",Bn=u.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,a=Ae(n);return i.jsx(Xt,{...a,...o,ref:t})});Bn.displayName=ui;function Hn(e){return e?"open":"closed"}var Kn=_n,$n=kn,Un=Mn,Wn=On,di=Fn,fi=Bn,hi=[" ","Enter","ArrowUp","ArrowDown"],pi=[" ","Enter"],pe="Select",[Je,Qe,vi]=tn(pe),[Te]=Ie(pe,[vi,We]),et=We(),[mi,ae]=Te(pe),[gi,xi]=Te(pe),Gn=e=>{const{__scopeSelect:t,children:n,open:o,defaultOpen:a,onOpenChange:s,value:l,defaultValue:c,onValueChange:v,dir:x,name:b,autoComplete:m,disabled:E,required:T,form:I}=e,h=et(t),[y,w]=u.useState(null),[C,N]=u.useState(null),[P,g]=u.useState(!1),A=nn(x),[k,B]=je({prop:o,defaultProp:a??!1,onChange:s,caller:pe}),[G,z]=je({prop:l,defaultProp:c,onChange:v,caller:pe}),M=u.useRef(null),H=y?I||!!y.closest("form"):!0,[Y,$]=u.useState(new Set),U=Array.from(Y).map(V=>V.props.value).join(";");return i.jsx(Yt,{...h,children:i.jsxs(mi,{required:T,scope:t,trigger:y,onTriggerChange:w,valueNode:C,onValueNodeChange:N,valueNodeHasChildren:P,onValueNodeHasChildrenChange:g,contentId:fe(),value:G,onValueChange:z,open:k,onOpenChange:B,dir:A,triggerPointerDownPosRef:M,disabled:E,children:[i.jsx(Je.Provider,{scope:t,children:i.jsx(gi,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(V=>{$(K=>new Set(K).add(V))},[]),onNativeOptionRemove:u.useCallback(V=>{$(K=>{const W=new Set(K);return W.delete(V),W})},[]),children:n})}),H?i.jsxs(vo,{"aria-hidden":!0,required:T,tabIndex:-1,name:b,autoComplete:m,value:G,onChange:V=>z(V.target.value),disabled:E,form:I,children:[G===void 0?i.jsx("option",{value:""}):null,Array.from(Y)]},U):null]})})};Gn.displayName=pe;var zn="SelectTrigger",qn=u.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:o=!1,...a}=e,s=et(n),l=ae(zn,n),c=l.disabled||o,v=F(t,l.onTriggerChange),x=Qe(n),b=u.useRef("touch"),[m,E,T]=go(h=>{const y=x().filter(N=>!N.disabled),w=y.find(N=>N.value===l.value),C=xo(y,h,w);C!==void 0&&l.onValueChange(C.value)}),I=h=>{c||(l.onOpenChange(!0),T()),h&&(l.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return i.jsx(Pt,{asChild:!0,...s,children:i.jsx(O.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":mo(l.value)?"":void 0,...a,ref:v,onClick:D(a.onClick,h=>{h.currentTarget.focus(),b.current!=="mouse"&&I(h)}),onPointerDown:D(a.onPointerDown,h=>{b.current=h.pointerType;const y=h.target;y.hasPointerCapture(h.pointerId)&&y.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(I(h),h.preventDefault())}),onKeyDown:D(a.onKeyDown,h=>{const y=m.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&E(h.key),!(y&&h.key===" ")&&hi.includes(h.key)&&(I(),h.preventDefault())})})})});qn.displayName=zn;var Yn="SelectValue",Xn=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:a,children:s,placeholder:l="",...c}=e,v=ae(Yn,n),{onValueNodeHasChildrenChange:x}=v,b=s!==void 0,m=F(t,v.onValueNodeChange);return te(()=>{x(b)},[x,b]),i.jsx(O.span,{...c,ref:m,style:{pointerEvents:"none"},children:mo(v.value)?i.jsx(i.Fragment,{children:l}):s})});Xn.displayName=Yn;var yi="SelectIcon",bi=u.forwardRef((e,t)=>{const{__scopeSelect:n,children:o,...a}=e;return i.jsx(O.span,{"aria-hidden":!0,...a,ref:t,children:o||"▼"})});bi.displayName=yi;var Si="SelectPortal",Zn=e=>i.jsx(ze,{asChild:!0,...e});Zn.displayName=Si;var ve="SelectContent",Jn=u.forwardRef((e,t)=>{const n=ae(ve,e.__scopeSelect),[o,a]=u.useState();if(te(()=>{a(new DocumentFragment)},[]),!n.open){const s=o;return s?qt.createPortal(i.jsx(Qn,{scope:e.__scopeSelect,children:i.jsx(Je.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(eo,{...e,ref:t})});Jn.displayName=ve;var J=10,[Qn,se]=Te(ve),Ei="SelectContentImpl",Ci=Re("SelectContent.RemoveScroll"),eo=u.forwardRef((e,t)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:l,side:c,sideOffset:v,align:x,alignOffset:b,arrowPadding:m,collisionBoundary:E,collisionPadding:T,sticky:I,hideWhenDetached:h,avoidCollisions:y,...w}=e,C=ae(ve,n),[N,P]=u.useState(null),[g,A]=u.useState(null),k=F(t,_=>P(_)),[B,G]=u.useState(null),[z,M]=u.useState(null),H=Qe(n),[Y,$]=u.useState(!1),U=u.useRef(!1);u.useEffect(()=>{if(N)return jt(N)},[N]),Rt();const V=u.useCallback(_=>{const[f,...r]=H().map(S=>S.ref.current),[d]=r.slice(-1),p=document.activeElement;for(const S of _)if(S===p||(S?.scrollIntoView({block:"nearest"}),S===f&&g&&(g.scrollTop=0),S===d&&g&&(g.scrollTop=g.scrollHeight),S?.focus(),document.activeElement!==p))return},[H,g]),K=u.useCallback(()=>V([B,N]),[V,B,N]);u.useEffect(()=>{Y&&K()},[Y,K]);const{onOpenChange:W,triggerPointerDownPosRef:X}=C;u.useEffect(()=>{if(N){let _={x:0,y:0};const f=d=>{_={x:Math.abs(Math.round(d.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(d.pageY)-(X.current?.y??0))}},r=d=>{_.x<=10&&_.y<=10?d.preventDefault():N.contains(d.target)||W(!1),document.removeEventListener("pointermove",f),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",f),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",f),document.removeEventListener("pointerup",r,{capture:!0})}}},[N,W,X]),u.useEffect(()=>{const _=()=>W(!1);return window.addEventListener("blur",_),window.addEventListener("resize",_),()=>{window.removeEventListener("blur",_),window.removeEventListener("resize",_)}},[W]);const[me,ce]=go(_=>{const f=H().filter(p=>!p.disabled),r=f.find(p=>p.ref.current===document.activeElement),d=xo(f,_,r);d&&setTimeout(()=>d.ref.current.focus())}),ge=u.useCallback((_,f,r)=>{const d=!U.current&&!r;(C.value!==void 0&&C.value===f||d)&&(G(_),d&&(U.current=!0))},[C.value]),xe=u.useCallback(()=>N?.focus(),[N]),ne=u.useCallback((_,f,r)=>{const d=!U.current&&!r;(C.value!==void 0&&C.value===f||d)&&M(_)},[C.value]),ye=o==="popper"?xt:to,le=ye===xt?{side:c,sideOffset:v,align:x,alignOffset:b,arrowPadding:m,collisionBoundary:E,collisionPadding:T,sticky:I,hideWhenDetached:h,avoidCollisions:y}:{};return i.jsx(Qn,{scope:n,content:N,viewport:g,onViewportChange:A,itemRefCallback:ge,selectedItem:B,onItemLeave:xe,itemTextRefCallback:ne,focusSelectedItem:K,selectedItemText:z,position:o,isPositioned:Y,searchRef:me,children:i.jsx(Ye,{as:Ci,allowPinchZoom:!0,children:i.jsx(Ge,{asChild:!0,trapped:C.open,onMountAutoFocus:_=>{_.preventDefault()},onUnmountAutoFocus:D(a,_=>{C.trigger?.focus({preventScroll:!0}),_.preventDefault()}),children:i.jsx(Nt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:_=>_.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:i.jsx(ye,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:_=>_.preventDefault(),...w,...le,onPlaced:()=>$(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:D(w.onKeyDown,_=>{const f=_.ctrlKey||_.altKey||_.metaKey;if(_.key==="Tab"&&_.preventDefault(),!f&&_.key.length===1&&ce(_.key),["ArrowUp","ArrowDown","Home","End"].includes(_.key)){let d=H().filter(p=>!p.disabled).map(p=>p.ref.current);if(["ArrowUp","End"].includes(_.key)&&(d=d.slice().reverse()),["ArrowUp","ArrowDown"].includes(_.key)){const p=_.target,S=d.indexOf(p);d=d.slice(S+1)}setTimeout(()=>V(d)),_.preventDefault()}})})})})})})});eo.displayName=Ei;var wi="SelectItemAlignedPosition",to=u.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:o,...a}=e,s=ae(ve,n),l=se(ve,n),[c,v]=u.useState(null),[x,b]=u.useState(null),m=F(t,k=>b(k)),E=Qe(n),T=u.useRef(!1),I=u.useRef(!0),{viewport:h,selectedItem:y,selectedItemText:w,focusSelectedItem:C}=l,N=u.useCallback(()=>{if(s.trigger&&s.valueNode&&c&&x&&h&&y&&w){const k=s.trigger.getBoundingClientRect(),B=x.getBoundingClientRect(),G=s.valueNode.getBoundingClientRect(),z=w.getBoundingClientRect();if(s.dir!=="rtl"){const p=z.left-B.left,S=G.left-p,j=k.left-S,R=k.width+j,L=Math.max(R,B.width),q=window.innerWidth-J,oe=$e(S,[J,Math.max(J,q-L)]);c.style.minWidth=R+"px",c.style.left=oe+"px"}else{const p=B.right-z.right,S=window.innerWidth-G.right-p,j=window.innerWidth-k.right-S,R=k.width+j,L=Math.max(R,B.width),q=window.innerWidth-J,oe=$e(S,[J,Math.max(J,q-L)]);c.style.minWidth=R+"px",c.style.right=oe+"px"}const M=E(),H=window.innerHeight-J*2,Y=h.scrollHeight,$=window.getComputedStyle(x),U=parseInt($.borderTopWidth,10),V=parseInt($.paddingTop,10),K=parseInt($.borderBottomWidth,10),W=parseInt($.paddingBottom,10),X=U+V+Y+W+K,me=Math.min(y.offsetHeight*5,X),ce=window.getComputedStyle(h),ge=parseInt(ce.paddingTop,10),xe=parseInt(ce.paddingBottom,10),ne=k.top+k.height/2-J,ye=H-ne,le=y.offsetHeight/2,_=y.offsetTop+le,f=U+V+_,r=X-f;if(f<=ne){const p=M.length>0&&y===M[M.length-1].ref.current;c.style.bottom="0px";const S=x.clientHeight-h.offsetTop-h.offsetHeight,j=Math.max(ye,le+(p?xe:0)+S+K),R=f+j;c.style.height=R+"px"}else{const p=M.length>0&&y===M[0].ref.current;c.style.top="0px";const j=Math.max(ne,U+h.offsetTop+(p?ge:0)+le)+r;c.style.height=j+"px",h.scrollTop=f-ne+h.offsetTop}c.style.margin=`${J}px 0`,c.style.minHeight=me+"px",c.style.maxHeight=H+"px",o?.(),requestAnimationFrame(()=>T.current=!0)}},[E,s.trigger,s.valueNode,c,x,h,y,w,s.dir,o]);te(()=>N(),[N]);const[P,g]=u.useState();te(()=>{x&&g(window.getComputedStyle(x).zIndex)},[x]);const A=u.useCallback(k=>{k&&I.current===!0&&(N(),C?.(),I.current=!1)},[N,C]);return i.jsx(Ni,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:T,onScrollButtonChange:A,children:i.jsx("div",{ref:v,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:i.jsx(O.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});to.displayName=wi;var Ti="SelectPopperPosition",xt=u.forwardRef((e,t)=>{const{__scopeSelect:n,align:o="start",collisionPadding:a=J,...s}=e,l=et(n);return i.jsx(Zt,{...l,...s,ref:t,align:o,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});xt.displayName=Ti;var[Ni,kt]=Te(ve,{}),yt="SelectViewport",no=u.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:o,...a}=e,s=se(yt,n),l=kt(yt,n),c=F(t,s.onViewportChange),v=u.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),i.jsx(Je.Slot,{scope:n,children:i.jsx(O.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:D(a.onScroll,x=>{const b=x.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:E}=l;if(E?.current&&m){const T=Math.abs(v.current-b.scrollTop);if(T>0){const I=window.innerHeight-J*2,h=parseFloat(m.style.minHeight),y=parseFloat(m.style.height),w=Math.max(h,y);if(w<I){const C=w+T,N=Math.min(I,C),P=C-N;m.style.height=N+"px",m.style.bottom==="0px"&&(b.scrollTop=P>0?P:0,m.style.justifyContent="flex-end")}}}v.current=b.scrollTop})})})]})});no.displayName=yt;var oo="SelectGroup",[Pi,Ri]=Te(oo),ro=u.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,a=fe();return i.jsx(Pi,{scope:n,id:a,children:i.jsx(O.div,{role:"group","aria-labelledby":a,...o,ref:t})})});ro.displayName=oo;var io="SelectLabel",ji=u.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,a=Ri(io,n);return i.jsx(O.div,{id:a.id,...o,ref:t})});ji.displayName=io;var Ue="SelectItem",[Ii,ao]=Te(Ue),so=u.forwardRef((e,t)=>{const{__scopeSelect:n,value:o,disabled:a=!1,textValue:s,...l}=e,c=ae(Ue,n),v=se(Ue,n),x=c.value===o,[b,m]=u.useState(s??""),[E,T]=u.useState(!1),I=F(t,C=>v.itemRefCallback?.(C,o,a)),h=fe(),y=u.useRef("touch"),w=()=>{a||(c.onValueChange(o),c.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Ii,{scope:n,value:o,disabled:a,textId:h,isSelected:x,onItemTextChange:u.useCallback(C=>{m(N=>N||(C?.textContent??"").trim())},[]),children:i.jsx(Je.ItemSlot,{scope:n,value:o,disabled:a,textValue:b,children:i.jsx(O.div,{role:"option","aria-labelledby":h,"data-highlighted":E?"":void 0,"aria-selected":x&&E,"data-state":x?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:I,onFocus:D(l.onFocus,()=>T(!0)),onBlur:D(l.onBlur,()=>T(!1)),onClick:D(l.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:D(l.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:D(l.onPointerDown,C=>{y.current=C.pointerType}),onPointerMove:D(l.onPointerMove,C=>{y.current=C.pointerType,a?v.onItemLeave?.():y.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:D(l.onPointerLeave,C=>{C.currentTarget===document.activeElement&&v.onItemLeave?.()}),onKeyDown:D(l.onKeyDown,C=>{v.searchRef?.current!==""&&C.key===" "||(pi.includes(C.key)&&w(),C.key===" "&&C.preventDefault())})})})})});so.displayName=Ue;var Pe="SelectItemText",co=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:a,...s}=e,l=ae(Pe,n),c=se(Pe,n),v=ao(Pe,n),x=xi(Pe,n),[b,m]=u.useState(null),E=F(t,w=>m(w),v.onItemTextChange,w=>c.itemTextRefCallback?.(w,v.value,v.disabled)),T=b?.textContent,I=u.useMemo(()=>i.jsx("option",{value:v.value,disabled:v.disabled,children:T},v.value),[v.disabled,v.value,T]),{onNativeOptionAdd:h,onNativeOptionRemove:y}=x;return te(()=>(h(I),()=>y(I)),[h,y,I]),i.jsxs(i.Fragment,{children:[i.jsx(O.span,{id:v.textId,...s,ref:E}),v.isSelected&&l.valueNode&&!l.valueNodeHasChildren?qt.createPortal(s.children,l.valueNode):null]})});co.displayName=Pe;var lo="SelectItemIndicator",uo=u.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return ao(lo,n).isSelected?i.jsx(O.span,{"aria-hidden":!0,...o,ref:t}):null});uo.displayName=lo;var bt="SelectScrollUpButton",fo=u.forwardRef((e,t)=>{const n=se(bt,e.__scopeSelect),o=kt(bt,e.__scopeSelect),[a,s]=u.useState(!1),l=F(t,o.onScrollButtonChange);return te(()=>{if(n.viewport&&n.isPositioned){let c=function(){const x=v.scrollTop>0;s(x)};const v=n.viewport;return c(),v.addEventListener("scroll",c),()=>v.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),a?i.jsx(po,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:v}=n;c&&v&&(c.scrollTop=c.scrollTop-v.offsetHeight)}}):null});fo.displayName=bt;var St="SelectScrollDownButton",ho=u.forwardRef((e,t)=>{const n=se(St,e.__scopeSelect),o=kt(St,e.__scopeSelect),[a,s]=u.useState(!1),l=F(t,o.onScrollButtonChange);return te(()=>{if(n.viewport&&n.isPositioned){let c=function(){const x=v.scrollHeight-v.clientHeight,b=Math.ceil(v.scrollTop)<x;s(b)};const v=n.viewport;return c(),v.addEventListener("scroll",c),()=>v.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),a?i.jsx(po,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:v}=n;c&&v&&(c.scrollTop=c.scrollTop+v.offsetHeight)}}):null});ho.displayName=St;var po=u.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:o,...a}=e,s=se("SelectScrollButton",n),l=u.useRef(null),c=Qe(n),v=u.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return u.useEffect(()=>()=>v(),[v]),te(()=>{c().find(b=>b.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),i.jsx(O.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:D(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(o,50))}),onPointerMove:D(a.onPointerMove,()=>{s.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(o,50))}),onPointerLeave:D(a.onPointerLeave,()=>{v()})})}),_i="SelectSeparator",Ai=u.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return i.jsx(O.div,{"aria-hidden":!0,...o,ref:t})});Ai.displayName=_i;var Et="SelectArrow",Di=u.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,a=et(n),s=ae(Et,n),l=se(Et,n);return s.open&&l.position==="popper"?i.jsx(Xt,{...a,...o,ref:t}):null});Di.displayName=Et;var ki="SelectBubbleInput",vo=u.forwardRef(({__scopeSelect:e,value:t,...n},o)=>{const a=u.useRef(null),s=F(o,a),l=jn(t);return u.useEffect(()=>{const c=a.current;if(!c)return;const v=window.HTMLSelectElement.prototype,b=Object.getOwnPropertyDescriptor(v,"value").set;if(l!==t&&b){const m=new Event("change",{bubbles:!0});b.call(c,t),c.dispatchEvent(m)}},[l,t]),i.jsx(O.select,{...n,style:{...Lo,...n.style},ref:s,defaultValue:t})});vo.displayName=ki;function mo(e){return e===""||e===void 0}function go(e){const t=vt(e),n=u.useRef(""),o=u.useRef(0),a=u.useCallback(l=>{const c=n.current+l;t(c),(function v(x){n.current=x,window.clearTimeout(o.current),x!==""&&(o.current=window.setTimeout(()=>v(""),1e3))})(c)},[t]),s=u.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,a,s]}function xo(e,t,n){const a=t.length>1&&Array.from(t).every(x=>x===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=Mi(e,Math.max(s,0));a.length===1&&(l=l.filter(x=>x!==n));const v=l.find(x=>x.textValue.toLowerCase().startsWith(a.toLowerCase()));return v!==n?v:void 0}function Mi(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var Oi=Gn,Vi=qn,Li=Xn,Fi=Zn,Bi=Jn,Hi=no,Ki=ro,$i=so,Ui=co,Wi=uo,Gi=fo,zi=ho,yo=["PageUp","PageDown"],bo=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],So={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ne="Slider",[Ct,qi,Yi]=tn(Ne),[Eo]=Ie(Ne,[Yi]),[Xi,tt]=Eo(Ne),Co=u.forwardRef((e,t)=>{const{name:n,min:o=0,max:a=100,step:s=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:v=0,defaultValue:x=[o],value:b,onValueChange:m=()=>{},onValueCommit:E=()=>{},inverted:T=!1,form:I,...h}=e,y=u.useRef(new Set),w=u.useRef(0),N=l==="horizontal"?Zi:Ji,[P=[],g]=je({prop:b,defaultProp:x,onChange:M=>{[...y.current][w.current]?.focus(),m(M)}}),A=u.useRef(P);function k(M){const H=oa(P,M);z(M,H)}function B(M){z(M,w.current)}function G(){const M=A.current[w.current];P[w.current]!==M&&E(P)}function z(M,H,{commit:Y}={commit:!1}){const $=sa(s),U=ca(Math.round((M-o)/s)*s+o,$),V=$e(U,[o,a]);g((K=[])=>{const W=ta(K,V,H);if(aa(W,v*s)){w.current=W.indexOf(V);const X=String(W)!==String(K);return X&&Y&&E(W),X?W:K}else return K})}return i.jsx(Xi,{scope:e.__scopeSlider,name:n,disabled:c,min:o,max:a,valueIndexToChangeRef:w,thumbs:y.current,values:P,orientation:l,form:I,children:i.jsx(Ct.Provider,{scope:e.__scopeSlider,children:i.jsx(Ct.Slot,{scope:e.__scopeSlider,children:i.jsx(N,{"aria-disabled":c,"data-disabled":c?"":void 0,...h,ref:t,onPointerDown:D(h.onPointerDown,()=>{c||(A.current=P)}),min:o,max:a,inverted:T,onSlideStart:c?void 0:k,onSlideMove:c?void 0:B,onSlideEnd:c?void 0:G,onHomeKeyDown:()=>!c&&z(o,0,{commit:!0}),onEndKeyDown:()=>!c&&z(a,P.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:H})=>{if(!c){const U=yo.includes(M.key)||M.shiftKey&&bo.includes(M.key)?10:1,V=w.current,K=P[V],W=s*U*H;z(K+W,V,{commit:!0})}}})})})})});Co.displayName=Ne;var[wo,To]=Eo(Ne,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Zi=u.forwardRef((e,t)=>{const{min:n,max:o,dir:a,inverted:s,onSlideStart:l,onSlideMove:c,onSlideEnd:v,onStepKeyDown:x,...b}=e,[m,E]=u.useState(null),T=F(t,N=>E(N)),I=u.useRef(void 0),h=nn(a),y=h==="ltr",w=y&&!s||!y&&s;function C(N){const P=I.current||m.getBoundingClientRect(),g=[0,P.width],k=Mt(g,w?[n,o]:[o,n]);return I.current=P,k(N-P.left)}return i.jsx(wo,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:i.jsx(No,{dir:h,"data-orientation":"horizontal",...b,ref:T,style:{...b.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const P=C(N.clientX);l?.(P)},onSlideMove:N=>{const P=C(N.clientX);c?.(P)},onSlideEnd:()=>{I.current=void 0,v?.()},onStepKeyDown:N=>{const g=So[w?"from-left":"from-right"].includes(N.key);x?.({event:N,direction:g?-1:1})}})})}),Ji=u.forwardRef((e,t)=>{const{min:n,max:o,inverted:a,onSlideStart:s,onSlideMove:l,onSlideEnd:c,onStepKeyDown:v,...x}=e,b=u.useRef(null),m=F(t,b),E=u.useRef(void 0),T=!a;function I(h){const y=E.current||b.current.getBoundingClientRect(),w=[0,y.height],N=Mt(w,T?[o,n]:[n,o]);return E.current=y,N(h-y.top)}return i.jsx(wo,{scope:e.__scopeSlider,startEdge:T?"bottom":"top",endEdge:T?"top":"bottom",size:"height",direction:T?1:-1,children:i.jsx(No,{"data-orientation":"vertical",...x,ref:m,style:{...x.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:h=>{const y=I(h.clientY);s?.(y)},onSlideMove:h=>{const y=I(h.clientY);l?.(y)},onSlideEnd:()=>{E.current=void 0,c?.()},onStepKeyDown:h=>{const w=So[T?"from-bottom":"from-top"].includes(h.key);v?.({event:h,direction:w?-1:1})}})})}),No=u.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:o,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:v,...x}=e,b=tt(Ne,n);return i.jsx(O.span,{...x,ref:t,onKeyDown:D(e.onKeyDown,m=>{m.key==="Home"?(l(m),m.preventDefault()):m.key==="End"?(c(m),m.preventDefault()):yo.concat(bo).includes(m.key)&&(v(m),m.preventDefault())}),onPointerDown:D(e.onPointerDown,m=>{const E=m.target;E.setPointerCapture(m.pointerId),m.preventDefault(),b.thumbs.has(E)?E.focus():o(m)}),onPointerMove:D(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&a(m)}),onPointerUp:D(e.onPointerUp,m=>{const E=m.target;E.hasPointerCapture(m.pointerId)&&(E.releasePointerCapture(m.pointerId),s(m))})})}),Po="SliderTrack",Ro=u.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,a=tt(Po,n);return i.jsx(O.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...o,ref:t})});Ro.displayName=Po;var wt="SliderRange",jo=u.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,a=tt(wt,n),s=To(wt,n),l=u.useRef(null),c=F(t,l),v=a.values.length,x=a.values.map(E=>Ao(E,a.min,a.max)),b=v>1?Math.min(...x):0,m=100-Math.max(...x);return i.jsx(O.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...o,ref:c,style:{...e.style,[s.startEdge]:b+"%",[s.endEdge]:m+"%"}})});jo.displayName=wt;var Tt="SliderThumb",Io=u.forwardRef((e,t)=>{const n=qi(e.__scopeSlider),[o,a]=u.useState(null),s=F(t,c=>a(c)),l=u.useMemo(()=>o?n().findIndex(c=>c.ref.current===o):-1,[n,o]);return i.jsx(Qi,{...e,ref:s,index:l})}),Qi=u.forwardRef((e,t)=>{const{__scopeSlider:n,index:o,name:a,...s}=e,l=tt(Tt,n),c=To(Tt,n),[v,x]=u.useState(null),b=F(t,C=>x(C)),m=v?l.form||!!v.closest("form"):!0,E=Fo(v),T=l.values[o],I=T===void 0?0:Ao(T,l.min,l.max),h=na(o,l.values.length),y=E?.[c.size],w=y?ra(y,I,c.direction):0;return u.useEffect(()=>{if(v)return l.thumbs.add(v),()=>{l.thumbs.delete(v)}},[v,l.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${I}% + ${w}px)`},children:[i.jsx(Ct.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(O.span,{role:"slider","aria-label":e["aria-label"]||h,"aria-valuemin":l.min,"aria-valuenow":T,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...s,ref:b,style:T===void 0?{display:"none"}:e.style,onFocus:D(e.onFocus,()=>{l.valueIndexToChangeRef.current=o})})}),m&&i.jsx(_o,{name:a??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:T},o)]})});Io.displayName=Tt;var ea="RadioBubbleInput",_o=u.forwardRef(({__scopeSlider:e,value:t,...n},o)=>{const a=u.useRef(null),s=F(a,o),l=jn(t);return u.useEffect(()=>{const c=a.current;if(!c)return;const v=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(v,"value").set;if(l!==t&&b){const m=new Event("input",{bubbles:!0});b.call(c,t),c.dispatchEvent(m)}},[l,t]),i.jsx(O.input,{style:{display:"none"},...n,ref:s,defaultValue:t})});_o.displayName=ea;function ta(e=[],t,n){const o=[...e];return o[n]=t,o.sort((a,s)=>a-s)}function Ao(e,t,n){const s=100/(n-t)*(e-t);return $e(s,[0,100])}function na(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function oa(e,t){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-t)),o=Math.min(...n);return n.indexOf(o)}function ra(e,t,n){const o=e/2,s=Mt([0,50],[0,o]);return(o-s(t)*n)*n}function ia(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function aa(e,t){if(t>0){const n=ia(e);return Math.min(...n)>=t}return!0}function Mt(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(n-e[0])}}function sa(e){return(String(e).split(".")[1]||"").length}function ca(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var la=Co,ua=Ro,da=jo,fa=Io;function ha({slot:e,list:t,value:n,onChange:o}){return i.jsxs(Oi,{value:String(n.id),onValueChange:a=>{o(e,Number(a))},children:[i.jsx(Vi,{className:"SelectTrigger btn-bg p-2 border rounded middle-of-row second-row","aria-label":"Duration selector",children:i.jsx(Li,{})}),i.jsx(Fi,{children:i.jsxs(Bi,{className:"SelectContent",children:[i.jsx(Gi,{className:"SelectScrollButton",children:i.jsx("i",{className:"bi bi-chevron-up"})}),i.jsx(Hi,{className:"SelectViewport",children:i.jsx(Ki,{children:t.map(a=>i.jsxs($i,{className:"SelectItem",value:String(a.id),"data-state":a.id===n.id?"checked":"unchecked",children:[i.jsx(Ui,{children:a.name}),i.jsx(Wi,{className:"SelectItemIndicator",children:i.jsx("i",{className:"bi bi-check"})})]},`item-${a.id}`))})}),i.jsx(zi,{className:"SelectScrollButton",children:i.jsx("i",{className:"bi bi-chevron-down"})})]})})]})}function ft({children:e}){return i.jsxs(Bo,{children:[i.jsx(Ho,{asChild:!0,children:i.jsx("i",{className:"bi bi-info-circle fs-6 ms-1"})}),i.jsx(Ko,{className:"TooltipContent",children:e})]})}function pa({slot:e,value:t,onChange:n}){const[o,a]=u.useState(t);function s(l){n(e,l[0])}return i.jsxs(Kn,{children:[i.jsx($n,{asChild:!0,children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row third-row w-5rem","aria-label":"Set Velocity",children:t})}),i.jsx(Un,{children:i.jsxs(Wn,{className:"PopoverContent",sideOffset:5,children:[i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[i.jsx("p",{className:"Text",style:{marginBottom:10},children:"Velocity"}),i.jsx("input",{type:"text",readOnly:!0,value:o}),i.jsx("form",{children:i.jsxs(la,{className:"SliderRoot",defaultValue:[o],onValueChange:l=>a(l[0]),onValueCommit:s,max:127,min:0,step:1,children:[i.jsx(ua,{className:"SliderTrack",children:i.jsx(da,{className:"SliderRange"})}),i.jsx(fa,{className:"SliderThumb","aria-label":"Volume"})]})})]}),i.jsx(di,{className:"PopoverClose","aria-label":"Close",children:i.jsx("i",{className:"bi bi-x"})}),i.jsx(fi,{className:"PopoverArrow"})]})})]})}function va({slot:e,pitch:t,onChange:n}){const[o,a]=u.useState(t),[s,l]=u.useState(!1);u.useEffect(()=>{a(t)},[t,s]);function c(){n(e,o.midiValue),l(!1)}function v(E){console.log(`handleOctaveChange == value: ${E}`);const T=o.setOctave(E);console.log(`octave newPitch: ${JSON.stringify(T)}`),a(T)}function x(E){console.log(`handlePitchChange == value: ${E}`);const T=o.setPitchClass(E);console.log(`pitchClass newPitch: ${JSON.stringify(T)}`),a(T)}const b="btn-bg p-2 border rounded pitch-grid-button",m=o.isRest()?"R":o.pitchClass;return i.jsxs(Kn,{modal:!0,open:s,onOpenChange:l,children:[i.jsx($n,{asChild:!0,children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row","aria-label":"Select pitch",children:t.toString()})}),i.jsx(Un,{children:i.jsxs(Wn,{className:"PopoverContent",sideOffset:5,children:[i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[i.jsx("p",{className:"Text",style:{marginBottom:10},children:"Select Pitch"}),i.jsxs("form",{children:[i.jsx("label",{htmlFor:"pitch",className:"form-label pe-2",children:"Pitch"}),i.jsx("input",{id:"pitch",type:"text",readOnly:!0,value:o.toString()})]}),i.jsx(ma,{value:o.octave,onValueChange:v}),i.jsx("table",{className:"p-2",children:i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("td",{children:i.jsx("button",{className:Z(b,m==="C"?"selected":void 0),onClick:()=>x("C"),children:"C"})}),i.jsx("td",{children:i.jsx("button",{className:Z(b,m==="C#"?"selected":void 0),onClick:()=>x("C#"),children:"C#"})}),i.jsx("td",{children:i.jsx("button",{className:Z(b,m==="D"?"selected":void 0),onClick:()=>x("D"),children:"D"})})]}),i.jsxs("tr",{children:[i.jsx("td",{children:i.jsx("button",{className:Z(b,m==="D#"?"selected":void 0),onClick:()=>x("D#"),children:"D#"})}),i.jsx("td",{children:i.jsx("button",{className:Z(b,m==="E"?"selected":void 0),onClick:()=>x("E"),children:"E"})}),i.jsx("td",{children:i.jsx("button",{className:Z(b,m==="F"?"selected":void 0),onClick:()=>x("F"),children:"F"})})]}),i.jsxs("tr",{children:[i.jsx("td",{children:i.jsx("button",{className:Z(b,m==="F#"?"selected":void 0),onClick:()=>x("F#"),children:"F#"})}),i.jsx("td",{children:i.jsx("button",{className:Z(b,m==="G"?"selected":void 0),onClick:()=>x("G"),children:"G"})}),i.jsx("td",{children:i.jsx("button",{className:Z(b,m==="G#"?"selected":void 0),onClick:()=>x("G#"),children:"G#"})})]}),i.jsxs("tr",{children:[i.jsx("td",{children:i.jsx("button",{className:Z(b,m==="A"?"selected":void 0),onClick:()=>x("A"),children:"A"})}),i.jsx("td",{children:i.jsx("button",{className:Z(b,m==="A#"?"selected":void 0),onClick:()=>x("A#"),children:"A#"})}),i.jsx("td",{children:i.jsx("button",{className:Z(b,m==="B"?"selected":void 0),onClick:()=>x("B"),children:"B"})})]}),i.jsx("tr",{children:i.jsx("td",{children:i.jsx("button",{className:Z(b,m==="R"?"selected":void 0),onClick:()=>x("R"),children:"Rest"})})})]})})]}),i.jsx("hr",{}),i.jsx("button",{className:"btn btn-success",onClick:c,children:"Ok"}),i.jsx("button",{className:"btn btn-danger float-end",onClick:()=>l(!1),children:"Cancel"})]})})]})}function ma({value:e,onValueChange:t}){return i.jsx(i.Fragment,{children:i.jsxs("form",{children:[i.jsx("label",{htmlFor:"octave",className:"form-label pe-2",children:"Octave"}),i.jsxs("select",{id:"octave",value:e,onChange:n=>t(Number(n.target.value)),children:[i.jsx("option",{value:"-1",children:"-1"}),i.jsx("option",{value:"0",children:"0"}),i.jsx("option",{value:"1",children:"1"}),i.jsx("option",{value:"2",children:"2"}),i.jsx("option",{value:"3",children:"3"}),i.jsx("option",{value:"4",children:"4"}),i.jsx("option",{value:"5",children:"5"}),i.jsx("option",{value:"6",children:"6"}),i.jsx("option",{value:"7",children:"7"}),i.jsx("option",{value:"8",children:"8"}),i.jsx("option",{value:"9",children:"9"})]})]})})}var ht,zt;function ga(){if(zt)return ht;zt=1;var e={VERSION:"3.1.1",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_SMTPE_OFFSET:84},t=(f,r)=>Array(Math.abs(r)+1).join(f);function n(f){return f!==null&&typeof f=="object"&&typeof f.name=="string"}function o(f){return f!==null&&typeof f=="object"&&typeof f.step=="number"&&typeof f.alt=="number"}var a=[0,2,4,-1,1,3,5],s=a.map(f=>Math.floor(f*7/12));function l(f){const{step:r,alt:d,oct:p,dir:S=1}=f,j=a[r]+7*d;if(p===void 0)return[S*j];const R=p-s[r]-4*d;return[S*j,S*R]}var c={empty:!0,name:"",pc:"",acc:""},v=new Map,x=f=>"CDEFGAB".charAt(f),b=f=>f<0?t("b",-f):t("#",f),m=f=>f[0]==="b"?-f.length:f.length;function E(f){const r=JSON.stringify(f),d=v.get(r);if(d)return d;const p=typeof f=="string"?w(f):o(f)?E(C(f)):n(f)?E(f.name):c;return v.set(r,p),p}var T=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function I(f){const r=T.exec(f);return[r[1].toUpperCase(),r[2].replace(/x/g,"##"),r[3],r[4]]}var h=(f,r)=>(f%r+r)%r,y=[0,2,4,5,7,9,11];function w(f){const r=I(f);if(r[0]===""||r[3]!=="")return c;const d=r[0],p=r[1],S=r[2],j=(d.charCodeAt(0)+3)%7,R=m(p),L=S.length?+S:void 0,q=l({step:j,alt:R,oct:L}),oe=d+p+S,nt=d+p,De=(y[j]+R+120)%12,ue=L===void 0?h(y[j]+R,12)-1188:y[j]+R+12*(L+1),ot=ue>=0&&ue<=127?ue:null,Do=L===void 0?null:Math.pow(2,(ue-69)/12)*440;return{empty:!1,acc:p,alt:R,chroma:De,coord:q,freq:Do,height:ue,letter:d,midi:ot,name:oe,oct:L,pc:nt,step:j}}function C(f){const{step:r,alt:d,oct:p}=f,S=x(r);if(!S)return"";const j=S+b(d);return p||p===0?j+p:j}function N(f){return+f>=0&&+f<=127}function P(f){if(N(f))return+f;const r=E(f);return r.empty?null:r.midi}var g=(function(){function f(){}return f.version=function(){return e.VERSION},f.stringToBytes=function(r){return r.split("").map(function(d){return d.charCodeAt(0)})},f.isNumeric=function(r){return!isNaN(parseFloat(r))&&isFinite(r)},f.getPitch=function(r,d){return d===void 0&&(d="C4"),60-P(d)+P(r)},f.numberToVariableLength=function(r){r=Math.round(r);for(var d=r&127;r=r>>7;)d<<=8,d|=r&127|128;for(var p=[];p.push(d&255),d&128;)d>>=8;return p},f.stringByteCount=function(r){return encodeURI(r).split(/%..|./).length-1},f.numberFromBytes=function(r){var d="",p;return r.forEach(function(S){p=S.toString(16),p.length==1&&(p="0"+p),d+=p}),parseInt(d,16)},f.numberToBytes=function(r,d){d=d||1;var p=r.toString(16);p.length&1&&(p="0"+p);var S=p.match(/.{2}/g),j=S.map(function(R){return parseInt(R,16)});if(j.length<d)for(;d-j.length>0;)j.unshift(0);return j},f.toArray=function(r){return Array.isArray(r)?r:[r]},f.convertVelocity=function(r){return r=r>100?100:r,Math.round(r/100*127)},f.getTickDuration=function(r){if(Array.isArray(r))return r.map(function(j){return f.getTickDuration(j)}).reduce(function(j,R){return j+R},0);if(r=r.toString(),r.toLowerCase().charAt(0)==="t"){var d=parseInt(r.substring(1));if(isNaN(d)||d<0)throw new Error(r+" is not a valid duration.");return d}var p=f.numberFromBytes(e.HEADER_CHUNK_DIVISION),S=p*f.getDurationMultiplier(r);return f.getRoundedIfClose(S)},f.getRoundedIfClose=function(r){var d=Math.round(r);return Math.abs(d-r)<1e-6?d:r},f.getPrecisionLoss=function(r){var d=Math.round(r);return d-r},f.getDurationMultiplier=function(r){if(r==="0")return 0;var d=r.match(/^(?<dotted>d+)?(?<base>\d+)(?:t(?<tuplet>\d*))?/);if(d){var p=Number(d.groups.base),S=p===1||(p&p-1)===0;if(S){var j=p/4,R=1/j,L=d.groups,q=L.dotted,oe=L.tuplet;if(q){var nt=q.length,De=Math.pow(2,nt);R=R+R*((De-1)/De)}if(typeof oe=="string"){var ue=R*2,ot=Number(oe||"3");R=ue/ot}return R}}throw new Error(r+" is not a valid duration.")},f})(),A=(function(){function f(r){this.channel=r.channel-1||0,this.controllerValue=r.controllerValue,this.controllerNumber=r.controllerNumber,this.delta=r.delta||0,this.name="ControllerChangeEvent",this.status=176,this.data=g.numberToVariableLength(r.delta).concat(this.status|this.channel,this.controllerNumber,this.controllerValue)}return f})(),k=(function(){function f(r){this.delta=r.delta||0,this.name="CopyrightEvent",this.text=r.text,this.type=2;var d=g.stringToBytes(this.text);this.data=g.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,g.numberToVariableLength(d.length),d)}return f})(),B=(function(){function f(r){this.delta=r.delta||0,this.name="CuePointEvent",this.text=r.text,this.type=7;var d=g.stringToBytes(this.text);this.data=g.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,g.numberToVariableLength(d.length),d)}return f})(),G=(function(){function f(r){this.delta=r?.delta||0,this.name="EndTrackEvent",this.type=[47,0],this.data=g.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type)}return f})(),z=(function(){function f(r){this.delta=r.delta||0,this.name="InstrumentNameEvent",this.text=r.text,this.type=4;var d=g.stringToBytes(this.text);this.data=g.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,g.numberToVariableLength(d.length),d)}return f})(),M=(function(){function f(r,d){this.name="KeySignatureEvent",this.type=89;var p=d||0;if(r=r||0,typeof d>"u"){var S=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],j=r.length,R=r||"C";if(r[0]===r[0].toLowerCase()&&(p=1),j>1)switch(r.charAt(j-1)){case"m":p=1,R=r.charAt(0).toLowerCase(),R=R.concat(r.substring(1,j-1));break;case"-":p=1,R=r.charAt(0).toLowerCase(),R=R.concat(r.substring(1,j-1));break;case"M":p=0,R=r.charAt(0).toUpperCase(),R=R.concat(r.substring(1,j-1));break;case"+":p=0,R=r.charAt(0).toUpperCase(),R=R.concat(r.substring(1,j-1));break}var L=S[p].indexOf(R);r=L===-1?0:L-7}this.data=g.numberToVariableLength(0).concat(e.META_EVENT_ID,this.type,[2],g.numberToBytes(r,1),g.numberToBytes(p,1))}return f})(),H=(function(){function f(r){this.delta=r.delta||0,this.name="LyricEvent",this.text=r.text,this.type=5;var d=g.stringToBytes(this.text);this.data=g.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,g.numberToVariableLength(d.length),d)}return f})(),Y=(function(){function f(r){this.delta=r.delta||0,this.name="MarkerEvent",this.text=r.text,this.type=6;var d=g.stringToBytes(this.text);this.data=g.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,g.numberToVariableLength(d.length),d)}return f})(),$=(function(){function f(r){this.name="NoteOnEvent",this.channel=r.channel||1,this.pitch=r.pitch,this.wait=r.wait||0,this.velocity=r.velocity||50,this.tick=r.tick||null,this.delta=null,this.data=r.data,this.status=144}return f.prototype.buildData=function(r,d,p){return p===void 0&&(p={}),this.data=[],this.tick?(this.tick=g.getRoundedIfClose(this.tick),r.tickPointer==0&&(this.delta=this.tick)):(this.delta=g.getTickDuration(this.wait),this.tick=g.getRoundedIfClose(r.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=g.getRoundedIfClose(this.delta-d),this.data=g.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.status|this.channel-1,g.getPitch(this.pitch,p.middleC),g.convertVelocity(this.velocity)),this},f})(),U=(function(){function f(r){this.name="NoteOffEvent",this.channel=r.channel||1,this.pitch=r.pitch,this.velocity=r.velocity||50,this.tick=r.tick||null,this.data=r.data,this.delta=r.delta||g.getTickDuration(r.duration),this.status=128}return f.prototype.buildData=function(r,d,p){return p===void 0&&(p={}),this.tick===null&&(this.tick=g.getRoundedIfClose(this.delta+r.tickPointer)),this.deltaWithPrecisionCorrection=g.getRoundedIfClose(this.delta-d),this.data=g.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.status|this.channel-1,g.getPitch(this.pitch,p.middleC),g.convertVelocity(this.velocity)),this},f})(),V=(function(){function f(r){this.data=[],this.name="NoteEvent",this.pitch=g.toArray(r.pitch),this.channel=r.channel||1,this.duration=r.duration||"4",this.grace=r.grace,this.repeat=r.repeat||1,this.sequential=r.sequential||!1,this.tick=r.startTick||r.tick||null,this.velocity=r.velocity||50,this.wait=r.wait||0,this.tickDuration=g.getTickDuration(this.duration),this.restDuration=g.getTickDuration(this.wait),this.events=[]}return f.prototype.buildData=function(){var r=this;if(this.data=[],this.grace){var d=1;this.grace=g.toArray(this.grace),this.grace.forEach(function(){var S=new f({pitch:r.grace,duration:"T"+d});r.data=r.data.concat(S.data)})}if(this.sequential)for(var p=0;p<this.repeat;p++)this.pitch.forEach(function(j,R){var L=new $({channel:r.channel,wait:R>0?0:r.wait,delta:R>0?0:g.getTickDuration(r.wait),velocity:r.velocity,pitch:j,tick:r.tick}),q=new U({channel:r.channel,duration:r.duration,velocity:r.velocity,pitch:j});r.events.push(L,q)});else for(var p=0;p<this.repeat;p++)this.pitch.forEach(function(S,j){var R;j==0?R=new $({channel:r.channel,wait:r.wait,delta:g.getTickDuration(r.wait),velocity:r.velocity,pitch:S,tick:r.tick}):R=new $({channel:r.channel,wait:0,delta:0,velocity:r.velocity,pitch:S,tick:r.tick}),r.events.push(R)}),this.pitch.forEach(function(S,j){var R;j==0?R=new U({channel:r.channel,duration:r.duration,velocity:r.velocity,pitch:S,tick:r.tick!==null?g.getTickDuration(r.duration)+r.tick:null}):R=new U({channel:r.channel,duration:0,velocity:r.velocity,pitch:S,tick:r.tick!==null?g.getTickDuration(r.duration)+r.tick:null}),r.events.push(R)});return this},f})(),K=(function(){function f(r){this.channel=r.channel||0,this.delta=r.delta||0,this.name="PitchBendEvent",this.status=224;var d=this.scale14bits(r.bend),p=d&127,S=d>>7&127;this.data=g.numberToVariableLength(this.delta).concat(this.status|this.channel,p,S)}return f.prototype.scale14bits=function(r){return r<=0?Math.floor(16384*(r+1)/2):Math.floor(16383*(r+1)/2)},f})(),W=(function(){function f(r){this.channel=r.channel||0,this.delta=r.delta||0,this.instrument=r.instrument,this.status=192,this.name="ProgramChangeEvent",this.data=g.numberToVariableLength(this.delta).concat(this.status|this.channel,this.instrument)}return f})(),X=(function(){function f(r){this.bpm=r.bpm,this.delta=r.delta||0,this.tick=r.tick,this.name="TempoEvent",this.type=81;var d=Math.round(6e7/this.bpm);this.data=g.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,[3],g.numberToBytes(d,3))}return f})(),me=(function(){function f(r){this.delta=r.delta||0,this.text=r.text,this.name="TextEvent",this.type=1;var d=g.stringToBytes(this.text);this.data=g.numberToVariableLength(r.delta).concat(e.META_EVENT_ID,this.type,g.numberToVariableLength(d.length),d)}return f})(),ce=(function(){function f(r,d,p,S){this.name="TimeSignatureEvent",this.type=88,this.data=g.numberToVariableLength(0).concat(e.META_EVENT_ID,this.type,[4],g.numberToBytes(r,1),g.numberToBytes(Math.log2(d),1),g.numberToBytes(p||24,1),g.numberToBytes(S||8,1))}return f})(),ge=(function(){function f(r){this.delta=r.delta||0,this.name="TrackNameEvent",this.text=r.text,this.type=3;var d=g.stringToBytes(this.text);this.data=g.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,g.numberToVariableLength(d.length),d)}return f})(),xe=(function(){function f(){this.type=e.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return f.prototype.addEvent=function(r,d){var p=this;return g.toArray(r).forEach(function(S,j){if(S instanceof V){if(typeof d=="function"){var R=d(j,S);typeof R=="object"&&Object.assign(S,R)}S.tick!==null?p.explicitTickEvents.push(S):S.buildData().events.forEach(function(L){return p.events.push(L)})}else p.events.push(S)}),this},f.prototype.buildData=function(r){var d=this;r===void 0&&(r={}),this.data=[],this.size=[],this.tickPointer=0;var p=0;return this.events.forEach(function(S){if(S instanceof $||S instanceof U){var j=S.buildData(d,p,r);p=g.getPrecisionLoss(S.deltaWithPrecisionCorrection||0),d.data=d.data.concat(j.data),d.tickPointer=g.getRoundedIfClose(S.tick)}else S instanceof X&&(d.tickPointer=g.getRoundedIfClose(S.tick)),d.data=d.data.concat(S.data)}),this.mergeExplicitTickEvents(),(!this.events.length||!(this.events[this.events.length-1]instanceof G))&&(this.data=this.data.concat(new G().data)),this.size=g.numberToBytes(this.data.length,4),this},f.prototype.mergeExplicitTickEvents=function(){var r=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(d,p){return d.tick-p.tick}),this.explicitTickEvents.forEach(function(d){d.buildData().events.forEach(function(p){return p.buildData(r)}),d.events.forEach(function(p){return r.mergeSingleEvent(p)})}),this.explicitTickEvents=[],this.buildData())},f.prototype.mergeTrack=function(r){var d=this;return this.buildData(),r.buildData().events.forEach(function(p){return d.mergeSingleEvent(p)}),this},f.prototype.mergeSingleEvent=function(r){if(!this.events.length){this.addEvent(r);return}for(var d,p=0;p<this.events.length&&!(this.events[p].tick>r.tick);p++)d=p;var S=d+1;r.delta=r.tick-this.events[d].tick,this.events.splice(S,0,r);for(var p=S+1;p<this.events.length;p++)this.events[p].delta=this.events[p].tick-this.events[p-1].tick},f.prototype.removeEventsByName=function(r){var d=this;return this.events.forEach(function(p,S){p.name===r&&d.events.splice(S,1)}),this},f.prototype.setTempo=function(r,d){return d===void 0&&(d=0),this.addEvent(new X({bpm:r,tick:d}))},f.prototype.setTimeSignature=function(r,d,p,S){return this.addEvent(new ce(r,d,p,S))},f.prototype.setKeySignature=function(r,d){return this.addEvent(new M(r,d))},f.prototype.addText=function(r){return this.addEvent(new me({text:r}))},f.prototype.addCopyright=function(r){return this.addEvent(new k({text:r}))},f.prototype.addTrackName=function(r){return this.addEvent(new ge({text:r}))},f.prototype.addInstrumentName=function(r){return this.addEvent(new z({text:r}))},f.prototype.addMarker=function(r){return this.addEvent(new Y({text:r}))},f.prototype.addCuePoint=function(r){return this.addEvent(new B({text:r}))},f.prototype.addLyric=function(r){return this.addEvent(new H({text:r}))},f.prototype.polyModeOn=function(){var r=new $({data:[0,176,126,0]});return this.addEvent(r)},f.prototype.setPitchBend=function(r){return this.addEvent(new K({bend:r}))},f.prototype.controllerChange=function(r,d,p,S){return this.addEvent(new A({controllerNumber:r,controllerValue:d,channel:p,delta:S}))},f})(),ne=(function(){function f(){}return f.prototype.trackFromVoice=function(r,d){var p=this;d===void 0&&(d={addRenderedAccidentals:!1});var S=new xe,j=[];return r.tickables.forEach(function(R){R.noteType==="n"?(S.addEvent(new V({pitch:R.keys.map(function(L,q){return p.convertPitch(L,q,R,d.addRenderedAccidentals)}),duration:p.convertDuration(R),wait:j})),j=[]):R.noteType==="r"&&j.push(p.convertDuration(R))}),j.length>0&&S.addEvent(new V({pitch:"[c4]",duration:"0",wait:j,velocity:"0"})),S},f.prototype.convertPitch=function(r,d,p,S){var j;S===void 0&&(S=!1);var R=r.split("/"),L=R[0].substring(1).replace("n","");return S&&((j=p.getAccidentals())===null||j===void 0||j.forEach(function(q){q.index===d&&(q.type==="n"?L="":L+=q.type)})),R[0][0]+L+R[1]},f.prototype.convertDuration=function(r){return"d".repeat(r.dots)+this.convertBaseDuration(r.duration)+(r.tuplet?"t"+r.tuplet.num_notes:"")},f.prototype.convertBaseDuration=function(r){switch(r){case"w":return"1";case"h":return"2";case"q":return"4";default:return r}},f})(),ye=(function(){function f(r){this.type=e.HEADER_CHUNK_TYPE;var d=r>1?e.HEADER_CHUNK_FORMAT1:e.HEADER_CHUNK_FORMAT0;this.data=d.concat(g.numberToBytes(r,2),e.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}return f})(),le=(function(){function f(r,d){d===void 0&&(d={}),this.tracks=g.toArray(r),this.options=d}return f.prototype.buildData=function(){var r=this,d=[];return d.push(new ye(this.tracks.length)),this.tracks.forEach(function(p){d.push(p.buildData(r.options))}),d},f.prototype.buildFile=function(){var r=[];return this.buildData().forEach(function(d){return r=r.concat(d.type,d.size,d.data)}),new Uint8Array(r)},f.prototype.base64=function(){if(typeof btoa=="function"){for(var r="",d=this.buildFile(),p=d.byteLength,S=0;S<p;S++)r+=String.fromCharCode(d[S]);return btoa(r)}return Buffer.from(this.buildFile()).toString("base64")},f.prototype.dataUri=function(){return"data:audio/midi;base64,"+this.base64()},f.prototype.setOption=function(r,d){return this.options[r]=d,this},f.prototype.stdout=function(){return process.stdout.write(Buffer.from(this.buildFile()))},f})(),_={Constants:e,ControllerChangeEvent:A,CopyrightEvent:k,CuePointEvent:B,EndTrackEvent:G,InstrumentNameEvent:z,KeySignatureEvent:M,LyricEvent:H,MarkerEvent:Y,NoteOnEvent:$,NoteOffEvent:U,NoteEvent:V,PitchBendEvent:K,ProgramChangeEvent:W,TempoEvent:X,TextEvent:me,TimeSignatureEvent:ce,Track:xe,TrackNameEvent:ge,Utils:g,VexFlow:ne,Writer:le};return ht=_,ht}var xa=ga();const pt=Mo(xa);function ya(e,t,n,o){console.log(`pitches : ${e.length}, durations : ${t.length}, velocities : ${n.length} bpm : ${o}`),console.log(`durations: ${JSON.stringify(t)}`);const a=new pt.Track;a.setTempo(o),a.setTimeSignature(4,4,24,8);let s=0,l=0,c=0,v=0,x=!0,b=0;function m(){s++,l=s%e.length,c=s%t.length,v=s%n.length,l===0&&c===0&&v===0&&(console.log("setting keepGoing to false - all indices are 0"),x=!1),s>500&&(console.log("setting keepGoing to false - index > 500"),x=!1,Wo(1e3))}for(;x;){console.log(`index: ${s}, pitchIndex: ${l}, durationIndex: ${c}, velocityIndex: ${v}`);const E=e[l],T=Math.trunc(t[c]*32);if(E.isRest()){b+=T,m();continue}const I=E.midiValue,h=n[v]*100/127;let y={};b>0&&(y={wait:"T"+String(b)},b=0),console.log(`midiPitch: ${I}, velocity: ${h}, durationTicks: ${T}, waitProp: ${JSON.stringify(y)}`),a.addEvent(new pt.NoteEvent({pitch:I,velocity:h,duration:"T"+String(T),sequential:!0,...y})),m()}return new pt.Writer(a).dataUri()}function ba(){const e=rt(en),t=rt(Jt),n=rt(Qt),o=u.useRef(null),[a,s]=u.useState(120);function l(){const c=t.map(m=>mt[m].value),v=ya(e,c,n,a),x=o.current?.value??"my_midi.mid",b=document.createElement("a");b.href=v,b.download=x,b.click(),URL.revokeObjectURL(v)}return i.jsx(i.Fragment,{children:i.jsxs(Yr,{children:[i.jsx(Xr,{asChild:!0,children:i.jsx("button",{className:"btn btn-primary",children:"Generate"})}),i.jsxs(Zr,{children:[i.jsx(Jr,{className:"dialog-overlay"}),i.jsxs(Qr,{className:"align-content-center justify-content-center border dialog-content",children:[i.jsx(ei,{children:"Generate Midi"}),i.jsx(ti,{asChild:!0,children:i.jsx("div",{children:i.jsxs("form",{children:[i.jsx("label",{htmlFor:"midiName",className:"form-label pb-0 mb-0",children:"File Name"}),i.jsx("input",{id:"midiName",type:"text",className:"form-control",defaultValue:"my_midi.mid",ref:o}),i.jsx("label",{htmlFor:"midiBPM",className:"form-label pb-0 mb-0 mt-2",children:"BPM"}),i.jsx("input",{id:"midiBPM",type:"number",className:"form-control",value:a,onChange:c=>s(Number(c.target.value))})]})})}),i.jsx("hr",{}),i.jsx("button",{className:"btn btn-primary","aria-label":"Generate",onClick:l,children:"Generate"}),i.jsx(ni,{asChild:!0,children:i.jsx("button",{className:"btn btn-secondary float-end","aria-label":"Close",children:"Close"})})]})]})]})})}function Sa({className:e}){const[t,n]=Fe(en),[o,a]=Fe(Jt),[s,l]=Fe(Qt),[c,v]=u.useState(!1);function x(){console.log("add pitch"),n([...t,new Ot])}function b(){console.log("remove pitch"),!(t.length<=1)&&n(t.slice(0,t.length-1))}function m(P,g){console.log(`handleChangePitch == key: ${P}, value: ${g}`);const A=t.slice();A[P]=new Ot(g),n(A)}function E(){console.log("add duration");const P=o.at(-1);console.log(`new_value: ${P}`),a([...o,o.at(-1)??0])}function T(){console.log("remove duration"),!(o.length<=1)&&a(o.slice(0,-1))}function I(P,g){console.log(`handleChangeDuration == key: ${P}, value: ${g}`);const A=o.slice();A[P]=g,a(A)}function h(){console.log("add velocity"),l([...s,s.at(-1)??100])}function y(){console.log("remove velocity"),!(s.length<=1)&&l(s.slice(0,-1))}function w(P,g){console.log(`handleChangeVelocity == slot: ${P}, value: ${g}`);const A=s.slice();A[P]=g,l(A)}const C={display:"grid",gridTemplateColumns:"8rem 1.5rem",gridTemplateRows:"repeat(auto-fill, 4rem)",gridGap:"0.5rem",borderRight:"3px solid black",marginBottom:"1rem"},N={display:"grid",gridGap:"1rem",marginRight:"1rem",gridTemplateColumns:"repeat(auto-fill, 5rem)",gridTemplateRows:"repeat(auto-fill, 4rem)"};return i.jsxs("main",{className:Z("container d-flex flex-column",e),children:[i.jsxs("section",{className:"SequenceSection d-flex",children:[i.jsxs("div",{style:{height:"16rem",width:"11rem"},children:[i.jsxs("div",{style:C,children:[i.jsxs("div",{className:"p-0 m-0 fs-4 fw-bold align-content-center text-end pe-1",children:["Pitch",i.jsx(ft,{children:"Use the arrow keys to select a pitch"})]}),i.jsxs("div",{className:"d-flex flex-column justify-content-center px-0",children:[i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:x,children:i.jsx("i",{className:"bi bi-caret-up"})}),i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:b,children:i.jsx("i",{className:"bi bi-caret-down"})})]})]}),i.jsxs("div",{style:C,children:[i.jsxs("div",{className:"p-0 m-0 fs-4 fw-bold align-content-center text-end pe-1",children:["Duration",i.jsx(ft,{children:"Each box is a selector. Click to change the duration."})]}),i.jsxs("div",{className:"d-flex flex-column justify-content-center px-0",children:[i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:E,children:i.jsx("i",{className:"bi bi-caret-up"})}),i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:T,children:i.jsx("i",{className:"bi bi-caret-down"})})]})]}),i.jsxs("div",{style:C,children:[i.jsxs("div",{className:"p-0 m-0 fs-4 fw-bold align-content-center text-end pe-1",children:["Velocity",i.jsx(ft,{children:"Each box turns into a slider. Click to change the velocity."})]}),i.jsxs("div",{className:"d-flex flex-column justify-content-center px-0",children:[i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:h,children:i.jsx("i",{className:"bi bi-caret-up"})}),i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:y,children:i.jsx("i",{className:"bi bi-caret-down"})})]})]})]}),i.jsx("div",{className:"col flex-grow overflow-hidden pe-5",children:i.jsxs("div",{className:"w-100 overflow-x-scroll mx-1 ps-1",style:N,children:[t.map((P,g)=>i.jsx(va,{slot:g,pitch:P,onChange:m},`${g}-${P}`)),o.map((P,g)=>{const A=mt[P];return i.jsx(ha,{slot:g,list:mt,value:A,onChange:I},`${g}-${P}`)}),s.map((P,g)=>i.jsx(pa,{slot:g,value:P,onChange:w},`${g}-${P}`))]})})]}),i.jsx("section",{className:"ActionSection row mt-4",children:i.jsx("div",{className:"col",children:i.jsx(ba,{})})})]})}function Ea(){const[e,t]=Fe($o),n="/SeqGen/IMG_9131.png";function o(){const l=(e+1)%ke.length;t(l);const c=ke[l];console.log(`newTheme : ${c}, index : ${l}`),document.documentElement.setAttribute("data-bs-theme",c)}const a=ke[(e+1)%ke.length],s="me-1 bi bi-"+(a==="light"?"brightness-high-fill":"moon-stars");return i.jsxs("header",{className:"d-flex justify-content-between align-items-center w-100 mb-3 bg-gray",children:[i.jsx("img",{src:n,width:"40",height:"40",className:"d-inline-block align-text-top ms-3"}),i.jsx("p",{className:"my-0 mx-3 align-content-center fs-3",children:"SeqGen"}),i.jsxs("button",{className:"btn btn-secondary mx-3 my-2",onClick:o,children:[i.jsx("i",{className:s}),a]})]})}const Na=Oo(function(){return i.jsxs(i.Fragment,{children:[i.jsx("title",{children:"SeqGen"}),i.jsx("meta",{name:"description",content:"The aptly named Sequence Generator"}),i.jsx(Ea,{}),i.jsx(Sa,{className:"mt-5"})]})});export{Na as default};
