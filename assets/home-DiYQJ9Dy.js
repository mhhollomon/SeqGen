import{R as ue,t as i,b as u,y as Do,f as zt,z as ko,w as Mo}from"./index-C-XYNUkC.js";import{c as je,a as F,b as Pe,d as pt,e as O,f as ee,g as Re,h as de,i as D,j as Ie,D as Tt,k as Oo,l as Ue,R as Yt,A as Nt,m as qt,C as Xt,V as Vo,n as Lo,o as Fo,T as Bo,p as Ho,u as ot,q as vt,r as Zt,v as Jt,s as Qt,w as Le,x as Mt,y as De,z as Ko}from"./index-BNlk3KQk.js";function $o(...e){const t=[],n=o=>o!=null&&t.push(o);for(const o of e)Array.isArray(o)?o.forEach(n):n(o);return t}function Uo(e){return new Promise(t=>setTimeout(t,e))}function Wo(e,t,...n){return $o(e,t,...n).join(" ")}function en(e){const t=e+"CollectionProvider",[n,o]=je(t),[a,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=h=>{const{scope:b,children:C}=h,E=ue.useRef(null),T=ue.useRef(new Map).current;return i.jsx(a,{scope:b,itemMap:T,collectionRef:E,children:C})};l.displayName=t;const c=e+"CollectionSlot",v=Pe(c),x=ue.forwardRef((h,b)=>{const{scope:C,children:E}=h,T=s(c,C),N=F(b,T.collectionRef);return i.jsx(v,{ref:N,children:E})});x.displayName=c;const y=e+"CollectionItemSlot",g="data-radix-collection-item",w=Pe(y),P=ue.forwardRef((h,b)=>{const{scope:C,children:E,...T}=h,N=ue.useRef(null),m=F(b,N),A=s(y,C);return ue.useEffect(()=>(A.itemMap.set(N,{ref:N,...T}),()=>void A.itemMap.delete(N))),i.jsx(w,{[g]:"",ref:m,children:E})});P.displayName=y;function I(h){const b=s(e+"CollectionConsumer",h);return ue.useCallback(()=>{const E=b.collectionRef.current;if(!E)return[];const T=Array.from(E.querySelectorAll(`[${g}]`));return Array.from(b.itemMap.values()).sort((A,k)=>T.indexOf(A.ref.current)-T.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:x,ItemSlot:P},I,o]}var Go=u.createContext(void 0);function tn(e){const t=u.useContext(Go);return e||t||"ltr"}var rt="focusScope.autoFocusOnMount",it="focusScope.autoFocusOnUnmount",Ot={bubbles:!1,cancelable:!0},zo="FocusScope",We=u.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...l}=e,[c,v]=u.useState(null),x=pt(a),y=pt(s),g=u.useRef(null),w=F(t,h=>v(h)),P=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(o){let h=function(T){if(P.paused||!c)return;const N=T.target;c.contains(N)?g.current=N:oe(g.current,{select:!0})},b=function(T){if(P.paused||!c)return;const N=T.relatedTarget;N!==null&&(c.contains(N)||oe(g.current,{select:!0}))},C=function(T){if(document.activeElement===document.body)for(const m of T)m.removedNodes.length>0&&oe(c)};document.addEventListener("focusin",h),document.addEventListener("focusout",b);const E=new MutationObserver(C);return c&&E.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",b),E.disconnect()}}},[o,c,P.paused]),u.useEffect(()=>{if(c){Lt.add(P);const h=document.activeElement;if(!c.contains(h)){const C=new CustomEvent(rt,Ot);c.addEventListener(rt,x),c.dispatchEvent(C),C.defaultPrevented||(Yo(Qo(nn(c)),{select:!0}),document.activeElement===h&&oe(c))}return()=>{c.removeEventListener(rt,x),setTimeout(()=>{const C=new CustomEvent(it,Ot);c.addEventListener(it,y),c.dispatchEvent(C),C.defaultPrevented||oe(h??document.body,{select:!0}),c.removeEventListener(it,y),Lt.remove(P)},0)}}},[c,x,y,P]);const I=u.useCallback(h=>{if(!n&&!o||P.paused)return;const b=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,C=document.activeElement;if(b&&C){const E=h.currentTarget,[T,N]=qo(E);T&&N?!h.shiftKey&&C===N?(h.preventDefault(),n&&oe(T,{select:!0})):h.shiftKey&&C===T&&(h.preventDefault(),n&&oe(N,{select:!0})):C===E&&h.preventDefault()}},[n,o,P.paused]);return i.jsx(O.div,{tabIndex:-1,...l,ref:w,onKeyDown:I})});We.displayName=zo;function Yo(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(oe(o,{select:t}),document.activeElement!==n)return}function qo(e){const t=nn(e),n=Vt(t,e),o=Vt(t.reverse(),e);return[n,o]}function nn(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Vt(e,t){for(const n of e)if(!Xo(n,{upTo:t}))return n}function Xo(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Zo(e){return e instanceof HTMLInputElement&&"select"in e}function oe(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Zo(e)&&t&&e.select()}}var Lt=Jo();function Jo(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Ft(e,t),e.unshift(t)},remove(t){e=Ft(e,t),e[0]?.resume()}}}function Ft(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function Qo(e){return e.filter(t=>t.tagName!=="A")}var er="Portal",Ge=u.forwardRef((e,t)=>{const{container:n,...o}=e,[a,s]=u.useState(!1);ee(()=>s(!0),[]);const l=n||a&&globalThis?.document?.body;return l?Do.createPortal(i.jsx(O.div,{...o,ref:t}),l):null});Ge.displayName=er;var at=0;function Pt(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Bt()),document.body.insertAdjacentElement("beforeend",e[1]??Bt()),at++,()=>{at===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),at--}},[])}function Bt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Q=function(){return Q=Object.assign||function(t){for(var n,o=1,a=arguments.length;o<a;o++){n=arguments[o];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Q.apply(this,arguments)};function on(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n}function tr(e,t,n){if(n||arguments.length===2)for(var o=0,a=t.length,s;o<a;o++)(s||!(o in t))&&(s||(s=Array.prototype.slice.call(t,0,o)),s[o]=t[o]);return e.concat(s||Array.prototype.slice.call(t))}var Fe="right-scroll-bar-position",Be="width-before-scroll-bar",nr="with-scroll-bars-hidden",or="--removed-body-scroll-bar-size";function st(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function rr(e,t){var n=u.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(o){var a=n.value;a!==o&&(n.value=o,n.callback(o,a))}}}})[0];return n.callback=t,n.facade}var ir=typeof window<"u"?u.useLayoutEffect:u.useEffect,Ht=new WeakMap;function ar(e,t){var n=rr(null,function(o){return e.forEach(function(a){return st(a,o)})});return ir(function(){var o=Ht.get(n);if(o){var a=new Set(o),s=new Set(e),l=n.current;a.forEach(function(c){s.has(c)||st(c,null)}),s.forEach(function(c){a.has(c)||st(c,l)})}Ht.set(n,e)},[e]),n}function sr(e){return e}function cr(e,t){t===void 0&&(t=sr);var n=[],o=!1,a={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var l=t(s,o);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(s){for(o=!0;n.length;){var l=n;n=[],l.forEach(s)}n={push:function(c){return s(c)},filter:function(){return n}}},assignMedium:function(s){o=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(s),l=n}var v=function(){var y=l;l=[],y.forEach(s)},x=function(){return Promise.resolve().then(v)};x(),n={push:function(y){l.push(y),x()},filter:function(y){return l=l.filter(y),n}}}};return a}function lr(e){e===void 0&&(e={});var t=cr(null);return t.options=Q({async:!0,ssr:!1},e),t}var rn=function(e){var t=e.sideCar,n=on(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return u.createElement(o,Q({},n))};rn.isSideCarExport=!0;function ur(e,t){return e.useMedium(t),rn}var an=lr(),ct=function(){},ze=u.forwardRef(function(e,t){var n=u.useRef(null),o=u.useState({onScrollCapture:ct,onWheelCapture:ct,onTouchMoveCapture:ct}),a=o[0],s=o[1],l=e.forwardProps,c=e.children,v=e.className,x=e.removeScrollBar,y=e.enabled,g=e.shards,w=e.sideCar,P=e.noRelative,I=e.noIsolation,h=e.inert,b=e.allowPinchZoom,C=e.as,E=C===void 0?"div":C,T=e.gapMode,N=on(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),m=w,A=ar([n,t]),k=Q(Q({},N),a);return u.createElement(u.Fragment,null,y&&u.createElement(m,{sideCar:an,removeScrollBar:x,shards:g,noRelative:P,noIsolation:I,inert:h,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:T}),l?u.cloneElement(u.Children.only(c),Q(Q({},k),{ref:A})):u.createElement(E,Q({},k,{className:v,ref:A}),c))});ze.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ze.classNames={fullWidth:Be,zeroRight:Fe};var dr=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fr(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=dr();return t&&e.setAttribute("nonce",t),e}function hr(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function pr(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vr=function(){var e=0,t=null;return{add:function(n){e==0&&(t=fr())&&(hr(t,n),pr(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},mr=function(){var e=vr();return function(t,n){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},sn=function(){var e=mr(),t=function(n){var o=n.styles,a=n.dynamic;return e(o,a),null};return t},gr={left:0,top:0,right:0,gap:0},lt=function(e){return parseInt(e||"",10)||0},xr=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[lt(n),lt(o),lt(a)]},br=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return gr;var t=xr(e),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-n+t[2]-t[0])}},yr=sn(),Ee="data-scroll-locked",Sr=function(e,t,n,o){var a=e.left,s=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(nr,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(c,"px ").concat(o,`;
  }
  body[`).concat(Ee,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fe,` {
    right: `).concat(c,"px ").concat(o,`;
  }
  
  .`).concat(Be,` {
    margin-right: `).concat(c,"px ").concat(o,`;
  }
  
  .`).concat(Fe," .").concat(Fe,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Be," .").concat(Be,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Ee,`] {
    `).concat(or,": ").concat(c,`px;
  }
`)},Kt=function(){var e=parseInt(document.body.getAttribute(Ee)||"0",10);return isFinite(e)?e:0},Er=function(){u.useEffect(function(){return document.body.setAttribute(Ee,(Kt()+1).toString()),function(){var e=Kt()-1;e<=0?document.body.removeAttribute(Ee):document.body.setAttribute(Ee,e.toString())}},[])},Cr=function(e){var t=e.noRelative,n=e.noImportant,o=e.gapMode,a=o===void 0?"margin":o;Er();var s=u.useMemo(function(){return br(a)},[a]);return u.createElement(yr,{styles:Sr(s,!t,a,n?"":"!important")})},mt=!1;if(typeof window<"u")try{var ke=Object.defineProperty({},"passive",{get:function(){return mt=!0,!0}});window.addEventListener("test",ke,ke),window.removeEventListener("test",ke,ke)}catch{mt=!1}var be=mt?{passive:!1}:!1,wr=function(e){return e.tagName==="TEXTAREA"},cn=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!wr(e)&&n[t]==="visible")},Tr=function(e){return cn(e,"overflowY")},Nr=function(e){return cn(e,"overflowX")},$t=function(e,t){var n=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var a=ln(e,o);if(a){var s=un(e,o),l=s[1],c=s[2];if(l>c)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},Pr=function(e){var t=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;return[t,n,o]},Rr=function(e){var t=e.scrollLeft,n=e.scrollWidth,o=e.clientWidth;return[t,n,o]},ln=function(e,t){return e==="v"?Tr(t):Nr(t)},un=function(e,t){return e==="v"?Pr(t):Rr(t)},jr=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ir=function(e,t,n,o,a){var s=jr(e,window.getComputedStyle(t).direction),l=s*o,c=n.target,v=t.contains(c),x=!1,y=l>0,g=0,w=0;do{if(!c)break;var P=un(e,c),I=P[0],h=P[1],b=P[2],C=h-b-s*I;(I||C)&&ln(e,c)&&(g+=C,w+=I);var E=c.parentNode;c=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!v&&c!==document.body||v&&(t.contains(c)||t===c));return(y&&Math.abs(g)<1||!y&&Math.abs(w)<1)&&(x=!0),x},Me=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ut=function(e){return[e.deltaX,e.deltaY]},Wt=function(e){return e&&"current"in e?e.current:e},_r=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ar=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Dr=0,ye=[];function kr(e){var t=u.useRef([]),n=u.useRef([0,0]),o=u.useRef(),a=u.useState(Dr++)[0],s=u.useState(sn)[0],l=u.useRef(e);u.useEffect(function(){l.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var h=tr([e.lockRef.current],(e.shards||[]).map(Wt),!0).filter(Boolean);return h.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),h.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=u.useCallback(function(h,b){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!l.current.allowPinchZoom;var C=Me(h),E=n.current,T="deltaX"in h?h.deltaX:E[0]-C[0],N="deltaY"in h?h.deltaY:E[1]-C[1],m,A=h.target,k=Math.abs(T)>Math.abs(N)?"h":"v";if("touches"in h&&k==="h"&&A.type==="range")return!1;var B=$t(k,A);if(!B)return!0;if(B?m=k:(m=k==="v"?"h":"v",B=$t(k,A)),!B)return!1;if(!o.current&&"changedTouches"in h&&(T||N)&&(o.current=m),!m)return!0;var G=o.current||m;return Ir(G,b,h,G==="h"?T:N)},[]),v=u.useCallback(function(h){var b=h;if(!(!ye.length||ye[ye.length-1]!==s)){var C="deltaY"in b?Ut(b):Me(b),E=t.current.filter(function(m){return m.name===b.type&&(m.target===b.target||b.target===m.shadowParent)&&_r(m.delta,C)})[0];if(E&&E.should){b.cancelable&&b.preventDefault();return}if(!E){var T=(l.current.shards||[]).map(Wt).filter(Boolean).filter(function(m){return m.contains(b.target)}),N=T.length>0?c(b,T[0]):!l.current.noIsolation;N&&b.cancelable&&b.preventDefault()}}},[]),x=u.useCallback(function(h,b,C,E){var T={name:h,delta:b,target:C,should:E,shadowParent:Mr(C)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(N){return N!==T})},1)},[]),y=u.useCallback(function(h){n.current=Me(h),o.current=void 0},[]),g=u.useCallback(function(h){x(h.type,Ut(h),h.target,c(h,e.lockRef.current))},[]),w=u.useCallback(function(h){x(h.type,Me(h),h.target,c(h,e.lockRef.current))},[]);u.useEffect(function(){return ye.push(s),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:w}),document.addEventListener("wheel",v,be),document.addEventListener("touchmove",v,be),document.addEventListener("touchstart",y,be),function(){ye=ye.filter(function(h){return h!==s}),document.removeEventListener("wheel",v,be),document.removeEventListener("touchmove",v,be),document.removeEventListener("touchstart",y,be)}},[]);var P=e.removeScrollBar,I=e.inert;return u.createElement(u.Fragment,null,I?u.createElement(s,{styles:Ar(a)}):null,P?u.createElement(Cr,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Mr(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Or=ur(an,kr);var Ye=u.forwardRef(function(e,t){return u.createElement(ze,Q({},e,{ref:t,sideCar:Or}))});Ye.classNames=ze.classNames;var Vr=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Se=new WeakMap,Oe=new WeakMap,Ve={},ut=0,dn=function(e){return e&&(e.host||dn(e.parentNode))},Lr=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=dn(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Fr=function(e,t,n,o){var a=Lr(t,Array.isArray(e)?e:[e]);Ve[n]||(Ve[n]=new WeakMap);var s=Ve[n],l=[],c=new Set,v=new Set(a),x=function(g){!g||c.has(g)||(c.add(g),x(g.parentNode))};a.forEach(x);var y=function(g){!g||v.has(g)||Array.prototype.forEach.call(g.children,function(w){if(c.has(w))y(w);else try{var P=w.getAttribute(o),I=P!==null&&P!=="false",h=(Se.get(w)||0)+1,b=(s.get(w)||0)+1;Se.set(w,h),s.set(w,b),l.push(w),h===1&&I&&Oe.set(w,!0),b===1&&w.setAttribute(n,"true"),I||w.setAttribute(o,"true")}catch(C){console.error("aria-hidden: cannot operate on ",w,C)}})};return y(t),c.clear(),ut++,function(){l.forEach(function(g){var w=Se.get(g)-1,P=s.get(g)-1;Se.set(g,w),s.set(g,P),w||(Oe.has(g)||g.removeAttribute(o),Oe.delete(g)),P||g.removeAttribute(n)}),ut--,ut||(Se=new WeakMap,Se=new WeakMap,Oe=new WeakMap,Ve={})}},Rt=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),a=Vr(e);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live], script"))),Fr(o,a,n,"aria-hidden")):function(){return null}},qe="Dialog",[fn]=je(qe),[Br,J]=fn(qe),hn=e=>{const{__scopeDialog:t,children:n,open:o,defaultOpen:a,onOpenChange:s,modal:l=!0}=e,c=u.useRef(null),v=u.useRef(null),[x,y]=Re({prop:o,defaultProp:a??!1,onChange:s,caller:qe});return i.jsx(Br,{scope:t,triggerRef:c,contentRef:v,contentId:de(),titleId:de(),descriptionId:de(),open:x,onOpenChange:y,onOpenToggle:u.useCallback(()=>y(g=>!g),[y]),modal:l,children:n})};hn.displayName=qe;var pn="DialogTrigger",vn=u.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=J(pn,n),s=F(t,a.triggerRef);return i.jsx(O.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":_t(a.open),...o,ref:s,onClick:D(e.onClick,a.onOpenToggle)})});vn.displayName=pn;var jt="DialogPortal",[Hr,mn]=fn(jt,{forceMount:void 0}),gn=e=>{const{__scopeDialog:t,forceMount:n,children:o,container:a}=e,s=J(jt,t);return i.jsx(Hr,{scope:t,forceMount:n,children:u.Children.map(o,l=>i.jsx(Ie,{present:n||s.open,children:i.jsx(Ge,{asChild:!0,container:a,children:l})}))})};gn.displayName=jt;var He="DialogOverlay",xn=u.forwardRef((e,t)=>{const n=mn(He,e.__scopeDialog),{forceMount:o=n.forceMount,...a}=e,s=J(He,e.__scopeDialog);return s.modal?i.jsx(Ie,{present:o||s.open,children:i.jsx($r,{...a,ref:t})}):null});xn.displayName=He;var Kr=Pe("DialogOverlay.RemoveScroll"),$r=u.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=J(He,n);return i.jsx(Ye,{as:Kr,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(O.div,{"data-state":_t(a.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),fe="DialogContent",bn=u.forwardRef((e,t)=>{const n=mn(fe,e.__scopeDialog),{forceMount:o=n.forceMount,...a}=e,s=J(fe,e.__scopeDialog);return i.jsx(Ie,{present:o||s.open,children:s.modal?i.jsx(Ur,{...a,ref:t}):i.jsx(Wr,{...a,ref:t})})});bn.displayName=fe;var Ur=u.forwardRef((e,t)=>{const n=J(fe,e.__scopeDialog),o=u.useRef(null),a=F(t,n.contentRef,o);return u.useEffect(()=>{const s=o.current;if(s)return Rt(s)},[]),i.jsx(yn,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:D(e.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:D(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&s.preventDefault()}),onFocusOutside:D(e.onFocusOutside,s=>s.preventDefault())})}),Wr=u.forwardRef((e,t)=>{const n=J(fe,e.__scopeDialog),o=u.useRef(!1),a=u.useRef(!1);return i.jsx(yn,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(o.current||n.triggerRef.current?.focus(),s.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=s.target;n.triggerRef.current?.contains(l)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),yn=u.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:s,...l}=e,c=J(fe,n),v=u.useRef(null),x=F(t,v);return Pt(),i.jsxs(i.Fragment,{children:[i.jsx(We,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Tt,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":_t(c.open),...l,ref:x,onDismiss:()=>c.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(Gr,{titleId:c.titleId}),i.jsx(Yr,{contentRef:v,descriptionId:c.descriptionId})]})]})}),It="DialogTitle",Sn=u.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=J(It,n);return i.jsx(O.h2,{id:a.titleId,...o,ref:t})});Sn.displayName=It;var En="DialogDescription",Cn=u.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=J(En,n);return i.jsx(O.p,{id:a.descriptionId,...o,ref:t})});Cn.displayName=En;var wn="DialogClose",Tn=u.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=J(wn,n);return i.jsx(O.button,{type:"button",...o,ref:t,onClick:D(e.onClick,()=>a.onOpenChange(!1))})});Tn.displayName=wn;function _t(e){return e?"open":"closed"}var Nn="DialogTitleWarning",[Ta,Pn]=Oo(Nn,{contentName:fe,titleName:It,docsSlug:"dialog"}),Gr=({titleId:e})=>{const t=Pn(Nn),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},zr="DialogDescriptionWarning",Yr=({contentRef:e,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pn(zr).contentName}}.`;return u.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(o))},[o,e,t]),null},qr=hn,Xr=vn,Zr=gn,Jr=xn,Qr=bn,ei=Sn,ti=Cn,ni=Tn;function Rn(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Ke(e,[t,n]){return Math.min(n,Math.max(t,e))}var Xe="Popover",[jn]=je(Xe,[Ue]),_e=Ue(),[oi,re]=jn(Xe),In=e=>{const{__scopePopover:t,children:n,open:o,defaultOpen:a,onOpenChange:s,modal:l=!1}=e,c=_e(t),v=u.useRef(null),[x,y]=u.useState(!1),[g,w]=Re({prop:o,defaultProp:a??!1,onChange:s,caller:Xe});return i.jsx(Yt,{...c,children:i.jsx(oi,{scope:t,contentId:de(),triggerRef:v,open:g,onOpenChange:w,onOpenToggle:u.useCallback(()=>w(P=>!P),[w]),hasCustomAnchor:x,onCustomAnchorAdd:u.useCallback(()=>y(!0),[]),onCustomAnchorRemove:u.useCallback(()=>y(!1),[]),modal:l,children:n})})};In.displayName=Xe;var _n="PopoverAnchor",ri=u.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,a=re(_n,n),s=_e(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=a;return u.useEffect(()=>(l(),()=>c()),[l,c]),i.jsx(Nt,{...s,...o,ref:t})});ri.displayName=_n;var An="PopoverTrigger",Dn=u.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,a=re(An,n),s=_e(n),l=F(t,a.triggerRef),c=i.jsx(O.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Bn(a.open),...o,ref:l,onClick:D(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?c:i.jsx(Nt,{asChild:!0,...s,children:c})});Dn.displayName=An;var At="PopoverPortal",[ii,ai]=jn(At,{forceMount:void 0}),kn=e=>{const{__scopePopover:t,forceMount:n,children:o,container:a}=e,s=re(At,t);return i.jsx(ii,{scope:t,forceMount:n,children:i.jsx(Ie,{present:n||s.open,children:i.jsx(Ge,{asChild:!0,container:a,children:o})})})};kn.displayName=At;var Ce="PopoverContent",Mn=u.forwardRef((e,t)=>{const n=ai(Ce,e.__scopePopover),{forceMount:o=n.forceMount,...a}=e,s=re(Ce,e.__scopePopover);return i.jsx(Ie,{present:o||s.open,children:s.modal?i.jsx(ci,{...a,ref:t}):i.jsx(li,{...a,ref:t})})});Mn.displayName=Ce;var si=Pe("PopoverContent.RemoveScroll"),ci=u.forwardRef((e,t)=>{const n=re(Ce,e.__scopePopover),o=u.useRef(null),a=F(t,o),s=u.useRef(!1);return u.useEffect(()=>{const l=o.current;if(l)return Rt(l)},[]),i.jsx(Ye,{as:si,allowPinchZoom:!0,children:i.jsx(On,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:D(e.onCloseAutoFocus,l=>{l.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:D(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,v=c.button===0&&c.ctrlKey===!0,x=c.button===2||v;s.current=x},{checkForDefaultPrevented:!1}),onFocusOutside:D(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),li=u.forwardRef((e,t)=>{const n=re(Ce,e.__scopePopover),o=u.useRef(!1),a=u.useRef(!1);return i.jsx(On,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(o.current||n.triggerRef.current?.focus(),s.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=s.target;n.triggerRef.current?.contains(l)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),On=u.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:v,onFocusOutside:x,onInteractOutside:y,...g}=e,w=re(Ce,n),P=_e(n);return Pt(),i.jsx(We,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Tt,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:y,onEscapeKeyDown:c,onPointerDownOutside:v,onFocusOutside:x,onDismiss:()=>w.onOpenChange(!1),children:i.jsx(Xt,{"data-state":Bn(w.open),role:"dialog",id:w.contentId,...P,...g,ref:t,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Vn="PopoverClose",Ln=u.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,a=re(Vn,n);return i.jsx(O.button,{type:"button",...o,ref:t,onClick:D(e.onClick,()=>a.onOpenChange(!1))})});Ln.displayName=Vn;var ui="PopoverArrow",Fn=u.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,a=_e(n);return i.jsx(qt,{...a,...o,ref:t})});Fn.displayName=ui;function Bn(e){return e?"open":"closed"}var Hn=In,Kn=Dn,$n=kn,Un=Mn,di=Ln,fi=Fn,hi=[" ","Enter","ArrowUp","ArrowDown"],pi=[" ","Enter"],he="Select",[Ze,Je,vi]=en(he),[we]=je(he,[vi,Ue]),Qe=Ue(),[mi,ie]=we(he),[gi,xi]=we(he),Wn=e=>{const{__scopeSelect:t,children:n,open:o,defaultOpen:a,onOpenChange:s,value:l,defaultValue:c,onValueChange:v,dir:x,name:y,autoComplete:g,disabled:w,required:P,form:I}=e,h=Qe(t),[b,C]=u.useState(null),[E,T]=u.useState(null),[N,m]=u.useState(!1),A=tn(x),[k,B]=Re({prop:o,defaultProp:a??!1,onChange:s,caller:he}),[G,z]=Re({prop:l,defaultProp:c,onChange:v,caller:he}),M=u.useRef(null),H=b?I||!!b.closest("form"):!0,[q,$]=u.useState(new Set),U=Array.from(q).map(V=>V.props.value).join(";");return i.jsx(Yt,{...h,children:i.jsxs(mi,{required:P,scope:t,trigger:b,onTriggerChange:C,valueNode:E,onValueNodeChange:T,valueNodeHasChildren:N,onValueNodeHasChildrenChange:m,contentId:de(),value:G,onValueChange:z,open:k,onOpenChange:B,dir:A,triggerPointerDownPosRef:M,disabled:w,children:[i.jsx(Ze.Provider,{scope:t,children:i.jsx(gi,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(V=>{$(K=>new Set(K).add(V))},[]),onNativeOptionRemove:u.useCallback(V=>{$(K=>{const W=new Set(K);return W.delete(V),W})},[]),children:n})}),H?i.jsxs(po,{"aria-hidden":!0,required:P,tabIndex:-1,name:y,autoComplete:g,value:G,onChange:V=>z(V.target.value),disabled:w,form:I,children:[G===void 0?i.jsx("option",{value:""}):null,Array.from(q)]},U):null]})})};Wn.displayName=he;var Gn="SelectTrigger",zn=u.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:o=!1,...a}=e,s=Qe(n),l=ie(Gn,n),c=l.disabled||o,v=F(t,l.onTriggerChange),x=Je(n),y=u.useRef("touch"),[g,w,P]=mo(h=>{const b=x().filter(T=>!T.disabled),C=b.find(T=>T.value===l.value),E=go(b,h,C);E!==void 0&&l.onValueChange(E.value)}),I=h=>{c||(l.onOpenChange(!0),P()),h&&(l.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return i.jsx(Nt,{asChild:!0,...s,children:i.jsx(O.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":vo(l.value)?"":void 0,...a,ref:v,onClick:D(a.onClick,h=>{h.currentTarget.focus(),y.current!=="mouse"&&I(h)}),onPointerDown:D(a.onPointerDown,h=>{y.current=h.pointerType;const b=h.target;b.hasPointerCapture(h.pointerId)&&b.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(I(h),h.preventDefault())}),onKeyDown:D(a.onKeyDown,h=>{const b=g.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&w(h.key),!(b&&h.key===" ")&&hi.includes(h.key)&&(I(),h.preventDefault())})})})});zn.displayName=Gn;var Yn="SelectValue",qn=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:a,children:s,placeholder:l="",...c}=e,v=ie(Yn,n),{onValueNodeHasChildrenChange:x}=v,y=s!==void 0,g=F(t,v.onValueNodeChange);return ee(()=>{x(y)},[x,y]),i.jsx(O.span,{...c,ref:g,style:{pointerEvents:"none"},children:vo(v.value)?i.jsx(i.Fragment,{children:l}):s})});qn.displayName=Yn;var bi="SelectIcon",yi=u.forwardRef((e,t)=>{const{__scopeSelect:n,children:o,...a}=e;return i.jsx(O.span,{"aria-hidden":!0,...a,ref:t,children:o||"▼"})});yi.displayName=bi;var Si="SelectPortal",Xn=e=>i.jsx(Ge,{asChild:!0,...e});Xn.displayName=Si;var pe="SelectContent",Zn=u.forwardRef((e,t)=>{const n=ie(pe,e.__scopeSelect),[o,a]=u.useState();if(ee(()=>{a(new DocumentFragment)},[]),!n.open){const s=o;return s?zt.createPortal(i.jsx(Jn,{scope:e.__scopeSelect,children:i.jsx(Ze.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(Qn,{...e,ref:t})});Zn.displayName=pe;var Z=10,[Jn,ae]=we(pe),Ei="SelectContentImpl",Ci=Pe("SelectContent.RemoveScroll"),Qn=u.forwardRef((e,t)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:l,side:c,sideOffset:v,align:x,alignOffset:y,arrowPadding:g,collisionBoundary:w,collisionPadding:P,sticky:I,hideWhenDetached:h,avoidCollisions:b,...C}=e,E=ie(pe,n),[T,N]=u.useState(null),[m,A]=u.useState(null),k=F(t,_=>N(_)),[B,G]=u.useState(null),[z,M]=u.useState(null),H=Je(n),[q,$]=u.useState(!1),U=u.useRef(!1);u.useEffect(()=>{if(T)return Rt(T)},[T]),Pt();const V=u.useCallback(_=>{const[f,...r]=H().map(S=>S.ref.current),[d]=r.slice(-1),p=document.activeElement;for(const S of _)if(S===p||(S?.scrollIntoView({block:"nearest"}),S===f&&m&&(m.scrollTop=0),S===d&&m&&(m.scrollTop=m.scrollHeight),S?.focus(),document.activeElement!==p))return},[H,m]),K=u.useCallback(()=>V([B,T]),[V,B,T]);u.useEffect(()=>{q&&K()},[q,K]);const{onOpenChange:W,triggerPointerDownPosRef:X}=E;u.useEffect(()=>{if(T){let _={x:0,y:0};const f=d=>{_={x:Math.abs(Math.round(d.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(d.pageY)-(X.current?.y??0))}},r=d=>{_.x<=10&&_.y<=10?d.preventDefault():T.contains(d.target)||W(!1),document.removeEventListener("pointermove",f),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",f),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",f),document.removeEventListener("pointerup",r,{capture:!0})}}},[T,W,X]),u.useEffect(()=>{const _=()=>W(!1);return window.addEventListener("blur",_),window.addEventListener("resize",_),()=>{window.removeEventListener("blur",_),window.removeEventListener("resize",_)}},[W]);const[ve,se]=mo(_=>{const f=H().filter(p=>!p.disabled),r=f.find(p=>p.ref.current===document.activeElement),d=go(f,_,r);d&&setTimeout(()=>d.ref.current.focus())}),me=u.useCallback((_,f,r)=>{const d=!U.current&&!r;(E.value!==void 0&&E.value===f||d)&&(G(_),d&&(U.current=!0))},[E.value]),ge=u.useCallback(()=>T?.focus(),[T]),te=u.useCallback((_,f,r)=>{const d=!U.current&&!r;(E.value!==void 0&&E.value===f||d)&&M(_)},[E.value]),xe=o==="popper"?gt:eo,ce=xe===gt?{side:c,sideOffset:v,align:x,alignOffset:y,arrowPadding:g,collisionBoundary:w,collisionPadding:P,sticky:I,hideWhenDetached:h,avoidCollisions:b}:{};return i.jsx(Jn,{scope:n,content:T,viewport:m,onViewportChange:A,itemRefCallback:me,selectedItem:B,onItemLeave:ge,itemTextRefCallback:te,focusSelectedItem:K,selectedItemText:z,position:o,isPositioned:q,searchRef:ve,children:i.jsx(Ye,{as:Ci,allowPinchZoom:!0,children:i.jsx(We,{asChild:!0,trapped:E.open,onMountAutoFocus:_=>{_.preventDefault()},onUnmountAutoFocus:D(a,_=>{E.trigger?.focus({preventScroll:!0}),_.preventDefault()}),children:i.jsx(Tt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:_=>_.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:i.jsx(xe,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:_=>_.preventDefault(),...C,...ce,onPlaced:()=>$(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:D(C.onKeyDown,_=>{const f=_.ctrlKey||_.altKey||_.metaKey;if(_.key==="Tab"&&_.preventDefault(),!f&&_.key.length===1&&se(_.key),["ArrowUp","ArrowDown","Home","End"].includes(_.key)){let d=H().filter(p=>!p.disabled).map(p=>p.ref.current);if(["ArrowUp","End"].includes(_.key)&&(d=d.slice().reverse()),["ArrowUp","ArrowDown"].includes(_.key)){const p=_.target,S=d.indexOf(p);d=d.slice(S+1)}setTimeout(()=>V(d)),_.preventDefault()}})})})})})})});Qn.displayName=Ei;var wi="SelectItemAlignedPosition",eo=u.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:o,...a}=e,s=ie(pe,n),l=ae(pe,n),[c,v]=u.useState(null),[x,y]=u.useState(null),g=F(t,k=>y(k)),w=Je(n),P=u.useRef(!1),I=u.useRef(!0),{viewport:h,selectedItem:b,selectedItemText:C,focusSelectedItem:E}=l,T=u.useCallback(()=>{if(s.trigger&&s.valueNode&&c&&x&&h&&b&&C){const k=s.trigger.getBoundingClientRect(),B=x.getBoundingClientRect(),G=s.valueNode.getBoundingClientRect(),z=C.getBoundingClientRect();if(s.dir!=="rtl"){const p=z.left-B.left,S=G.left-p,j=k.left-S,R=k.width+j,L=Math.max(R,B.width),Y=window.innerWidth-Z,ne=Ke(S,[Z,Math.max(Z,Y-L)]);c.style.minWidth=R+"px",c.style.left=ne+"px"}else{const p=B.right-z.right,S=window.innerWidth-G.right-p,j=window.innerWidth-k.right-S,R=k.width+j,L=Math.max(R,B.width),Y=window.innerWidth-Z,ne=Ke(S,[Z,Math.max(Z,Y-L)]);c.style.minWidth=R+"px",c.style.right=ne+"px"}const M=w(),H=window.innerHeight-Z*2,q=h.scrollHeight,$=window.getComputedStyle(x),U=parseInt($.borderTopWidth,10),V=parseInt($.paddingTop,10),K=parseInt($.borderBottomWidth,10),W=parseInt($.paddingBottom,10),X=U+V+q+W+K,ve=Math.min(b.offsetHeight*5,X),se=window.getComputedStyle(h),me=parseInt(se.paddingTop,10),ge=parseInt(se.paddingBottom,10),te=k.top+k.height/2-Z,xe=H-te,ce=b.offsetHeight/2,_=b.offsetTop+ce,f=U+V+_,r=X-f;if(f<=te){const p=M.length>0&&b===M[M.length-1].ref.current;c.style.bottom="0px";const S=x.clientHeight-h.offsetTop-h.offsetHeight,j=Math.max(xe,ce+(p?ge:0)+S+K),R=f+j;c.style.height=R+"px"}else{const p=M.length>0&&b===M[0].ref.current;c.style.top="0px";const j=Math.max(te,U+h.offsetTop+(p?me:0)+ce)+r;c.style.height=j+"px",h.scrollTop=f-te+h.offsetTop}c.style.margin=`${Z}px 0`,c.style.minHeight=ve+"px",c.style.maxHeight=H+"px",o?.(),requestAnimationFrame(()=>P.current=!0)}},[w,s.trigger,s.valueNode,c,x,h,b,C,s.dir,o]);ee(()=>T(),[T]);const[N,m]=u.useState();ee(()=>{x&&m(window.getComputedStyle(x).zIndex)},[x]);const A=u.useCallback(k=>{k&&I.current===!0&&(T(),E?.(),I.current=!1)},[T,E]);return i.jsx(Ni,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:P,onScrollButtonChange:A,children:i.jsx("div",{ref:v,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:i.jsx(O.div,{...a,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});eo.displayName=wi;var Ti="SelectPopperPosition",gt=u.forwardRef((e,t)=>{const{__scopeSelect:n,align:o="start",collisionPadding:a=Z,...s}=e,l=Qe(n);return i.jsx(Xt,{...l,...s,ref:t,align:o,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gt.displayName=Ti;var[Ni,Dt]=we(pe,{}),xt="SelectViewport",to=u.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:o,...a}=e,s=ae(xt,n),l=Dt(xt,n),c=F(t,s.onViewportChange),v=u.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),i.jsx(Ze.Slot,{scope:n,children:i.jsx(O.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:D(a.onScroll,x=>{const y=x.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:w}=l;if(w?.current&&g){const P=Math.abs(v.current-y.scrollTop);if(P>0){const I=window.innerHeight-Z*2,h=parseFloat(g.style.minHeight),b=parseFloat(g.style.height),C=Math.max(h,b);if(C<I){const E=C+P,T=Math.min(I,E),N=E-T;g.style.height=T+"px",g.style.bottom==="0px"&&(y.scrollTop=N>0?N:0,g.style.justifyContent="flex-end")}}}v.current=y.scrollTop})})})]})});to.displayName=xt;var no="SelectGroup",[Pi,Ri]=we(no),oo=u.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,a=de();return i.jsx(Pi,{scope:n,id:a,children:i.jsx(O.div,{role:"group","aria-labelledby":a,...o,ref:t})})});oo.displayName=no;var ro="SelectLabel",ji=u.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,a=Ri(ro,n);return i.jsx(O.div,{id:a.id,...o,ref:t})});ji.displayName=ro;var $e="SelectItem",[Ii,io]=we($e),ao=u.forwardRef((e,t)=>{const{__scopeSelect:n,value:o,disabled:a=!1,textValue:s,...l}=e,c=ie($e,n),v=ae($e,n),x=c.value===o,[y,g]=u.useState(s??""),[w,P]=u.useState(!1),I=F(t,E=>v.itemRefCallback?.(E,o,a)),h=de(),b=u.useRef("touch"),C=()=>{a||(c.onValueChange(o),c.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Ii,{scope:n,value:o,disabled:a,textId:h,isSelected:x,onItemTextChange:u.useCallback(E=>{g(T=>T||(E?.textContent??"").trim())},[]),children:i.jsx(Ze.ItemSlot,{scope:n,value:o,disabled:a,textValue:y,children:i.jsx(O.div,{role:"option","aria-labelledby":h,"data-highlighted":w?"":void 0,"aria-selected":x&&w,"data-state":x?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:I,onFocus:D(l.onFocus,()=>P(!0)),onBlur:D(l.onBlur,()=>P(!1)),onClick:D(l.onClick,()=>{b.current!=="mouse"&&C()}),onPointerUp:D(l.onPointerUp,()=>{b.current==="mouse"&&C()}),onPointerDown:D(l.onPointerDown,E=>{b.current=E.pointerType}),onPointerMove:D(l.onPointerMove,E=>{b.current=E.pointerType,a?v.onItemLeave?.():b.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:D(l.onPointerLeave,E=>{E.currentTarget===document.activeElement&&v.onItemLeave?.()}),onKeyDown:D(l.onKeyDown,E=>{v.searchRef?.current!==""&&E.key===" "||(pi.includes(E.key)&&C(),E.key===" "&&E.preventDefault())})})})})});ao.displayName=$e;var Ne="SelectItemText",so=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:a,...s}=e,l=ie(Ne,n),c=ae(Ne,n),v=io(Ne,n),x=xi(Ne,n),[y,g]=u.useState(null),w=F(t,C=>g(C),v.onItemTextChange,C=>c.itemTextRefCallback?.(C,v.value,v.disabled)),P=y?.textContent,I=u.useMemo(()=>i.jsx("option",{value:v.value,disabled:v.disabled,children:P},v.value),[v.disabled,v.value,P]),{onNativeOptionAdd:h,onNativeOptionRemove:b}=x;return ee(()=>(h(I),()=>b(I)),[h,b,I]),i.jsxs(i.Fragment,{children:[i.jsx(O.span,{id:v.textId,...s,ref:w}),v.isSelected&&l.valueNode&&!l.valueNodeHasChildren?zt.createPortal(s.children,l.valueNode):null]})});so.displayName=Ne;var co="SelectItemIndicator",lo=u.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return io(co,n).isSelected?i.jsx(O.span,{"aria-hidden":!0,...o,ref:t}):null});lo.displayName=co;var bt="SelectScrollUpButton",uo=u.forwardRef((e,t)=>{const n=ae(bt,e.__scopeSelect),o=Dt(bt,e.__scopeSelect),[a,s]=u.useState(!1),l=F(t,o.onScrollButtonChange);return ee(()=>{if(n.viewport&&n.isPositioned){let c=function(){const x=v.scrollTop>0;s(x)};const v=n.viewport;return c(),v.addEventListener("scroll",c),()=>v.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),a?i.jsx(ho,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:v}=n;c&&v&&(c.scrollTop=c.scrollTop-v.offsetHeight)}}):null});uo.displayName=bt;var yt="SelectScrollDownButton",fo=u.forwardRef((e,t)=>{const n=ae(yt,e.__scopeSelect),o=Dt(yt,e.__scopeSelect),[a,s]=u.useState(!1),l=F(t,o.onScrollButtonChange);return ee(()=>{if(n.viewport&&n.isPositioned){let c=function(){const x=v.scrollHeight-v.clientHeight,y=Math.ceil(v.scrollTop)<x;s(y)};const v=n.viewport;return c(),v.addEventListener("scroll",c),()=>v.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),a?i.jsx(ho,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:v}=n;c&&v&&(c.scrollTop=c.scrollTop+v.offsetHeight)}}):null});fo.displayName=yt;var ho=u.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:o,...a}=e,s=ae("SelectScrollButton",n),l=u.useRef(null),c=Je(n),v=u.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return u.useEffect(()=>()=>v(),[v]),ee(()=>{c().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),i.jsx(O.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:D(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(o,50))}),onPointerMove:D(a.onPointerMove,()=>{s.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(o,50))}),onPointerLeave:D(a.onPointerLeave,()=>{v()})})}),_i="SelectSeparator",Ai=u.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return i.jsx(O.div,{"aria-hidden":!0,...o,ref:t})});Ai.displayName=_i;var St="SelectArrow",Di=u.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,a=Qe(n),s=ie(St,n),l=ae(St,n);return s.open&&l.position==="popper"?i.jsx(qt,{...a,...o,ref:t}):null});Di.displayName=St;var ki="SelectBubbleInput",po=u.forwardRef(({__scopeSelect:e,value:t,...n},o)=>{const a=u.useRef(null),s=F(o,a),l=Rn(t);return u.useEffect(()=>{const c=a.current;if(!c)return;const v=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(v,"value").set;if(l!==t&&y){const g=new Event("change",{bubbles:!0});y.call(c,t),c.dispatchEvent(g)}},[l,t]),i.jsx(O.select,{...n,style:{...Vo,...n.style},ref:s,defaultValue:t})});po.displayName=ki;function vo(e){return e===""||e===void 0}function mo(e){const t=pt(e),n=u.useRef(""),o=u.useRef(0),a=u.useCallback(l=>{const c=n.current+l;t(c),(function v(x){n.current=x,window.clearTimeout(o.current),x!==""&&(o.current=window.setTimeout(()=>v(""),1e3))})(c)},[t]),s=u.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,a,s]}function go(e,t,n){const a=t.length>1&&Array.from(t).every(x=>x===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=Mi(e,Math.max(s,0));a.length===1&&(l=l.filter(x=>x!==n));const v=l.find(x=>x.textValue.toLowerCase().startsWith(a.toLowerCase()));return v!==n?v:void 0}function Mi(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var Oi=Wn,Vi=zn,Li=qn,Fi=Xn,Bi=Zn,Hi=to,Ki=oo,$i=ao,Ui=so,Wi=lo,Gi=uo,zi=fo,xo=["PageUp","PageDown"],bo=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],yo={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Te="Slider",[Et,Yi,qi]=en(Te),[So]=je(Te,[qi]),[Xi,et]=So(Te),Eo=u.forwardRef((e,t)=>{const{name:n,min:o=0,max:a=100,step:s=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:v=0,defaultValue:x=[o],value:y,onValueChange:g=()=>{},onValueCommit:w=()=>{},inverted:P=!1,form:I,...h}=e,b=u.useRef(new Set),C=u.useRef(0),T=l==="horizontal"?Zi:Ji,[N=[],m]=Re({prop:y,defaultProp:x,onChange:M=>{[...b.current][C.current]?.focus(),g(M)}}),A=u.useRef(N);function k(M){const H=oa(N,M);z(M,H)}function B(M){z(M,C.current)}function G(){const M=A.current[C.current];N[C.current]!==M&&w(N)}function z(M,H,{commit:q}={commit:!1}){const $=sa(s),U=ca(Math.round((M-o)/s)*s+o,$),V=Ke(U,[o,a]);m((K=[])=>{const W=ta(K,V,H);if(aa(W,v*s)){C.current=W.indexOf(V);const X=String(W)!==String(K);return X&&q&&w(W),X?W:K}else return K})}return i.jsx(Xi,{scope:e.__scopeSlider,name:n,disabled:c,min:o,max:a,valueIndexToChangeRef:C,thumbs:b.current,values:N,orientation:l,form:I,children:i.jsx(Et.Provider,{scope:e.__scopeSlider,children:i.jsx(Et.Slot,{scope:e.__scopeSlider,children:i.jsx(T,{"aria-disabled":c,"data-disabled":c?"":void 0,...h,ref:t,onPointerDown:D(h.onPointerDown,()=>{c||(A.current=N)}),min:o,max:a,inverted:P,onSlideStart:c?void 0:k,onSlideMove:c?void 0:B,onSlideEnd:c?void 0:G,onHomeKeyDown:()=>!c&&z(o,0,{commit:!0}),onEndKeyDown:()=>!c&&z(a,N.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:H})=>{if(!c){const U=xo.includes(M.key)||M.shiftKey&&bo.includes(M.key)?10:1,V=C.current,K=N[V],W=s*U*H;z(K+W,V,{commit:!0})}}})})})})});Eo.displayName=Te;var[Co,wo]=So(Te,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Zi=u.forwardRef((e,t)=>{const{min:n,max:o,dir:a,inverted:s,onSlideStart:l,onSlideMove:c,onSlideEnd:v,onStepKeyDown:x,...y}=e,[g,w]=u.useState(null),P=F(t,T=>w(T)),I=u.useRef(void 0),h=tn(a),b=h==="ltr",C=b&&!s||!b&&s;function E(T){const N=I.current||g.getBoundingClientRect(),m=[0,N.width],k=kt(m,C?[n,o]:[o,n]);return I.current=N,k(T-N.left)}return i.jsx(Co,{scope:e.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:i.jsx(To,{dir:h,"data-orientation":"horizontal",...y,ref:P,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const N=E(T.clientX);l?.(N)},onSlideMove:T=>{const N=E(T.clientX);c?.(N)},onSlideEnd:()=>{I.current=void 0,v?.()},onStepKeyDown:T=>{const m=yo[C?"from-left":"from-right"].includes(T.key);x?.({event:T,direction:m?-1:1})}})})}),Ji=u.forwardRef((e,t)=>{const{min:n,max:o,inverted:a,onSlideStart:s,onSlideMove:l,onSlideEnd:c,onStepKeyDown:v,...x}=e,y=u.useRef(null),g=F(t,y),w=u.useRef(void 0),P=!a;function I(h){const b=w.current||y.current.getBoundingClientRect(),C=[0,b.height],T=kt(C,P?[o,n]:[n,o]);return w.current=b,T(h-b.top)}return i.jsx(Co,{scope:e.__scopeSlider,startEdge:P?"bottom":"top",endEdge:P?"top":"bottom",size:"height",direction:P?1:-1,children:i.jsx(To,{"data-orientation":"vertical",...x,ref:g,style:{...x.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:h=>{const b=I(h.clientY);s?.(b)},onSlideMove:h=>{const b=I(h.clientY);l?.(b)},onSlideEnd:()=>{w.current=void 0,c?.()},onStepKeyDown:h=>{const C=yo[P?"from-bottom":"from-top"].includes(h.key);v?.({event:h,direction:C?-1:1})}})})}),To=u.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:o,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:v,...x}=e,y=et(Te,n);return i.jsx(O.span,{...x,ref:t,onKeyDown:D(e.onKeyDown,g=>{g.key==="Home"?(l(g),g.preventDefault()):g.key==="End"?(c(g),g.preventDefault()):xo.concat(bo).includes(g.key)&&(v(g),g.preventDefault())}),onPointerDown:D(e.onPointerDown,g=>{const w=g.target;w.setPointerCapture(g.pointerId),g.preventDefault(),y.thumbs.has(w)?w.focus():o(g)}),onPointerMove:D(e.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&a(g)}),onPointerUp:D(e.onPointerUp,g=>{const w=g.target;w.hasPointerCapture(g.pointerId)&&(w.releasePointerCapture(g.pointerId),s(g))})})}),No="SliderTrack",Po=u.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,a=et(No,n);return i.jsx(O.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...o,ref:t})});Po.displayName=No;var Ct="SliderRange",Ro=u.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,a=et(Ct,n),s=wo(Ct,n),l=u.useRef(null),c=F(t,l),v=a.values.length,x=a.values.map(w=>_o(w,a.min,a.max)),y=v>1?Math.min(...x):0,g=100-Math.max(...x);return i.jsx(O.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...o,ref:c,style:{...e.style,[s.startEdge]:y+"%",[s.endEdge]:g+"%"}})});Ro.displayName=Ct;var wt="SliderThumb",jo=u.forwardRef((e,t)=>{const n=Yi(e.__scopeSlider),[o,a]=u.useState(null),s=F(t,c=>a(c)),l=u.useMemo(()=>o?n().findIndex(c=>c.ref.current===o):-1,[n,o]);return i.jsx(Qi,{...e,ref:s,index:l})}),Qi=u.forwardRef((e,t)=>{const{__scopeSlider:n,index:o,name:a,...s}=e,l=et(wt,n),c=wo(wt,n),[v,x]=u.useState(null),y=F(t,E=>x(E)),g=v?l.form||!!v.closest("form"):!0,w=Lo(v),P=l.values[o],I=P===void 0?0:_o(P,l.min,l.max),h=na(o,l.values.length),b=w?.[c.size],C=b?ra(b,I,c.direction):0;return u.useEffect(()=>{if(v)return l.thumbs.add(v),()=>{l.thumbs.delete(v)}},[v,l.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${I}% + ${C}px)`},children:[i.jsx(Et.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(O.span,{role:"slider","aria-label":e["aria-label"]||h,"aria-valuemin":l.min,"aria-valuenow":P,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...s,ref:y,style:P===void 0?{display:"none"}:e.style,onFocus:D(e.onFocus,()=>{l.valueIndexToChangeRef.current=o})})}),g&&i.jsx(Io,{name:a??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:P},o)]})});jo.displayName=wt;var ea="RadioBubbleInput",Io=u.forwardRef(({__scopeSlider:e,value:t,...n},o)=>{const a=u.useRef(null),s=F(a,o),l=Rn(t);return u.useEffect(()=>{const c=a.current;if(!c)return;const v=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(v,"value").set;if(l!==t&&y){const g=new Event("input",{bubbles:!0});y.call(c,t),c.dispatchEvent(g)}},[l,t]),i.jsx(O.input,{style:{display:"none"},...n,ref:s,defaultValue:t})});Io.displayName=ea;function ta(e=[],t,n){const o=[...e];return o[n]=t,o.sort((a,s)=>a-s)}function _o(e,t,n){const s=100/(n-t)*(e-t);return Ke(s,[0,100])}function na(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function oa(e,t){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-t)),o=Math.min(...n);return n.indexOf(o)}function ra(e,t,n){const o=e/2,s=kt([0,50],[0,o]);return(o-s(t)*n)*n}function ia(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function aa(e,t){if(t>0){const n=ia(e);return Math.min(...n)>=t}return!0}function kt(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(n-e[0])}}function sa(e){return(String(e).split(".")[1]||"").length}function ca(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var la=Eo,ua=Po,da=Ro,fa=jo;function ha({slot:e,list:t,value:n,onChange:o}){return i.jsxs(Oi,{value:String(n.id),onValueChange:a=>{o(e,Number(a))},children:[i.jsx(Vi,{className:"SelectTrigger btn-bg p-2 border rounded middle-of-row second-row","aria-label":"Duration selector",children:i.jsx(Li,{})}),i.jsx(Fi,{children:i.jsxs(Bi,{className:"SelectContent",children:[i.jsx(Gi,{className:"SelectScrollButton",children:i.jsx("i",{className:"bi bi-chevron-up"})}),i.jsx(Hi,{className:"SelectViewport",children:i.jsx(Ki,{children:t.map(a=>i.jsxs($i,{className:"SelectItem",value:String(a.id),"data-state":a.id===n.id?"checked":"unchecked",children:[i.jsx(Ui,{children:a.name}),i.jsx(Wi,{className:"SelectItemIndicator",children:i.jsx("i",{className:"bi bi-check"})})]},`item-${a.id}`))})}),i.jsx(zi,{className:"SelectScrollButton",children:i.jsx("i",{className:"bi bi-chevron-down"})})]})})]})}function dt({children:e}){return i.jsxs(Fo,{children:[i.jsx(Bo,{asChild:!0,children:i.jsx("i",{className:"bi bi-info-circle fs-6 ms-1"})}),i.jsx(Ho,{className:"TooltipContent",children:e})]})}function pa({slot:e,value:t,onChange:n}){const[o,a]=u.useState(t);function s(l){n(e,l[0])}return i.jsxs(Hn,{children:[i.jsx(Kn,{asChild:!0,children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row third-row w-5rem","aria-label":"Set Velocity",children:t})}),i.jsx($n,{children:i.jsxs(Un,{className:"PopoverContent",sideOffset:5,children:[i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[i.jsx("p",{className:"Text",style:{marginBottom:10},children:"Velocity"}),i.jsx("input",{type:"text",readOnly:!0,value:o}),i.jsx("form",{children:i.jsxs(la,{className:"SliderRoot",defaultValue:[o],onValueChange:l=>a(l[0]),onValueCommit:s,max:127,min:0,step:1,children:[i.jsx(ua,{className:"SliderTrack",children:i.jsx(da,{className:"SliderRange"})}),i.jsx(fa,{className:"SliderThumb","aria-label":"Volume"})]})})]}),i.jsx(di,{className:"PopoverClose","aria-label":"Close",children:i.jsx("i",{className:"bi bi-x"})}),i.jsx(fi,{className:"PopoverArrow"})]})})]})}function va({slot:e,pitch:t,onChange:n}){const[o,a]=u.useState(t),[s,l]=u.useState(!1);function c(){n(e,o.midiValue),l(!1)}function v(y){console.log(`handleOctaveChange == value: ${y}`);const g=o.setOctave(y);console.log(`octave newPitch: ${JSON.stringify(g)}`),a(g)}function x(y){console.log(`handlePitchChange == value: ${y}`);const g=o.setPitchClass(y);console.log(`pitchClass newPitch: ${JSON.stringify(g)}`),a(g)}return i.jsxs(Hn,{modal:!0,open:s,onOpenChange:l,children:[i.jsx(Kn,{asChild:!0,children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row","aria-label":"Select pitch",children:t.toString()})}),i.jsx($n,{children:i.jsxs(Un,{className:"PopoverContent",sideOffset:5,children:[i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[i.jsx("p",{className:"Text",style:{marginBottom:10},children:"Select Pitch"}),i.jsxs("form",{children:[i.jsx("label",{htmlFor:"pitch",className:"form-label pe-2",children:"Pitch"}),i.jsx("input",{id:"pitch",type:"text",readOnly:!0,value:o.toString()})]}),i.jsx(ma,{value:o.octave,onValueChange:v}),i.jsx("table",{className:"p-2",children:i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("td",{children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row",onClick:()=>x("C"),children:"C"})}),i.jsx("td",{children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row",onClick:()=>x("C#"),children:"C#"})}),i.jsx("td",{children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row",onClick:()=>x("D"),children:"D"})})]}),i.jsxs("tr",{children:[i.jsx("td",{children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row",onClick:()=>x("D#"),children:"D#"})}),i.jsx("td",{children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row",onClick:()=>x("E"),children:"E"})}),i.jsx("td",{children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row",onClick:()=>x("F"),children:"F"})})]}),i.jsxs("tr",{children:[i.jsx("td",{children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row",onClick:()=>x("F#"),children:"F#"})}),i.jsx("td",{children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row",onClick:()=>x("G"),children:"G"})}),i.jsx("td",{children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row",onClick:()=>x("G#"),children:"G#"})})]}),i.jsxs("tr",{children:[i.jsx("td",{children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row",onClick:()=>x("A"),children:"A"})}),i.jsx("td",{children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row",onClick:()=>x("A#"),children:"A#"})}),i.jsx("td",{children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row",onClick:()=>x("B"),children:"B"})})]}),i.jsx("tr",{children:i.jsx("td",{children:i.jsx("button",{className:"btn-bg p-2 border rounded middle-of-row",onClick:()=>x("R"),children:"Rest"})})})]})})]}),i.jsx("hr",{}),i.jsx("button",{className:"btn btn-success",onClick:c,children:"Ok"}),i.jsx("button",{className:"btn btn-danger float-end",onClick:()=>l(!1),children:"Cancel"})]})})]})}function ma({value:e,onValueChange:t}){return i.jsx(i.Fragment,{children:i.jsxs("form",{children:[i.jsx("label",{htmlFor:"octave",className:"form-label pe-2",children:"Octave"}),i.jsxs("select",{id:"octave",value:e,onChange:n=>t(Number(n.target.value)),children:[i.jsx("option",{value:"-1",children:"-1"}),i.jsx("option",{value:"0",children:"0"}),i.jsx("option",{value:"1",children:"1"}),i.jsx("option",{value:"2",children:"2"}),i.jsx("option",{value:"3",children:"3"}),i.jsx("option",{value:"4",children:"4"}),i.jsx("option",{value:"5",children:"5"}),i.jsx("option",{value:"6",children:"6"}),i.jsx("option",{value:"7",children:"7"}),i.jsx("option",{value:"8",children:"8"}),i.jsx("option",{value:"9",children:"9"})]})]})})}var ft,Gt;function ga(){if(Gt)return ft;Gt=1;var e={VERSION:"3.1.1",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_SMTPE_OFFSET:84},t=(f,r)=>Array(Math.abs(r)+1).join(f);function n(f){return f!==null&&typeof f=="object"&&typeof f.name=="string"}function o(f){return f!==null&&typeof f=="object"&&typeof f.step=="number"&&typeof f.alt=="number"}var a=[0,2,4,-1,1,3,5],s=a.map(f=>Math.floor(f*7/12));function l(f){const{step:r,alt:d,oct:p,dir:S=1}=f,j=a[r]+7*d;if(p===void 0)return[S*j];const R=p-s[r]-4*d;return[S*j,S*R]}var c={empty:!0,name:"",pc:"",acc:""},v=new Map,x=f=>"CDEFGAB".charAt(f),y=f=>f<0?t("b",-f):t("#",f),g=f=>f[0]==="b"?-f.length:f.length;function w(f){const r=JSON.stringify(f),d=v.get(r);if(d)return d;const p=typeof f=="string"?C(f):o(f)?w(E(f)):n(f)?w(f.name):c;return v.set(r,p),p}var P=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function I(f){const r=P.exec(f);return[r[1].toUpperCase(),r[2].replace(/x/g,"##"),r[3],r[4]]}var h=(f,r)=>(f%r+r)%r,b=[0,2,4,5,7,9,11];function C(f){const r=I(f);if(r[0]===""||r[3]!=="")return c;const d=r[0],p=r[1],S=r[2],j=(d.charCodeAt(0)+3)%7,R=g(p),L=S.length?+S:void 0,Y=l({step:j,alt:R,oct:L}),ne=d+p+S,tt=d+p,Ae=(b[j]+R+120)%12,le=L===void 0?h(b[j]+R,12)-1188:b[j]+R+12*(L+1),nt=le>=0&&le<=127?le:null,Ao=L===void 0?null:Math.pow(2,(le-69)/12)*440;return{empty:!1,acc:p,alt:R,chroma:Ae,coord:Y,freq:Ao,height:le,letter:d,midi:nt,name:ne,oct:L,pc:tt,step:j}}function E(f){const{step:r,alt:d,oct:p}=f,S=x(r);if(!S)return"";const j=S+y(d);return p||p===0?j+p:j}function T(f){return+f>=0&&+f<=127}function N(f){if(T(f))return+f;const r=w(f);return r.empty?null:r.midi}var m=(function(){function f(){}return f.version=function(){return e.VERSION},f.stringToBytes=function(r){return r.split("").map(function(d){return d.charCodeAt(0)})},f.isNumeric=function(r){return!isNaN(parseFloat(r))&&isFinite(r)},f.getPitch=function(r,d){return d===void 0&&(d="C4"),60-N(d)+N(r)},f.numberToVariableLength=function(r){r=Math.round(r);for(var d=r&127;r=r>>7;)d<<=8,d|=r&127|128;for(var p=[];p.push(d&255),d&128;)d>>=8;return p},f.stringByteCount=function(r){return encodeURI(r).split(/%..|./).length-1},f.numberFromBytes=function(r){var d="",p;return r.forEach(function(S){p=S.toString(16),p.length==1&&(p="0"+p),d+=p}),parseInt(d,16)},f.numberToBytes=function(r,d){d=d||1;var p=r.toString(16);p.length&1&&(p="0"+p);var S=p.match(/.{2}/g),j=S.map(function(R){return parseInt(R,16)});if(j.length<d)for(;d-j.length>0;)j.unshift(0);return j},f.toArray=function(r){return Array.isArray(r)?r:[r]},f.convertVelocity=function(r){return r=r>100?100:r,Math.round(r/100*127)},f.getTickDuration=function(r){if(Array.isArray(r))return r.map(function(j){return f.getTickDuration(j)}).reduce(function(j,R){return j+R},0);if(r=r.toString(),r.toLowerCase().charAt(0)==="t"){var d=parseInt(r.substring(1));if(isNaN(d)||d<0)throw new Error(r+" is not a valid duration.");return d}var p=f.numberFromBytes(e.HEADER_CHUNK_DIVISION),S=p*f.getDurationMultiplier(r);return f.getRoundedIfClose(S)},f.getRoundedIfClose=function(r){var d=Math.round(r);return Math.abs(d-r)<1e-6?d:r},f.getPrecisionLoss=function(r){var d=Math.round(r);return d-r},f.getDurationMultiplier=function(r){if(r==="0")return 0;var d=r.match(/^(?<dotted>d+)?(?<base>\d+)(?:t(?<tuplet>\d*))?/);if(d){var p=Number(d.groups.base),S=p===1||(p&p-1)===0;if(S){var j=p/4,R=1/j,L=d.groups,Y=L.dotted,ne=L.tuplet;if(Y){var tt=Y.length,Ae=Math.pow(2,tt);R=R+R*((Ae-1)/Ae)}if(typeof ne=="string"){var le=R*2,nt=Number(ne||"3");R=le/nt}return R}}throw new Error(r+" is not a valid duration.")},f})(),A=(function(){function f(r){this.channel=r.channel-1||0,this.controllerValue=r.controllerValue,this.controllerNumber=r.controllerNumber,this.delta=r.delta||0,this.name="ControllerChangeEvent",this.status=176,this.data=m.numberToVariableLength(r.delta).concat(this.status|this.channel,this.controllerNumber,this.controllerValue)}return f})(),k=(function(){function f(r){this.delta=r.delta||0,this.name="CopyrightEvent",this.text=r.text,this.type=2;var d=m.stringToBytes(this.text);this.data=m.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,m.numberToVariableLength(d.length),d)}return f})(),B=(function(){function f(r){this.delta=r.delta||0,this.name="CuePointEvent",this.text=r.text,this.type=7;var d=m.stringToBytes(this.text);this.data=m.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,m.numberToVariableLength(d.length),d)}return f})(),G=(function(){function f(r){this.delta=r?.delta||0,this.name="EndTrackEvent",this.type=[47,0],this.data=m.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type)}return f})(),z=(function(){function f(r){this.delta=r.delta||0,this.name="InstrumentNameEvent",this.text=r.text,this.type=4;var d=m.stringToBytes(this.text);this.data=m.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,m.numberToVariableLength(d.length),d)}return f})(),M=(function(){function f(r,d){this.name="KeySignatureEvent",this.type=89;var p=d||0;if(r=r||0,typeof d>"u"){var S=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],j=r.length,R=r||"C";if(r[0]===r[0].toLowerCase()&&(p=1),j>1)switch(r.charAt(j-1)){case"m":p=1,R=r.charAt(0).toLowerCase(),R=R.concat(r.substring(1,j-1));break;case"-":p=1,R=r.charAt(0).toLowerCase(),R=R.concat(r.substring(1,j-1));break;case"M":p=0,R=r.charAt(0).toUpperCase(),R=R.concat(r.substring(1,j-1));break;case"+":p=0,R=r.charAt(0).toUpperCase(),R=R.concat(r.substring(1,j-1));break}var L=S[p].indexOf(R);r=L===-1?0:L-7}this.data=m.numberToVariableLength(0).concat(e.META_EVENT_ID,this.type,[2],m.numberToBytes(r,1),m.numberToBytes(p,1))}return f})(),H=(function(){function f(r){this.delta=r.delta||0,this.name="LyricEvent",this.text=r.text,this.type=5;var d=m.stringToBytes(this.text);this.data=m.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,m.numberToVariableLength(d.length),d)}return f})(),q=(function(){function f(r){this.delta=r.delta||0,this.name="MarkerEvent",this.text=r.text,this.type=6;var d=m.stringToBytes(this.text);this.data=m.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,m.numberToVariableLength(d.length),d)}return f})(),$=(function(){function f(r){this.name="NoteOnEvent",this.channel=r.channel||1,this.pitch=r.pitch,this.wait=r.wait||0,this.velocity=r.velocity||50,this.tick=r.tick||null,this.delta=null,this.data=r.data,this.status=144}return f.prototype.buildData=function(r,d,p){return p===void 0&&(p={}),this.data=[],this.tick?(this.tick=m.getRoundedIfClose(this.tick),r.tickPointer==0&&(this.delta=this.tick)):(this.delta=m.getTickDuration(this.wait),this.tick=m.getRoundedIfClose(r.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=m.getRoundedIfClose(this.delta-d),this.data=m.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.status|this.channel-1,m.getPitch(this.pitch,p.middleC),m.convertVelocity(this.velocity)),this},f})(),U=(function(){function f(r){this.name="NoteOffEvent",this.channel=r.channel||1,this.pitch=r.pitch,this.velocity=r.velocity||50,this.tick=r.tick||null,this.data=r.data,this.delta=r.delta||m.getTickDuration(r.duration),this.status=128}return f.prototype.buildData=function(r,d,p){return p===void 0&&(p={}),this.tick===null&&(this.tick=m.getRoundedIfClose(this.delta+r.tickPointer)),this.deltaWithPrecisionCorrection=m.getRoundedIfClose(this.delta-d),this.data=m.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.status|this.channel-1,m.getPitch(this.pitch,p.middleC),m.convertVelocity(this.velocity)),this},f})(),V=(function(){function f(r){this.data=[],this.name="NoteEvent",this.pitch=m.toArray(r.pitch),this.channel=r.channel||1,this.duration=r.duration||"4",this.grace=r.grace,this.repeat=r.repeat||1,this.sequential=r.sequential||!1,this.tick=r.startTick||r.tick||null,this.velocity=r.velocity||50,this.wait=r.wait||0,this.tickDuration=m.getTickDuration(this.duration),this.restDuration=m.getTickDuration(this.wait),this.events=[]}return f.prototype.buildData=function(){var r=this;if(this.data=[],this.grace){var d=1;this.grace=m.toArray(this.grace),this.grace.forEach(function(){var S=new f({pitch:r.grace,duration:"T"+d});r.data=r.data.concat(S.data)})}if(this.sequential)for(var p=0;p<this.repeat;p++)this.pitch.forEach(function(j,R){var L=new $({channel:r.channel,wait:R>0?0:r.wait,delta:R>0?0:m.getTickDuration(r.wait),velocity:r.velocity,pitch:j,tick:r.tick}),Y=new U({channel:r.channel,duration:r.duration,velocity:r.velocity,pitch:j});r.events.push(L,Y)});else for(var p=0;p<this.repeat;p++)this.pitch.forEach(function(S,j){var R;j==0?R=new $({channel:r.channel,wait:r.wait,delta:m.getTickDuration(r.wait),velocity:r.velocity,pitch:S,tick:r.tick}):R=new $({channel:r.channel,wait:0,delta:0,velocity:r.velocity,pitch:S,tick:r.tick}),r.events.push(R)}),this.pitch.forEach(function(S,j){var R;j==0?R=new U({channel:r.channel,duration:r.duration,velocity:r.velocity,pitch:S,tick:r.tick!==null?m.getTickDuration(r.duration)+r.tick:null}):R=new U({channel:r.channel,duration:0,velocity:r.velocity,pitch:S,tick:r.tick!==null?m.getTickDuration(r.duration)+r.tick:null}),r.events.push(R)});return this},f})(),K=(function(){function f(r){this.channel=r.channel||0,this.delta=r.delta||0,this.name="PitchBendEvent",this.status=224;var d=this.scale14bits(r.bend),p=d&127,S=d>>7&127;this.data=m.numberToVariableLength(this.delta).concat(this.status|this.channel,p,S)}return f.prototype.scale14bits=function(r){return r<=0?Math.floor(16384*(r+1)/2):Math.floor(16383*(r+1)/2)},f})(),W=(function(){function f(r){this.channel=r.channel||0,this.delta=r.delta||0,this.instrument=r.instrument,this.status=192,this.name="ProgramChangeEvent",this.data=m.numberToVariableLength(this.delta).concat(this.status|this.channel,this.instrument)}return f})(),X=(function(){function f(r){this.bpm=r.bpm,this.delta=r.delta||0,this.tick=r.tick,this.name="TempoEvent",this.type=81;var d=Math.round(6e7/this.bpm);this.data=m.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,[3],m.numberToBytes(d,3))}return f})(),ve=(function(){function f(r){this.delta=r.delta||0,this.text=r.text,this.name="TextEvent",this.type=1;var d=m.stringToBytes(this.text);this.data=m.numberToVariableLength(r.delta).concat(e.META_EVENT_ID,this.type,m.numberToVariableLength(d.length),d)}return f})(),se=(function(){function f(r,d,p,S){this.name="TimeSignatureEvent",this.type=88,this.data=m.numberToVariableLength(0).concat(e.META_EVENT_ID,this.type,[4],m.numberToBytes(r,1),m.numberToBytes(Math.log2(d),1),m.numberToBytes(p||24,1),m.numberToBytes(S||8,1))}return f})(),me=(function(){function f(r){this.delta=r.delta||0,this.name="TrackNameEvent",this.text=r.text,this.type=3;var d=m.stringToBytes(this.text);this.data=m.numberToVariableLength(this.delta).concat(e.META_EVENT_ID,this.type,m.numberToVariableLength(d.length),d)}return f})(),ge=(function(){function f(){this.type=e.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return f.prototype.addEvent=function(r,d){var p=this;return m.toArray(r).forEach(function(S,j){if(S instanceof V){if(typeof d=="function"){var R=d(j,S);typeof R=="object"&&Object.assign(S,R)}S.tick!==null?p.explicitTickEvents.push(S):S.buildData().events.forEach(function(L){return p.events.push(L)})}else p.events.push(S)}),this},f.prototype.buildData=function(r){var d=this;r===void 0&&(r={}),this.data=[],this.size=[],this.tickPointer=0;var p=0;return this.events.forEach(function(S){if(S instanceof $||S instanceof U){var j=S.buildData(d,p,r);p=m.getPrecisionLoss(S.deltaWithPrecisionCorrection||0),d.data=d.data.concat(j.data),d.tickPointer=m.getRoundedIfClose(S.tick)}else S instanceof X&&(d.tickPointer=m.getRoundedIfClose(S.tick)),d.data=d.data.concat(S.data)}),this.mergeExplicitTickEvents(),(!this.events.length||!(this.events[this.events.length-1]instanceof G))&&(this.data=this.data.concat(new G().data)),this.size=m.numberToBytes(this.data.length,4),this},f.prototype.mergeExplicitTickEvents=function(){var r=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(d,p){return d.tick-p.tick}),this.explicitTickEvents.forEach(function(d){d.buildData().events.forEach(function(p){return p.buildData(r)}),d.events.forEach(function(p){return r.mergeSingleEvent(p)})}),this.explicitTickEvents=[],this.buildData())},f.prototype.mergeTrack=function(r){var d=this;return this.buildData(),r.buildData().events.forEach(function(p){return d.mergeSingleEvent(p)}),this},f.prototype.mergeSingleEvent=function(r){if(!this.events.length){this.addEvent(r);return}for(var d,p=0;p<this.events.length&&!(this.events[p].tick>r.tick);p++)d=p;var S=d+1;r.delta=r.tick-this.events[d].tick,this.events.splice(S,0,r);for(var p=S+1;p<this.events.length;p++)this.events[p].delta=this.events[p].tick-this.events[p-1].tick},f.prototype.removeEventsByName=function(r){var d=this;return this.events.forEach(function(p,S){p.name===r&&d.events.splice(S,1)}),this},f.prototype.setTempo=function(r,d){return d===void 0&&(d=0),this.addEvent(new X({bpm:r,tick:d}))},f.prototype.setTimeSignature=function(r,d,p,S){return this.addEvent(new se(r,d,p,S))},f.prototype.setKeySignature=function(r,d){return this.addEvent(new M(r,d))},f.prototype.addText=function(r){return this.addEvent(new ve({text:r}))},f.prototype.addCopyright=function(r){return this.addEvent(new k({text:r}))},f.prototype.addTrackName=function(r){return this.addEvent(new me({text:r}))},f.prototype.addInstrumentName=function(r){return this.addEvent(new z({text:r}))},f.prototype.addMarker=function(r){return this.addEvent(new q({text:r}))},f.prototype.addCuePoint=function(r){return this.addEvent(new B({text:r}))},f.prototype.addLyric=function(r){return this.addEvent(new H({text:r}))},f.prototype.polyModeOn=function(){var r=new $({data:[0,176,126,0]});return this.addEvent(r)},f.prototype.setPitchBend=function(r){return this.addEvent(new K({bend:r}))},f.prototype.controllerChange=function(r,d,p,S){return this.addEvent(new A({controllerNumber:r,controllerValue:d,channel:p,delta:S}))},f})(),te=(function(){function f(){}return f.prototype.trackFromVoice=function(r,d){var p=this;d===void 0&&(d={addRenderedAccidentals:!1});var S=new ge,j=[];return r.tickables.forEach(function(R){R.noteType==="n"?(S.addEvent(new V({pitch:R.keys.map(function(L,Y){return p.convertPitch(L,Y,R,d.addRenderedAccidentals)}),duration:p.convertDuration(R),wait:j})),j=[]):R.noteType==="r"&&j.push(p.convertDuration(R))}),j.length>0&&S.addEvent(new V({pitch:"[c4]",duration:"0",wait:j,velocity:"0"})),S},f.prototype.convertPitch=function(r,d,p,S){var j;S===void 0&&(S=!1);var R=r.split("/"),L=R[0].substring(1).replace("n","");return S&&((j=p.getAccidentals())===null||j===void 0||j.forEach(function(Y){Y.index===d&&(Y.type==="n"?L="":L+=Y.type)})),R[0][0]+L+R[1]},f.prototype.convertDuration=function(r){return"d".repeat(r.dots)+this.convertBaseDuration(r.duration)+(r.tuplet?"t"+r.tuplet.num_notes:"")},f.prototype.convertBaseDuration=function(r){switch(r){case"w":return"1";case"h":return"2";case"q":return"4";default:return r}},f})(),xe=(function(){function f(r){this.type=e.HEADER_CHUNK_TYPE;var d=r>1?e.HEADER_CHUNK_FORMAT1:e.HEADER_CHUNK_FORMAT0;this.data=d.concat(m.numberToBytes(r,2),e.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}return f})(),ce=(function(){function f(r,d){d===void 0&&(d={}),this.tracks=m.toArray(r),this.options=d}return f.prototype.buildData=function(){var r=this,d=[];return d.push(new xe(this.tracks.length)),this.tracks.forEach(function(p){d.push(p.buildData(r.options))}),d},f.prototype.buildFile=function(){var r=[];return this.buildData().forEach(function(d){return r=r.concat(d.type,d.size,d.data)}),new Uint8Array(r)},f.prototype.base64=function(){if(typeof btoa=="function"){for(var r="",d=this.buildFile(),p=d.byteLength,S=0;S<p;S++)r+=String.fromCharCode(d[S]);return btoa(r)}return Buffer.from(this.buildFile()).toString("base64")},f.prototype.dataUri=function(){return"data:audio/midi;base64,"+this.base64()},f.prototype.setOption=function(r,d){return this.options[r]=d,this},f.prototype.stdout=function(){return process.stdout.write(Buffer.from(this.buildFile()))},f})(),_={Constants:e,ControllerChangeEvent:A,CopyrightEvent:k,CuePointEvent:B,EndTrackEvent:G,InstrumentNameEvent:z,KeySignatureEvent:M,LyricEvent:H,MarkerEvent:q,NoteOnEvent:$,NoteOffEvent:U,NoteEvent:V,PitchBendEvent:K,ProgramChangeEvent:W,TempoEvent:X,TextEvent:ve,TimeSignatureEvent:se,Track:ge,TrackNameEvent:me,Utils:m,VexFlow:te,Writer:ce};return ft=_,ft}var xa=ga();const ht=ko(xa);function ba(e,t,n,o){console.log(`pitches : ${e.length}, durations : ${t.length}, velocities : ${n.length} bpm : ${o}`),console.log(`durations: ${JSON.stringify(t)}`);const a=new ht.Track;a.setTempo(o),a.setTimeSignature(4,4,24,8);let s=0,l=0,c=0,v=0,x=!0,y=0;function g(){s++,l=s%e.length,c=s%t.length,v=s%n.length,l===0&&c===0&&v===0&&(console.log("setting keepGoing to false - all indices are 0"),x=!1),s>500&&(console.log("setting keepGoing to false - index > 500"),x=!1,Uo(1e3))}for(;x;){console.log(`index: ${s}, pitchIndex: ${l}, durationIndex: ${c}, velocityIndex: ${v}`);const w=e[l],P=Math.trunc(t[c]*32);if(w.isRest()){y+=P,g();continue}const I=w.midiValue,h=n[v]*100/127;let b={};y>0&&(b={wait:"T"+String(y)},y=0),console.log(`midiPitch: ${I}, velocity: ${h}, durationTicks: ${P}, waitProp: ${JSON.stringify(b)}`),a.addEvent(new ht.NoteEvent({pitch:I,velocity:h,duration:"T"+String(P),sequential:!0,...b})),g()}return new ht.Writer(a).dataUri()}function ya(){const e=ot(Qt),t=ot(Zt),n=ot(Jt),o=u.useRef(null),[a,s]=u.useState(120);function l(){const c=t.map(g=>vt[g].value),v=ba(e,c,n,a),x=o.current?.value??"my_midi.mid",y=document.createElement("a");y.href=v,y.download=x,y.click(),URL.revokeObjectURL(v)}return i.jsx(i.Fragment,{children:i.jsxs(qr,{children:[i.jsx(Xr,{asChild:!0,children:i.jsx("button",{className:"btn btn-primary",children:"Generate"})}),i.jsxs(Zr,{children:[i.jsx(Jr,{className:"dialog-overlay"}),i.jsxs(Qr,{className:"align-content-center justify-content-center border dialog-content",children:[i.jsx(ei,{children:"Generate Midi"}),i.jsx(ti,{asChild:!0,children:i.jsx("div",{children:i.jsxs("form",{children:[i.jsx("label",{htmlFor:"midiName",className:"form-label pb-0 mb-0",children:"File Name"}),i.jsx("input",{id:"midiName",type:"text",className:"form-control",defaultValue:"my_midi.mid",ref:o}),i.jsx("label",{htmlFor:"midiBPM",className:"form-label pb-0 mb-0 mt-2",children:"BPM"}),i.jsx("input",{id:"midiBPM",type:"number",className:"form-control",value:a,onChange:c=>s(Number(c.target.value))})]})})}),i.jsx("hr",{}),i.jsx("button",{className:"btn btn-primary","aria-label":"Generate",onClick:l,children:"Generate"}),i.jsx(ni,{asChild:!0,children:i.jsx("button",{className:"btn btn-secondary float-end","aria-label":"Close",children:"Close"})})]})]})]})})}function Sa({className:e}){const[t,n]=Le(Qt),[o,a]=Le(Zt),[s,l]=Le(Jt),[c,v]=u.useState(!1);function x(){console.log("add pitch"),n([...t,new Mt])}function y(){console.log("remove pitch"),!(t.length<=1)&&n(t.slice(0,t.length-1))}function g(N,m){console.log(`handleChangePitch == key: ${N}, value: ${m}`);const A=t.slice();A[N]=new Mt(m),n(A)}function w(){console.log("add duration");const N=o.at(-1);console.log(`new_value: ${N}`),a([...o,o.at(-1)??0])}function P(){console.log("remove duration"),!(o.length<=1)&&a(o.slice(0,-1))}function I(N,m){console.log(`handleChangeDuration == key: ${N}, value: ${m}`);const A=o.slice();A[N]=m,a(A)}function h(){console.log("add velocity"),l([...s,s.at(-1)??100])}function b(){console.log("remove velocity"),!(s.length<=1)&&l(s.slice(0,-1))}function C(N,m){console.log(`handleChangeVelocity == slot: ${N}, value: ${m}`);const A=s.slice();A[N]=m,l(A)}const E={display:"grid",gridTemplateColumns:"8rem 1.5rem",gridTemplateRows:"repeat(auto-fill, 4rem)",gridGap:"0.5rem",borderRight:"3px solid black",marginBottom:"1rem"},T={display:"grid",gridGap:"1rem",marginRight:"1rem",gridTemplateColumns:"repeat(auto-fill, 5rem)",gridTemplateRows:"repeat(auto-fill, 4rem)"};return i.jsxs("main",{className:Wo("container d-flex flex-column",e),children:[i.jsxs("section",{className:"SequenceSection d-flex",children:[i.jsxs("div",{style:{height:"16rem",width:"11rem"},children:[i.jsxs("div",{style:E,children:[i.jsxs("div",{className:"p-0 m-0 fs-4 fw-bold align-content-center text-end pe-1",children:["Pitch",i.jsx(dt,{children:"Use the arrow keys to select a pitch"})]}),i.jsxs("div",{className:"d-flex flex-column justify-content-center px-0",children:[i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:x,children:i.jsx("i",{className:"bi bi-caret-up"})}),i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:y,children:i.jsx("i",{className:"bi bi-caret-down"})})]})]}),i.jsxs("div",{style:E,children:[i.jsxs("div",{className:"p-0 m-0 fs-4 fw-bold align-content-center text-end pe-1",children:["Duration",i.jsx(dt,{children:"Each box is a selector. Click to change the duration."})]}),i.jsxs("div",{className:"d-flex flex-column justify-content-center px-0",children:[i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:w,children:i.jsx("i",{className:"bi bi-caret-up"})}),i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:P,children:i.jsx("i",{className:"bi bi-caret-down"})})]})]}),i.jsxs("div",{style:E,children:[i.jsxs("div",{className:"p-0 m-0 fs-4 fw-bold align-content-center text-end pe-1",children:["Velocity",i.jsx(dt,{children:"Each box turns into a slider. Click to change the velocity."})]}),i.jsxs("div",{className:"d-flex flex-column justify-content-center px-0",children:[i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:h,children:i.jsx("i",{className:"bi bi-caret-up"})}),i.jsx("button",{className:"btn btn-primary btn-tiny px-0",onClick:b,children:i.jsx("i",{className:"bi bi-caret-down"})})]})]})]}),i.jsx("div",{className:"col flex-grow overflow-hidden pe-5",children:i.jsxs("div",{className:"w-100 overflow-x-scroll mx-1 ps-1",style:T,children:[t.map((N,m)=>i.jsx(va,{slot:m,pitch:N,onChange:g},`${m}-${N}`)),o.map((N,m)=>{const A=vt[N];return i.jsx(ha,{slot:m,list:vt,value:A,onChange:I},`${m}-${N}`)}),s.map((N,m)=>i.jsx(pa,{slot:m,value:N,onChange:C},`${m}-${N}`))]})})]}),i.jsx("section",{className:"ActionSection row mt-4",children:i.jsx("div",{className:"col",children:i.jsx(ya,{})})})]})}function Ea(){const[e,t]=Le(Ko);function n(){const s=(e+1)%De.length;t(s);const l=De[s];console.log(`newTheme : ${l}, index : ${s}`),document.documentElement.setAttribute("data-bs-theme",l)}const o=De[(e+1)%De.length],a="me-1 bi bi-"+(o==="light"?"brightness-high-fill":"moon-stars");return i.jsxs("header",{className:"d-flex justify-content-between align-items-center w-100 mb-3 bg-gray",children:[i.jsx("img",{src:"/IMG_9131.png",width:"40",height:"40",className:"d-inline-block align-text-top ms-3"}),i.jsx("p",{className:"my-0 mx-3 align-content-center fs-3",children:"SeqGen"}),i.jsxs("button",{className:"btn btn-secondary mx-3 my-2",onClick:n,children:[i.jsx("i",{className:a}),o]})]})}const Na=Mo(function(){return i.jsxs(i.Fragment,{children:[i.jsx("title",{children:"SeqGen"}),i.jsx("meta",{name:"description",content:"The aptly named Sequence Generator"}),i.jsx(Ea,{}),i.jsx(Sa,{className:"mt-5"})]})});export{Na as default};
